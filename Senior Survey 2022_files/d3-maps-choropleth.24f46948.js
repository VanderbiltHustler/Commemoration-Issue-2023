!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,n,e){return t(e={path:n,exports:{},require:function(t,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&e.path)}},e.exports),e.exports}function r(t){if(t.__esModule)return t;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}var o=n(e((function(t){t.exports=function(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t},t.exports.default=t.exports,t.exports.__esModule=!0}))),i=e((function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0})),a=e((function(t){t.exports=function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i=[],a=!0,u=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==e.return||e.return()}finally{if(u)throw o}}return i}},t.exports.default=t.exports,t.exports.__esModule=!0})),u=e((function(t){t.exports=function(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r},t.exports.default=t.exports,t.exports.__esModule=!0})),c=e((function(t){t.exports=function(t,n){if(t){if("string"==typeof t)return u(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,n):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0})),l=e((function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0})),s=n(e((function(t){t.exports=function(t,n){return i(t)||a(t,n)||c(t,n)||l()},t.exports.default=t.exports,t.exports.__esModule=!0}))),f="http://www.w3.org/1999/xhtml",h={svg:"http://www.w3.org/2000/svg",xhtml:f,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function p(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),h.hasOwnProperty(n)?{space:h[n],local:t}:t}function d(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===f&&n.documentElement.namespaceURI===f?n.createElement(t):n.createElementNS(e,t)}}function g(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function v(t){var n=p(t);return(n.local?g:d)(n)}function m(){}function y(t){return null==t?m:function(){return this.querySelector(t)}}function b(){return[]}function w(t){return null==t?b:function(){return this.querySelectorAll(t)}}function _(t){return function(){return this.matches(t)}}function x(t){return new Array(t.length)}function M(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}M.prototype={constructor:M,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function k(t,n,e,r,o,i){for(var a,u=0,c=n.length,l=i.length;u<l;++u)(a=n[u])?(a.__data__=i[u],r[u]=a):e[u]=new M(t,i[u]);for(;u<c;++u)(a=n[u])&&(o[u]=a)}function A(t,n,e,r,o,i,a){var u,c,l,s={},f=n.length,h=i.length,p=new Array(f);for(u=0;u<f;++u)(c=n[u])&&(p[u]=l="$"+a.call(c,c.__data__,u,n),l in s?o[u]=c:s[l]=c);for(u=0;u<h;++u)(c=s[l="$"+a.call(t,i[u],u,i)])?(r[u]=c,c.__data__=i[u],s[l]=null):e[u]=new M(t,i[u]);for(u=0;u<f;++u)(c=n[u])&&s[p[u]]===c&&(o[u]=c)}function S(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function E(t){return function(){this.removeAttribute(t)}}function O(t){return function(){this.removeAttributeNS(t.space,t.local)}}function j(t,n){return function(){this.setAttribute(t,n)}}function $(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function N(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function z(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function P(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function L(t){return function(){this.style.removeProperty(t)}}function T(t,n,e){return function(){this.style.setProperty(t,n,e)}}function D(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function C(t,n){return t.style.getPropertyValue(n)||P(t).getComputedStyle(t,null).getPropertyValue(n)}function R(t){return function(){delete this[t]}}function B(t,n){return function(){this[t]=n}}function q(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function F(t){return t.trim().split(/^|\s+/)}function W(t){return t.classList||new I(t)}function I(t){this._node=t,this._names=F(t.getAttribute("class")||"")}function Y(t,n){for(var e=W(t),r=-1,o=n.length;++r<o;)e.add(n[r])}function H(t,n){for(var e=W(t),r=-1,o=n.length;++r<o;)e.remove(n[r])}function G(t){return function(){Y(this,t)}}function X(t){return function(){H(this,t)}}function U(t,n){return function(){(n.apply(this,arguments)?Y:H)(this,t)}}function V(){this.textContent=""}function Z(t){return function(){this.textContent=t}}function K(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function J(){this.innerHTML=""}function Q(t){return function(){this.innerHTML=t}}function tt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function nt(){this.nextSibling&&this.parentNode.appendChild(this)}function et(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rt(){return null}function ot(){var t=this.parentNode;t&&t.removeChild(this)}function it(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function at(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}I.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ut={},ct=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ut={mouseenter:"mouseover",mouseleave:"mouseout"}));function lt(t,n,e){return t=st(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function st(t,n,e){return function(r){var o=ct;ct=r;try{t.call(this,this.__data__,n,e)}finally{ct=o}}}function ft(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function ht(t){return function(){var n=this.__on;if(n){for(var e,r=0,o=-1,i=n.length;r<i;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++o]=e:this.removeEventListener(e.type,e.listener,e.capture);++o?n.length=o:delete this.__on}}}function pt(t,n,e){var r=ut.hasOwnProperty(t.type)?lt:st;return function(o,i,a){var u,c=this.__on,l=r(n,i,a);if(c)for(var s=0,f=c.length;s<f;++s)if((u=c[s]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=e),void(u.value=n);this.addEventListener(t.type,l,e),u={type:t.type,name:t.name,value:n,listener:l,capture:e},c?c.push(u):this.__on=[u]}}function dt(t,n,e){var r=P(t),o=r.CustomEvent;"function"==typeof o?o=new o(n,e):(o=r.document.createEvent("Event"),e?(o.initEvent(n,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(n,!1,!1)),t.dispatchEvent(o)}function gt(t,n){return function(){return dt(this,t,n)}}function vt(t,n){return function(){return dt(this,t,n.apply(this,arguments))}}var mt=[null];function yt(t,n){this._groups=t,this._parents=n}function bt(){return new yt([[document.documentElement]],mt)}function wt(t){return"string"==typeof t?new yt([[document.querySelector(t)]],[document.documentElement]):new yt([[t]],mt)}function _t(){for(var t,n=ct;t=n.sourceEvent;)n=t;return n}function xt(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[n.clientX-o.left-t.clientLeft,n.clientY-o.top-t.clientTop]}function Mt(t){var n=_t();return n.changedTouches&&(n=n.changedTouches[0]),xt(t,n)}function kt(t,n,e){arguments.length<3&&(e=n,n=_t().changedTouches);for(var r,o=0,i=n?n.length:0;o<i;++o)if((r=n[o]).identifier===e)return xt(t,r);return null}function At(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}yt.prototype=bt.prototype={constructor:yt,select:function(t){"function"!=typeof t&&(t=y(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var i,a,u=n[o],c=u.length,l=r[o]=new Array(c),s=0;s<c;++s)(i=u[s])&&(a=t.call(i,i.__data__,s,u))&&("__data__"in i&&(a.__data__=i.__data__),l[s]=a);return new yt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=w(t));for(var n=this._groups,e=n.length,r=[],o=[],i=0;i<e;++i)for(var a,u=n[i],c=u.length,l=0;l<c;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),o.push(a));return new yt(r,o)},filter:function(t){"function"!=typeof t&&(t=_(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var i,a=n[o],u=a.length,c=r[o]=[],l=0;l<u;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new yt(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each((function(t){d[++s]=t})),d;var e,r=n?A:k,o=this._parents,i=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=i.length,u=new Array(a),c=new Array(a),l=new Array(a),s=0;s<a;++s){var f=o[s],h=i[s],p=h.length,d=t.call(f,f&&f.__data__,s,o),g=d.length,v=c[s]=new Array(g),m=u[s]=new Array(g);r(f,h,v,m,l[s]=new Array(p),d,n);for(var y,b,w=0,_=0;w<g;++w)if(y=v[w]){for(w>=_&&(_=w+1);!(b=m[_])&&++_<g;);y._next=b||null}}return(u=new yt(u,o))._enter=c,u._exit=l,u},enter:function(){return new yt(this._enter||this._groups.map(x),this._parents)},exit:function(){return new yt(this._exit||this._groups.map(x),this._parents)},join:function(t,n,e){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(o=n(o)),null==e?i.remove():e(i),r&&o?r.merge(o).order():o},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,o=e.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var c,l=n[u],s=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new yt(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,o=t[n],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=S);for(var e=this._groups,r=e.length,o=new Array(r),i=0;i<r;++i){for(var a,u=e[i],c=u.length,l=o[i]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(n)}return new yt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var o,i=n[e],a=0,u=i.length;a<u;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,n){var e=p(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?O:E:"function"==typeof n?e.local?z:N:e.local?$:j)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?L:"function"==typeof n?D:T)(t,n,null==e?"":e)):C(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?R:"function"==typeof n?q:B)(t,n)):this.node()[t]},classed:function(t,n){var e=F(t+"");if(arguments.length<2){for(var r=W(this.node()),o=-1,i=e.length;++o<i;)if(!r.contains(e[o]))return!1;return!0}return this.each(("function"==typeof n?U:n?G:X)(e,n))},text:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?K:Z)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?J:("function"==typeof t?tt:Q)(t)):this.node().innerHTML},raise:function(){return this.each(nt)},lower:function(){return this.each(et)},append:function(t){var n="function"==typeof t?t:v(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:v(t),r=null==n?rt:"function"==typeof n?n:y(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ot)},clone:function(t){return this.select(t?at:it)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,o,i=ft(t+""),a=i.length;if(!(arguments.length<2)){for(u=n?pt:ht,null==e&&(e=!1),r=0;r<a;++r)this.each(u(i[r],n,e));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(r=0,c=u[l];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?vt:gt)(t,n))}};var St=function(t){return 1===t.length&&(t=function(t){return function(n,e){return At(t(n),e)}}(t)),{left:function(n,e,r,o){for(null==r&&(r=0),null==o&&(o=n.length);r<o;){var i=r+o>>>1;t(n[i],e)<0?r=i+1:o=i}return r},right:function(n,e,r,o){for(null==r&&(r=0),null==o&&(o=n.length);r<o;){var i=r+o>>>1;t(n[i],e)>0?o=i:r=i+1}return r}}}(At).right;function Et(t,n,e){t=+t,n=+n,e=(o=arguments.length)<2?(n=t,t=0,1):o<3?1:+e;for(var r=-1,o=0|Math.max(0,Math.ceil((n-t)/e)),i=new Array(o);++r<o;)i[r]=t+r*e;return i}var Ot=Math.sqrt(50),jt=Math.sqrt(10),$t=Math.sqrt(2);function Nt(t,n,e){var r=(n-t)/Math.max(0,e),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=Ot?10:i>=jt?5:i>=$t?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Ot?10:i>=jt?5:i>=$t?2:1)}function zt(t){for(var n,e,r,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(e=new Array(a);--o>=0;)for(n=(r=t[o]).length;--n>=0;)e[--a]=r[n];return e}function Pt(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}var Lt="$";function Tt(){}function Dt(t,n){var e=new Tt;if(t instanceof Tt)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,o=-1,i=t.length;if(null==n)for(;++o<i;)e.set(o,t[o]);else for(;++o<i;)e.set(n(r=t[o],o,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function Ct(){}Tt.prototype=Dt.prototype={constructor:Tt,has:function(t){return Lt+t in this},get:function(t){return this[Lt+t]},set:function(t,n){return this[Lt+t]=n,this},remove:function(t){var n=Lt+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===Lt&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===Lt&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===Lt&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===Lt&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===Lt&&++t;return t},empty:function(){for(var t in this)if(t[0]===Lt)return!1;return!0},each:function(t){for(var n in this)n[0]===Lt&&t(this[n],n.slice(1),this)}};var Rt=Dt.prototype;function Bt(t){var n=[];for(var e in t)n.push(t[e]);return n}Ct.prototype=function(t,n){var e=new Ct;if(t instanceof Ct)t.each((function(t){e.add(t)}));else if(t){var r=-1,o=t.length;if(null==n)for(;++r<o;)e.add(t[r]);else for(;++r<o;)e.add(n(t[r],r,t))}return e}.prototype={constructor:Ct,has:Rt.has,add:function(t){return this[Lt+(t+="")]=t,this},remove:Rt.remove,clear:Rt.clear,values:Rt.keys,size:Rt.size,empty:Rt.empty,each:Rt.each};var qt=Array.prototype,Ft=qt.map,Wt=qt.slice,It={name:"implicit"};function Yt(){var t=Dt(),n=[],e=[],r=It;function o(o){var i=o+"",a=t.get(i);if(!a){if(r!==It)return r;t.set(i,a=n.push(o))}return e[(a-1)%e.length]}return o.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Dt();for(var r,i,a=-1,u=e.length;++a<u;)t.has(i=(r=e[a])+"")||t.set(i,n.push(r));return o},o.range=function(t){return arguments.length?(e=Wt.call(t),o):e.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return Yt(n,e).unknown(r)},Pt.apply(o,arguments),o}var Ht=n(e((function(t){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=n=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0})));function Gt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Xt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ut(){}var Vt=.7,Zt=1/Vt,Kt="\\s*([+-]?\\d+)\\s*",Jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tn=/^#([0-9a-f]{3,8})$/,nn=new RegExp("^rgb\\("+[Kt,Kt,Kt]+"\\)$"),en=new RegExp("^rgb\\("+[Qt,Qt,Qt]+"\\)$"),rn=new RegExp("^rgba\\("+[Kt,Kt,Kt,Jt]+"\\)$"),on=new RegExp("^rgba\\("+[Qt,Qt,Qt,Jt]+"\\)$"),an=new RegExp("^hsl\\("+[Jt,Qt,Qt]+"\\)$"),un=new RegExp("^hsla\\("+[Jt,Qt,Qt,Jt]+"\\)$"),cn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ln(){return this.rgb().formatHex()}function sn(){return this.rgb().formatRgb()}function fn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=tn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?hn(n):3===e?new vn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?pn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?pn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=nn.exec(t))?new vn(n[1],n[2],n[3],1):(n=en.exec(t))?new vn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=rn.exec(t))?pn(n[1],n[2],n[3],n[4]):(n=on.exec(t))?pn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=an.exec(t))?wn(n[1],n[2]/100,n[3]/100,1):(n=un.exec(t))?wn(n[1],n[2]/100,n[3]/100,n[4]):cn.hasOwnProperty(t)?hn(cn[t]):"transparent"===t?new vn(NaN,NaN,NaN,0):null}function hn(t){return new vn(t>>16&255,t>>8&255,255&t,1)}function pn(t,n,e,r){return r<=0&&(t=n=e=NaN),new vn(t,n,e,r)}function dn(t){return t instanceof Ut||(t=fn(t)),t?new vn((t=t.rgb()).r,t.g,t.b,t.opacity):new vn}function gn(t,n,e,r){return 1===arguments.length?dn(t):new vn(t,n,e,null==r?1:r)}function vn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function mn(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)}function yn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function bn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function wn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new xn(t,n,e,r)}function _n(t){if(t instanceof xn)return new xn(t.h,t.s,t.l,t.opacity);if(t instanceof Ut||(t=fn(t)),!t)return new xn;if(t instanceof xn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,o=Math.min(n,e,r),i=Math.max(n,e,r),a=NaN,u=i-o,c=(i+o)/2;return u?(a=n===i?(e-r)/u+6*(e<r):e===i?(r-n)/u+2:(n-e)/u+4,u/=c<.5?i+o:2-i-o,a*=60):u=c>0&&c<1?0:a,new xn(a,u,c,t.opacity)}function xn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Mn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Gt(Ut,fn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ln,formatHex:ln,formatHsl:function(){return _n(this).formatHsl()},formatRgb:sn,toString:sn}),Gt(vn,gn,Xt(Ut,{brighter:function(t){return t=null==t?Zt:Math.pow(Zt,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Vt:Math.pow(Vt,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mn,formatHex:mn,formatRgb:yn,toString:yn})),Gt(xn,(function(t,n,e,r){return 1===arguments.length?_n(t):new xn(t,n,e,null==r?1:r)}),Xt(Ut,{brighter:function(t){return t=null==t?Zt:Math.pow(Zt,t),new xn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Vt:Math.pow(Vt,t),new xn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,o=2*e-r;return new vn(Mn(t>=240?t-240:t+120,o,r),Mn(t,o,r),Mn(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var kn=Math.PI/180,An=180/Math.PI,Sn=.96422,En=.82521,On=4/29,jn=6/29,$n=3*jn*jn;function Nn(t){if(t instanceof Pn)return new Pn(t.l,t.a,t.b,t.opacity);if(t instanceof Bn)return qn(t);t instanceof vn||(t=dn(t));var n,e,r=Cn(t.r),o=Cn(t.g),i=Cn(t.b),a=Ln((.2225045*r+.7168786*o+.0606169*i)/1);return r===o&&o===i?n=e=a:(n=Ln((.4360747*r+.3850649*o+.1430804*i)/Sn),e=Ln((.0139322*r+.0971045*o+.7141733*i)/En)),new Pn(116*a-16,500*(n-a),200*(a-e),t.opacity)}function zn(t,n,e,r){return 1===arguments.length?Nn(t):new Pn(t,n,e,null==r?1:r)}function Pn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Ln(t){return t>.008856451679035631?Math.pow(t,1/3):t/$n+On}function Tn(t){return t>jn?t*t*t:$n*(t-On)}function Dn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Cn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Rn(t){if(t instanceof Bn)return new Bn(t.h,t.c,t.l,t.opacity);if(t instanceof Pn||(t=Nn(t)),0===t.a&&0===t.b)return new Bn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*An;return new Bn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Bn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function qn(t){if(isNaN(t.h))return new Pn(t.l,0,0,t.opacity);var n=t.h*kn;return new Pn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function Fn(t){return function(){return t}}function Wn(t){return 1==(t=+t)?In:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Fn(isNaN(n)?e:n)}}function In(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Fn(isNaN(t)?n:t)}Gt(Pn,zn,Xt(Ut,{brighter:function(t){return new Pn(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Pn(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new vn(Dn(3.1338561*(n=Sn*Tn(n))-1.6168667*(t=1*Tn(t))-.4906146*(e=En*Tn(e))),Dn(-.9787684*n+1.9161415*t+.033454*e),Dn(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Gt(Bn,(function(t,n,e,r){return 1===arguments.length?Rn(t):new Bn(t,n,e,null==r?1:r)}),Xt(Ut,{brighter:function(t){return new Bn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Bn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return qn(this).rgb()}}));var Yn=function t(n){var e=Wn(n);function r(t,n){var r=e((t=gn(t)).r,(n=gn(n)).r),o=e(t.g,n.g),i=e(t.b,n.b),a=In(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=o(n),t.b=i(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Hn(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,o=n.slice();return function(i){for(e=0;e<r;++e)o[e]=t[e]*(1-i)+n[e]*i;return o}}function Gn(t,n){var e,r=n?n.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(e=0;e<o;++e)i[e]=Qn(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<o;++e)a[e]=i[e](t);return a}}function Xn(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Un(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Vn(t,n){var e,r={},o={};for(e in null!==t&&"object"===Ht(t)||(t={}),null!==n&&"object"===Ht(n)||(n={}),n)e in t?r[e]=Qn(t[e],n[e]):o[e]=n[e];return function(t){for(e in r)o[e]=r[e](t);return o}}var Zn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kn=new RegExp(Zn.source,"g");function Jn(t,n){var e,r,o,i=Zn.lastIndex=Kn.lastIndex=0,a=-1,u=[],c=[];for(t+="",n+="";(e=Zn.exec(t))&&(r=Kn.exec(n));)(o=r.index)>i&&(o=n.slice(i,o),u[a]?u[a]+=o:u[++a]=o),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:Un(e,r)})),i=Kn.lastIndex;return i<n.length&&(o=n.slice(i),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)u[(e=c[r]).i]=e.x(t);return u.join("")})}function Qn(t,n){var e,r,o=Ht(n);return null==n||"boolean"===o?Fn(n):("number"===o?Un:"string"===o?(e=fn(n))?(n=e,Yn):Jn:n instanceof fn?Yn:n instanceof Date?Xn:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?Gn:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Vn:Un:Hn))(t,n)}function te(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var ne,ee,re,oe,ie=180/Math.PI,ae={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ue(t,n,e,r,o,i){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(n,t)*ie,skewX:Math.atan(c)*ie,scaleX:a,scaleY:u}}function ce(t,n,e,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var u=[],c=[];return i=t(i),a=t(a),function(t,r,o,i,a,u){if(t!==o||r!==i){var c=a.push("translate(",null,n,null,e);u.push({i:c-4,x:Un(t,o)},{i:c-2,x:Un(r,i)})}else(o||i)&&a.push("translate("+o+n+i+e)}(i.translateX,i.translateY,a.translateX,a.translateY,u,c),function(t,n,e,i){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),i.push({i:e.push(o(e)+"rotate(",null,r)-2,x:Un(t,n)})):n&&e.push(o(e)+"rotate("+n+r)}(i.rotate,a.rotate,u,c),function(t,n,e,i){t!==n?i.push({i:e.push(o(e)+"skewX(",null,r)-2,x:Un(t,n)}):n&&e.push(o(e)+"skewX("+n+r)}(i.skewX,a.skewX,u,c),function(t,n,e,r,i,a){if(t!==e||n!==r){var u=i.push(o(i)+"scale(",null,",",null,")");a.push({i:u-4,x:Un(t,e)},{i:u-2,x:Un(n,r)})}else 1===e&&1===r||i.push(o(i)+"scale("+e+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,u,c),i=a=null,function(t){for(var n,e=-1,r=c.length;++e<r;)u[(n=c[e]).i]=n.x(t);return u.join("")}}}var le=ce((function(t){return"none"===t?ae:(ne||(ne=document.createElement("DIV"),ee=document.documentElement,re=document.defaultView),ne.style.transform=t,t=re.getComputedStyle(ee.appendChild(ne),null).getPropertyValue("transform"),ee.removeChild(ne),ue(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),se=ce((function(t){return null==t?ae:(oe||(oe=document.createElementNS("http://www.w3.org/2000/svg","g")),oe.setAttribute("transform",t),(t=oe.transform.baseVal.consolidate())?ue((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ae)}),", ",")",")"),fe=Math.SQRT2;function he(t){return((t=Math.exp(t))+1/t)/2}function pe(t,n){var e,r,o=t[0],i=t[1],a=t[2],u=n[0],c=n[1],l=n[2],s=u-o,f=c-i,h=s*s+f*f;if(h<1e-12)r=Math.log(l/a)/fe,e=function(t){return[o+t*s,i+t*f,a*Math.exp(fe*t*r)]};else{var p=Math.sqrt(h),d=(l*l-a*a+4*h)/(2*a*2*p),g=(l*l-a*a-4*h)/(2*l*2*p),v=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/fe,e=function(t){var n,e=t*r,u=he(v),c=a/(2*p)*(u*(n=fe*e+v,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[o+c*s,i+c*f,a*u/he(fe*e+v)]}}return e.duration=1e3*r,e}function de(t,n){var e=In((t=zn(t)).l,(n=zn(n)).l),r=In(t.a,n.a),o=In(t.b,n.b),i=In(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=o(n),t.opacity=i(n),t+""}}function ge(t){return+t}var ve=[0,1];function me(t){return t}function ye(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function be(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function we(t,n,e){var r=t[0],o=t[1],i=n[0],a=n[1];return o<r?(r=ye(o,r),i=e(a,i)):(r=ye(r,o),i=e(i,a)),function(t){return i(r(t))}}function _e(t,n,e){var r=Math.min(t.length,n.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)o[a]=ye(t[a],t[a+1]),i[a]=e(n[a],n[a+1]);return function(n){var e=St(t,n,1,r)-1;return i[e](o[e](n))}}function xe(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Me(t,n){return function(){var t,n,e,r,o,i,a=ve,u=ve,c=Qn,l=me;function s(){return r=Math.min(a.length,u.length)>2?_e:we,o=i=null,f}function f(n){return isNaN(n=+n)?e:(o||(o=r(a.map(t),u,c)))(t(l(n)))}return f.invert=function(e){return l(n((i||(i=r(u,a.map(t),Un)))(e)))},f.domain=function(t){return arguments.length?(a=Ft.call(t,ge),l===me||(l=be(a)),s()):a.slice()},f.range=function(t){return arguments.length?(u=Wt.call(t),s()):u.slice()},f.rangeRound=function(t){return u=Wt.call(t),c=te,s()},f.clamp=function(t){return arguments.length?(l=t?be(a):me,f):l!==me},f.interpolate=function(t){return arguments.length?(c=t,s()):c},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,s()}}()(t,n)}function ke(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Ae(t){return(t=ke(Math.abs(t)))?t[1]:NaN}var Se,Ee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oe(t){if(!(n=Ee.exec(t)))throw new Error("invalid format: "+t);var n;return new je({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function je(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function $e(t,n){var e=ke(t,n);if(!e)return t+"";var r=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}Oe.prototype=je.prototype,je.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ne={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return $e(100*t,n)},r:$e,s:function(t,n){var e=ke(t,n);if(!e)return t+"";var r=e[0],o=e[1],i=o-(Se=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ke(t,Math.max(0,n+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ze(t){return t}var Pe,Le,Te,De=Array.prototype.map,Ce=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Re(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?ze:(n=De.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var o=t.length,i=[],a=0,u=n[0],c=0;o>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),i.push(t.substring(o-=u,o+u)),!((c+=u+1)>r));)u=n[a=(a+1)%n.length];return i.reverse().join(e)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?ze:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(De.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=Oe(t)).fill,e=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,g=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Ne[y]||(void 0===v&&(v=12),m=!0,y="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var b="$"===h?o:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?i:/[%p]/.test(y)?c:"",_=Ne[y],x=/[defgprs%]/.test(y);function M(t){var o,i,c,h=b,M=w;if("c"===y)M=_(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:_(Math.abs(t),v),m&&(t=function(t){t:for(var n,e=t.length,r=1,o=-1;r<e;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:l:"-"===f||"("===f?"":f)+h,M=("s"===y?Ce[8+Se/3]:"")+M+(k&&"("===f?")":""),x)for(o=-1,i=t.length;++o<i;)if(48>(c=t.charCodeAt(o))||c>57){M=(46===c?a+t.slice(o+1):t.slice(o))+M,t=t.slice(0,o);break}}g&&!p&&(t=r(t,1/0));var A=h.length+t.length+M.length,S=A<d?new Array(d-A+1).join(n):"";switch(g&&p&&(t=r(S+t,S.length?d-M.length:1/0),S=""),e){case"<":t=h+t+M+S;break;case"=":t=h+S+t+M;break;case"^":t=S.slice(0,A=S.length>>1)+h+t+M+S.slice(A);break;default:t=S+h+t+M}return u(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,n){var e=f(((t=Oe(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ae(n)/3))),o=Math.pow(10,-r),i=Ce[8+r/3];return function(t){return e(o*t)+i}}}}function Be(t){return Math.max(0,-Ae(Math.abs(t)))}function qe(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ae(n)/3)))-Ae(Math.abs(t)))}function Fe(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Ae(n)-Ae(t))+1}function We(t,n,e,r){var o,i=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=Ot?o*=10:i>=jt?o*=5:i>=$t&&(o*=2),n<t?-o:o}(t,n,e);switch((r=Oe(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(o=qe(i,a))||(r.precision=o),Te(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=Fe(i,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=Be(i))||(r.precision=o-2*("%"===r.type))}return Le(r)}function Ie(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,o,i,a,u=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(o=t,t=n,n=o),0===(a=Nt(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),i=new Array(o=Math.ceil(n-t+1));++u<o;)i[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),i=new Array(o=Math.ceil(t-n+1));++u<o;)i[u]=(t-u)/a;return r&&i.reverse(),i}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return We(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,o=n(),i=0,a=o.length-1,u=o[i],c=o[a];return c<u&&(r=u,u=c,c=r,r=i,i=a,a=r),(r=Nt(u,c,e))>0?r=Nt(u=Math.floor(u/r)*r,c=Math.ceil(c/r)*r,e):r<0&&(r=Nt(u=Math.ceil(u*r)/r,c=Math.floor(c*r)/r,e)),r>0?(o[i]=Math.floor(u/r)*r,o[a]=Math.ceil(c/r)*r,n(o)):r<0&&(o[i]=Math.ceil(u*r)/r,o[a]=Math.floor(c*r)/r,n(o)),t},t}function Ye(){var t=Me(me,me);return t.copy=function(){return xe(t,Ye())},Pt.apply(t,arguments),Ie(t)}Pe=Re({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Le=Pe.format,Te=Pe.formatPrefix;var He={value:function(){}};function Ge(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Xe(r)}function Xe(t){this._=t}function Ue(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function Ve(t,n){for(var e,r=0,o=t.length;r<o;++r)if((e=t[r]).name===n)return e.value}function Ze(t,n,e){for(var r=0,o=t.length;r<o;++r)if(t[r].name===n){t[r]=He,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function Ke(){ct.preventDefault(),ct.stopImmediatePropagation()}function Je(t){var n=t.document.documentElement,e=wt(t).on("dragstart.drag",Ke,!0);"onselectstart"in n?e.on("selectstart.drag",Ke,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Qe(t,n){var e=t.document.documentElement,r=wt(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ke,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}Xe.prototype=Ge.prototype={constructor:Xe,on:function(t,n){var e,r=this._,o=Ue(t+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++i<a;)if(e=(t=o[i]).type)r[e]=Ze(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Ze(r[e],t.name,null);return this}for(;++i<a;)if((e=(t=o[i]).type)&&(e=Ve(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Xe(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,o=new Array(e),i=0;i<e;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,e=(r=this._[t]).length;i<e;++i)r[i].value.apply(n,o)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(n,e)}};var tr,nr,er=0,rr=0,or=0,ir=0,ar=0,ur=0,cr="object"===("undefined"==typeof performance?"undefined":Ht(performance))&&performance.now?performance:Date,lr="object"===("undefined"==typeof window?"undefined":Ht(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function sr(){return ar||(lr(fr),ar=cr.now()+ur)}function fr(){ar=0}function hr(){this._call=this._time=this._next=null}function pr(t,n,e){var r=new hr;return r.restart(t,n,e),r}function dr(){ar=(ir=cr.now())+ur,er=rr=0;try{!function(){sr(),++er;for(var t,n=tr;n;)(t=ar-n._time)>=0&&n._call.call(null,t),n=n._next;--er}()}finally{er=0,function(){var t,n,e=tr,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:tr=n);nr=t,vr(r)}(),ar=0}}function gr(){var t=cr.now(),n=t-ir;n>1e3&&(ur-=n,ir=t)}function vr(t){er||(rr&&(rr=clearTimeout(rr)),t-ar>24?(t<1/0&&(rr=setTimeout(dr,t-cr.now()-ur)),or&&(or=clearInterval(or))):(or||(ir=cr.now(),or=setInterval(gr,1e3)),er=1,lr(dr)))}function mr(t,n,e){var r=new hr;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r}hr.prototype=pr.prototype={constructor:hr,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?sr():+e)+(null==n?0:+n),this._next||nr===this||(nr?nr._next=this:tr=this,nr=this),this._call=t,this._time=e,vr()},stop:function(){this._call&&(this._call=null,this._time=1/0,vr())}};var yr=Ge("start","end","cancel","interrupt"),br=[];function wr(t,n,e,r,o,i){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,o=t.__transition;function i(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(i){var l,s,f,h;if(1!==e.state)return c();for(l in o)if((h=o[l]).name===e.name){if(3===h.state)return mr(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete o[l]):+l<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete o[l])}if(mr((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(i))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),l=0,s=-1;l<f;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function u(n){for(var o=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(c),e.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){for(var r in e.state=6,e.timer.stop(),delete o[n],o)return;delete t.__transition}o[n]=e,e.timer=pr(i,0,e.time)}(t,e,{name:n,index:r,group:o,on:yr,tween:br,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function _r(t,n){var e=Mr(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function xr(t,n){var e=Mr(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Mr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function kr(t,n){var e,r,o,i=t.__transition,a=!0;if(i){for(o in n=null==n?null:n+"",i)(e=i[o]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete i[o]):a=!1;a&&delete t.__transition}}function Ar(t,n){var e,r;return function(){var o=xr(this,t),i=o.tween;if(i!==e)for(var a=0,u=(r=e=i).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}o.tween=r}}function Sr(t,n,e){var r,o;if("function"!=typeof e)throw new Error;return function(){var i=xr(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var u={name:n,value:e},c=0,l=o.length;c<l;++c)if(o[c].name===n){o[c]=u;break}c===l&&o.push(u)}i.tween=o}}function Er(t,n,e){var r=t._id;return t.each((function(){var t=xr(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Mr(t,r).value[n]}}function Or(t,n){var e;return("number"==typeof n?Un:n instanceof fn?Yn:(e=fn(n))?(n=e,Yn):Jn)(t,n)}function jr(t){return function(){this.removeAttribute(t)}}function $r(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Nr(t,n,e){var r,o,i=e+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function zr(t,n,e){var r,o,i=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function Pr(t,n,e){var r,o,i;return function(){var a,u,c=e(this);if(null!=c)return(a=this.getAttribute(t))===(u=c+"")?null:a===r&&u===o?i:(o=u,i=n(r=a,c));this.removeAttribute(t)}}function Lr(t,n,e){var r,o,i;return function(){var a,u,c=e(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(u=c+"")?null:a===r&&u===o?i:(o=u,i=n(r=a,c));this.removeAttributeNS(t.space,t.local)}}function Tr(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Dr(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Cr(t,n){var e,r;function o(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Dr(t,o)),e}return o._value=n,o}function Rr(t,n){var e,r;function o(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Tr(t,o)),e}return o._value=n,o}function Br(t,n){return function(){_r(this,t).delay=+n.apply(this,arguments)}}function qr(t,n){return n=+n,function(){_r(this,t).delay=n}}function Fr(t,n){return function(){xr(this,t).duration=+n.apply(this,arguments)}}function Wr(t,n){return n=+n,function(){xr(this,t).duration=n}}function Ir(t,n){if("function"!=typeof n)throw new Error;return function(){xr(this,t).ease=n}}function Yr(t,n,e){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?_r:xr;return function(){var a=i(this,t),u=a.on;u!==r&&(o=(r=u).copy()).on(n,e),a.on=o}}var Hr=bt.prototype.constructor;function Gr(t){return function(){this.style.removeProperty(t)}}function Xr(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Ur(t,n,e){var r,o;function i(){var i=n.apply(this,arguments);return i!==o&&(r=(o=i)&&Xr(t,i,e)),r}return i._value=n,i}function Vr(t){return function(n){this.textContent=t.call(this,n)}}function Zr(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Vr(r)),n}return r._value=t,r}var Kr=0;function Jr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Qr(t){return bt().transition(t)}function to(){return++Kr}var no=bt.prototype;Jr.prototype=Qr.prototype={constructor:Jr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=y(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var u,c,l=r[a],s=l.length,f=i[a]=new Array(s),h=0;h<s;++h)(u=l[h])&&(c=t.call(u,u.__data__,h,l))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,wr(f[h],n,e,h,f,Mr(u,e)));return new Jr(i,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=w(t));for(var r=this._groups,o=r.length,i=[],a=[],u=0;u<o;++u)for(var c,l=r[u],s=l.length,f=0;f<s;++f)if(c=l[f]){for(var h,p=t.call(c,c.__data__,f,l),d=Mr(c,e),g=0,v=p.length;g<v;++g)(h=p[g])&&wr(h,n,e,g,p,d);i.push(p),a.push(c)}return new Jr(i,a,n,e)},filter:function(t){"function"!=typeof t&&(t=_(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var i,a=n[o],u=a.length,c=r[o]=[],l=0;l<u;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new Jr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,o=e.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var c,l=n[u],s=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new Jr(a,this._parents,this._name,this._id)},selection:function(){return new Hr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=to(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],c=u.length,l=0;l<c;++l)if(a=u[l]){var s=Mr(a,n);wr(a,t,e,l,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Jr(r,this._parents,t,e)},call:no.call,nodes:no.nodes,node:no.node,size:no.size,empty:no.empty,each:no.each,on:function(t,n){var e=this._id;return arguments.length<2?Mr(this.node(),e).on.on(t):this.each(Yr(e,t,n))},attr:function(t,n){var e=p(t),r="transform"===e?se:Or;return this.attrTween(t,"function"==typeof n?(e.local?Lr:Pr)(e,r,Er(this,"attr."+t,n)):null==n?(e.local?$r:jr)(e):(e.local?zr:Nr)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=p(t);return this.tween(e,(r.local?Cr:Rr)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?le:Or;return null==n?this.styleTween(t,function(t,n){var e,r,o;return function(){var i=C(this,t),a=(this.style.removeProperty(t),C(this,t));return i===a?null:i===e&&a===r?o:o=n(e=i,r=a)}}(t,r)).on("end.style."+t,Gr(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,o,i;return function(){var a=C(this,t),u=e(this),c=u+"";return null==u&&(this.style.removeProperty(t),c=u=C(this,t)),a===c?null:a===r&&c===o?i:(o=c,i=n(r=a,u))}}(t,r,Er(this,"style."+t,n))).each(function(t,n){var e,r,o,i,a="style."+n,u="end."+a;return function(){var c=xr(this,t),l=c.on,s=null==c.value[a]?i||(i=Gr(n)):void 0;l===e&&o===s||(r=(e=l).copy()).on(u,o=s),c.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,o,i=e+"";return function(){var a=C(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Ur(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Er(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Zr(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,o=Mr(this.node(),e).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==n?Ar:Sr)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Br:qr)(n,t)):Mr(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Fr:Wr)(n,t)):Mr(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Ir(n,t)):Mr(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,o=e.size();return new Promise((function(i,a){var u={value:a},c={value:function(){0==--o&&i()}};e.each((function(){var e=xr(this,r),o=e.on;o!==t&&((n=(t=o).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(c)),e.on=n}))}))}};var eo={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ro(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return eo.time=sr(),eo;return e}function oo(t){return function(){return t}}function io(t,n,e){this.target=t,this.type=n,this.transform=e}function ao(t,n,e){this.k=t,this.x=n,this.y=e}bt.prototype.interrupt=function(t){return this.each((function(){kr(this,t)}))},bt.prototype.transition=function(t){var n,e;t instanceof Jr?(n=t._id,t=t._name):(n=to(),(e=eo).time=sr(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],c=u.length,l=0;l<c;++l)(a=u[l])&&wr(a,t,n,l,u,e||ro(a,n));return new Jr(r,this._parents,t,n)},ao.prototype={constructor:ao,scale:function(t){return 1===t?this:new ao(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new ao(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var uo=new ao(1,0,0);function co(t){for(;!t.__zoom;)if(!(t=t.parentNode))return uo;return t.__zoom}function lo(){ct.stopImmediatePropagation()}function so(){ct.preventDefault(),ct.stopImmediatePropagation()}function fo(){return!ct.ctrlKey&&!ct.button}function ho(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function po(){return this.__zoom||uo}function go(){return-ct.deltaY*(1===ct.deltaMode?.05:ct.deltaMode?1:.002)}function vo(){return navigator.maxTouchPoints||"ontouchstart"in this}function mo(t,n,e){var r=t.invertX(n[0][0])-e[0][0],o=t.invertX(n[1][0])-e[1][0],i=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function yo(){var t,n,e=fo,r=ho,o=mo,i=go,a=vo,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,s=pe,f=Ge("start","zoom","end"),h=500,p=0;function d(t){t.property("__zoom",po).on("wheel.zoom",_).on("mousedown.zoom",x).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,n){return(n=Math.max(u[0],Math.min(u[1],n)))===t.k?t:new ao(n,t.x,t.y)}function v(t,n,e){var r=n[0]-e[0]*t.k,o=n[1]-e[1]*t.k;return r===t.x&&o===t.y?t:new ao(t.k,r,o)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,n,e){t.on("start.zoom",(function(){b(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).end()})).tween("zoom",(function(){var t=this,o=arguments,i=b(t,o),a=r.apply(t,o),u=null==e?m(a):"function"==typeof e?e.apply(t,o):e,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,f="function"==typeof n?n.apply(t,o):n,h=s(l.invert(u).concat(c/l.k),f.invert(u).concat(c/f.k));return function(t){if(1===t)t=f;else{var n=h(t),e=c/n[2];t=new ao(e,u[0]-n[0]*e,u[1]-n[1]*e)}i.zoom(null,t)}}))}function b(t,n,e){return!e&&t.__zooming||new w(t,n)}function w(t,n){this.that=t,this.args=n,this.active=0,this.extent=r.apply(t,n),this.taps=0}function _(){if(e.apply(this,arguments)){var t=b(this,arguments),n=this.__zoom,r=Math.max(u[0],Math.min(u[1],n.k*Math.pow(2,i.apply(this,arguments)))),a=Mt(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=n.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(n.k===r)return;t.mouse=[a,n.invert(a)],kr(this),t.start()}so(),t.wheel=setTimeout(l,150),t.zoom("mouse",o(v(g(n,r),t.mouse[0],t.mouse[1]),t.extent,c))}function l(){t.wheel=null,t.end()}}function x(){if(!n&&e.apply(this,arguments)){var t=b(this,arguments,!0),r=wt(ct.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",s,!0),i=Mt(this),a=ct.clientX,u=ct.clientY;Je(ct.view),lo(),t.mouse=[i,this.__zoom.invert(i)],kr(this),t.start()}function l(){if(so(),!t.moved){var n=ct.clientX-a,e=ct.clientY-u;t.moved=n*n+e*e>p}t.zoom("mouse",o(v(t.that.__zoom,t.mouse[0]=Mt(t.that),t.mouse[1]),t.extent,c))}function s(){r.on("mousemove.zoom mouseup.zoom",null),Qe(ct.view,t.moved),so(),t.end()}}function M(){if(e.apply(this,arguments)){var t=this.__zoom,n=Mt(this),i=t.invert(n),a=t.k*(ct.shiftKey?.5:2),u=o(v(g(t,a),n,i),r.apply(this,arguments),c);so(),l>0?wt(this).transition().duration(l).call(y,u,n):wt(this).call(d.transform,u)}}function k(){if(e.apply(this,arguments)){var n,r,o,i,a=ct.touches,u=a.length,c=b(this,arguments,ct.changedTouches.length===u);for(lo(),r=0;r<u;++r)i=[i=kt(this,a,(o=a[r]).identifier),this.__zoom.invert(i),o.identifier],c.touch0?c.touch1||c.touch0[2]===i[2]||(c.touch1=i,c.taps=0):(c.touch0=i,n=!0,c.taps=1+!!t);t&&(t=clearTimeout(t)),n&&(c.taps<2&&(t=setTimeout((function(){t=null}),h)),kr(this),c.start())}}function A(){if(this.__zooming){var n,e,r,i,a=b(this,arguments),u=ct.changedTouches,l=u.length;for(so(),t&&(t=clearTimeout(t)),a.taps=0,n=0;n<l;++n)r=kt(this,u,(e=u[n]).identifier),a.touch0&&a.touch0[2]===e.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===e.identifier&&(a.touch1[0]=r);if(e=a.that.__zoom,a.touch1){var s=a.touch0[0],f=a.touch0[1],h=a.touch1[0],p=a.touch1[1],d=(d=h[0]-s[0])*d+(d=h[1]-s[1])*d,m=(m=p[0]-f[0])*m+(m=p[1]-f[1])*m;e=g(e,Math.sqrt(d/m)),r=[(s[0]+h[0])/2,(s[1]+h[1])/2],i=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],i=a.touch0[1]}a.zoom("touch",o(v(e,r,i),a.extent,c))}}function S(){if(this.__zooming){var t,e,r=b(this,arguments),o=ct.changedTouches,i=o.length;for(lo(),n&&clearTimeout(n),n=setTimeout((function(){n=null}),h),t=0;t<i;++t)e=o[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=wt(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return d.transform=function(t,n,e){var r=t.selection?t.selection():t;r.property("__zoom",po),t!==r?y(t,n,e):r.interrupt().each((function(){b(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},d.scaleBy=function(t,n,e){d.scaleTo(t,(function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e}),e)},d.scaleTo=function(t,n,e){d.transform(t,(function(){var t=r.apply(this,arguments),i=this.__zoom,a=null==e?m(t):"function"==typeof e?e.apply(this,arguments):e,u=i.invert(a),l="function"==typeof n?n.apply(this,arguments):n;return o(v(g(i,l),a,u),t,c)}),e)},d.translateBy=function(t,n,e){d.transform(t,(function(){return o(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),r.apply(this,arguments),c)}))},d.translateTo=function(t,n,e,i){d.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,u=null==i?m(t):"function"==typeof i?i.apply(this,arguments):i;return o(uo.translate(u[0],u[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,c)}),i)},w.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){!function(t,n,e,r){var o=ct;t.sourceEvent=ct,ct=t;try{n.apply(e,r)}finally{ct=o}}(new io(d,t,this.that.__zoom),f.apply,f,[t,this.that,this.args])}},d.wheelDelta=function(t){return arguments.length?(i="function"==typeof t?t:oo(+t),d):i},d.filter=function(t){return arguments.length?(e="function"==typeof t?t:oo(!!t),d):e},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:oo(!!t),d):a},d.extent=function(t){return arguments.length?(r="function"==typeof t?t:oo([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),d):r},d.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],d):[u[0],u[1]]},d.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],d):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},d.constrain=function(t){return arguments.length?(o=t,d):o},d.duration=function(t){return arguments.length?(l=+t,d):l},d.interpolate=function(t){return arguments.length?(s=t,d):s},d.on=function(){var t=f.on.apply(f,arguments);return t===f?d:t},d.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,d):Math.sqrt(p)},d}function bo(t,n){var e=this.node();return e?e.getBBox?this.attr("transform",(function(e,r){var o="function"==typeof t?t.call(this,e,r):t;return 0===n?o=[o,0]:1===n&&(o=[0,o]),"translate("+o[0]+","+o[1]+")"})):this.style("transform",(function(e,r){var o="function"==typeof t?t.call(this,e,r):t;return 0===n?o=[o,0]:1===n&&(o=[0,o]),"translate("+o[0]+"px,"+o[1]+"px)"})):this}function wo(t){if("string"==typeof t){var n,e={},r=t.split(/([\.#])/g);for(t=r.shift();n=r.shift();)"."==n?e.class=e.class?e.class+" "+r.shift():r.shift():"#"==n&&(e.id=r.shift());return{tag:t,attr:e}}return t}function _o(t){var n,e;"function"==typeof t?n=t:(e=wo(t),n=v(e.tag));var r=this.select((function(){return this.appendChild(n.apply(this,arguments))}));if(e)for(var o in e.attr)r.attr(o,e.attr[o]);return r}function xo(){return null}function Mo(t,n){var e=wo(t),r=v(e.tag),o=null==n?xo:"function"==typeof n?n:y(n),i=this.select((function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)}));for(var a in e.attr)i.attr(a,e.attr[a]);return i}function ko(){var t=[];return this.filter((function(){return!(t.indexOf(this.parentNode)>-1)&&(t.push(this.parentNode),!0)})).select((function(){return this.parentNode}))}function Ao(t){var n,e=y(t),r=wo(t);for(var o in t=v(r.tag),n=this.select((function(){return e.apply(this,arguments)||this.appendChild(t.apply(this,arguments))})),r.attr)n.attr(o,r.attr[o]);return n}function So(t,n){return this.selectAll("tspan").data((function(n,e){return("function"==typeof t?t.call(this,n,e):t).map((function(t){return{line:t,parent:n}}))})).enter().append("tspan").text((function(t){return t.line})).attr("x",0).attr("dy",(function(t,e){return e?("function"==typeof n?n.call(this,t.parent,t.line,e):n)||15:0}))}function Eo(t,n){if("string"==typeof n){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var e=n;n=t,t=e}return this.selectAll(null).data(n).enter().append(t)}co.prototype=ao.prototype;var Oo=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;function jo(t,n){if("object"==Ht(t)){for(var e in t)this.attr(Oo.test(e)?e:e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[e]);return this}return 1==arguments.length?this.attr(t):this.attr(t,n)}function $o(){for(var t=arguments,n=0,e=t.length;n<e;)"string"!=typeof t[n]&&"number"!=typeof t[n]||(t[n]=function(t){return function(n){return n[t]}}(t[n])),n++;return function(n){for(var e=0,r=t.length;e++<r;)n=t[e-1].call(this,n);return n}}function No(t,n){if("object"==Ht(t)){for(var e in t)r(this,e,t[e]);return this}return 1==arguments.length?this.style(t):r(this,t,n);function r(t,n,e){n=n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();return~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(n)?t.style(n,"function"==typeof e?i(e):o(e)):t.style(n,e),t}function o(t){return t.match?t:t+"px"}function i(t){return function(){var n=t.apply(this,arguments);return o(n)}}}$o.not=function(t){return!t},$o.run=function(t){return t()},$o.objToFn=function(t,n){return 1==arguments.length&&(n=void 0),function(e){return void 0!==t[e]?t[e]:n}};var zo={A:7,a:7,B:8,b:7,C:8,c:6,D:9,d:7,E:7,e:7,F:7,f:4,G:9,g:7,H:9,h:7,I:3,i:3,J:5,j:3,K:8,k:6,L:7,l:3,M:11,m:11,N:9,n:7,O:9,o:7,P:8,p:7,Q:9,q:7,R:8,r:4,S:8,s:6,T:7,t:4,U:9,u:7,V:7,v:6,W:11,w:9,X:7,x:6,Y:7,y:6,Z:7,z:5,".":2,",":2,":":2,";":2};function Po(t,n,e,r){var o,i,a,u,c,l,s=[],f=[],h=[];return(i=t.split(" ")).forEach((function(t,n){var e=t.split("-"),r=n<i.length-1?" ":"";e.length>1?e.forEach((function(t,n){f.push(t+(n<e.length-1?"-":r))})):f.push(t+r)})),a=n||40,u=e||Math.max(3,Math.min(.5*a,.75*f.map((function(t){return t.length})).sort((function(t,n){return t-n}))[Math.round(f.length/2)])),c=a*zo.a,l=u*zo.a,o=0,f.forEach((function(t){var n=function(t,n){var e,r=t.length,o=-1,i=0;if(null==n)for(;++o<r;)(e=+t[o])&&(i+=e);else for(;++o<r;)(e=+n(t[o],o,t))&&(i+=e);return i}(t.split("").map(p));return o+n>c&&o>l&&(s.push(h.join("")),h.length=0,o=0),o+=n,h.push(t)})),h.length&&s.push(h.join("")),s.filter((function(t){return""!==t}));function p(t){return!r&&zo[t]||zo.a}}function Lo(){return new To}function To(){this.reset()}bt.prototype.translate=bo,Qr.prototype.translate=bo,bt.prototype.append=_o,bt.prototype.insert=Mo,bt.prototype.parent=ko,bt.prototype.selectAppend=Ao,bt.prototype.tspans=So,bt.prototype.appendMany=Eo,bt.prototype.at=jo,bt.prototype.st=No,Qr.prototype.at=jo,Qr.prototype.st=No,bt.prototype.prop=bt.prototype.property,To.prototype={constructor:To,reset:function(){this.s=this.t=0},add:function(t){Co(Do,t,this.t),Co(this,Do.s,this.s),this.s?this.t+=Do.t:this.s=Do.t},valueOf:function(){return this.s}};var Do=new To;function Co(t,n,e){var r=t.s=n+e,o=r-n,i=r-o;t.t=n-i+(e-o)}var Ro=1e-6,Bo=1e-12,qo=Math.PI,Fo=qo/2,Wo=qo/4,Io=2*qo,Yo=180/qo,Ho=qo/180,Go=Math.abs,Xo=Math.atan,Uo=Math.atan2,Vo=Math.cos,Zo=Math.ceil,Ko=Math.exp,Jo=Math.log,Qo=Math.pow,ti=Math.sin,ni=Math.sign||function(t){return t>0?1:t<0?-1:0},ei=Math.sqrt,ri=Math.tan;function oi(t){return t>1?0:t<-1?qo:Math.acos(t)}function ii(t){return t>1?Fo:t<-1?-Fo:Math.asin(t)}function ai(t){return(t=ti(t/2))*t}function ui(){}function ci(t,n){t&&si.hasOwnProperty(t.type)&&si[t.type](t,n)}var li={Feature:function(t,n){ci(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,o=e.length;++r<o;)ci(e[r].geometry,n)}},si={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){fi(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)fi(e[r],n,0)},Polygon:function(t,n){hi(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)hi(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,o=e.length;++r<o;)ci(e[r],n)}};function fi(t,n,e){var r,o=-1,i=t.length-e;for(n.lineStart();++o<i;)r=t[o],n.point(r[0],r[1],r[2]);n.lineEnd()}function hi(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)fi(t[e],n,1);n.polygonEnd()}function pi(t,n){t&&li.hasOwnProperty(t.type)?li[t.type](t,n):ci(t,n)}var di,gi,vi,mi,yi,bi=Lo(),wi=Lo(),_i={point:ui,lineStart:ui,lineEnd:ui,polygonStart:function(){bi.reset(),_i.lineStart=xi,_i.lineEnd=Mi},polygonEnd:function(){var t=+bi;wi.add(t<0?Io+t:t),this.lineStart=this.lineEnd=this.point=ui},sphere:function(){wi.add(Io)}};function xi(){_i.point=ki}function Mi(){Ai(di,gi)}function ki(t,n){_i.point=Ai,di=t,gi=n,vi=t*=Ho,mi=Vo(n=(n*=Ho)/2+Wo),yi=ti(n)}function Ai(t,n){var e=(t*=Ho)-vi,r=e>=0?1:-1,o=r*e,i=Vo(n=(n*=Ho)/2+Wo),a=ti(n),u=yi*a,c=mi*i+u*Vo(o),l=u*r*ti(o);bi.add(Uo(l,c)),vi=t,mi=i,yi=a}function Si(t){return[Uo(t[1],t[0]),ii(t[2])]}function Ei(t){var n=t[0],e=t[1],r=Vo(e);return[r*Vo(n),r*ti(n),ti(e)]}function Oi(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ji(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function $i(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Ni(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function zi(t){var n=ei(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Pi,Li,Ti,Di,Ci,Ri,Bi,qi,Fi,Wi,Ii,Yi,Hi,Gi,Xi,Ui,Vi,Zi,Ki,Ji,Qi,ta,na,ea,ra,oa,ia=Lo(),aa={point:ua,lineStart:la,lineEnd:sa,polygonStart:function(){aa.point=fa,aa.lineStart=ha,aa.lineEnd=pa,ia.reset(),_i.polygonStart()},polygonEnd:function(){_i.polygonEnd(),aa.point=ua,aa.lineStart=la,aa.lineEnd=sa,bi<0?(Pi=-(Ti=180),Li=-(Di=90)):ia>Ro?Di=90:ia<-Ro&&(Li=-90),Wi[0]=Pi,Wi[1]=Ti},sphere:function(){Pi=-(Ti=180),Li=-(Di=90)}};function ua(t,n){Fi.push(Wi=[Pi=t,Ti=t]),n<Li&&(Li=n),n>Di&&(Di=n)}function ca(t,n){var e=Ei([t*Ho,n*Ho]);if(qi){var r=ji(qi,e),o=ji([r[1],-r[0],0],r);zi(o),o=Si(o);var i,a=t-Ci,u=a>0?1:-1,c=o[0]*Yo*u,l=Go(a)>180;l^(u*Ci<c&&c<u*t)?(i=o[1]*Yo)>Di&&(Di=i):l^(u*Ci<(c=(c+360)%360-180)&&c<u*t)?(i=-o[1]*Yo)<Li&&(Li=i):(n<Li&&(Li=n),n>Di&&(Di=n)),l?t<Ci?da(Pi,t)>da(Pi,Ti)&&(Ti=t):da(t,Ti)>da(Pi,Ti)&&(Pi=t):Ti>=Pi?(t<Pi&&(Pi=t),t>Ti&&(Ti=t)):t>Ci?da(Pi,t)>da(Pi,Ti)&&(Ti=t):da(t,Ti)>da(Pi,Ti)&&(Pi=t)}else Fi.push(Wi=[Pi=t,Ti=t]);n<Li&&(Li=n),n>Di&&(Di=n),qi=e,Ci=t}function la(){aa.point=ca}function sa(){Wi[0]=Pi,Wi[1]=Ti,aa.point=ua,qi=null}function fa(t,n){if(qi){var e=t-Ci;ia.add(Go(e)>180?e+(e>0?360:-360):e)}else Ri=t,Bi=n;_i.point(t,n),ca(t,n)}function ha(){_i.lineStart()}function pa(){fa(Ri,Bi),_i.lineEnd(),Go(ia)>Ro&&(Pi=-(Ti=180)),Wi[0]=Pi,Wi[1]=Ti,qi=null}function da(t,n){return(n-=t)<0?n+360:n}function ga(t,n){return t[0]-n[0]}function va(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var ma={sphere:ui,point:ya,lineStart:wa,lineEnd:Ma,polygonStart:function(){ma.lineStart=ka,ma.lineEnd=Aa},polygonEnd:function(){ma.lineStart=wa,ma.lineEnd=Ma}};function ya(t,n){t*=Ho;var e=Vo(n*=Ho);ba(e*Vo(t),e*ti(t),ti(n))}function ba(t,n,e){++Ii,Hi+=(t-Hi)/Ii,Gi+=(n-Gi)/Ii,Xi+=(e-Xi)/Ii}function wa(){ma.point=_a}function _a(t,n){t*=Ho;var e=Vo(n*=Ho);ea=e*Vo(t),ra=e*ti(t),oa=ti(n),ma.point=xa,ba(ea,ra,oa)}function xa(t,n){t*=Ho;var e=Vo(n*=Ho),r=e*Vo(t),o=e*ti(t),i=ti(n),a=Uo(ei((a=ra*i-oa*o)*a+(a=oa*r-ea*i)*a+(a=ea*o-ra*r)*a),ea*r+ra*o+oa*i);Yi+=a,Ui+=a*(ea+(ea=r)),Vi+=a*(ra+(ra=o)),Zi+=a*(oa+(oa=i)),ba(ea,ra,oa)}function Ma(){ma.point=ya}function ka(){ma.point=Sa}function Aa(){Ea(ta,na),ma.point=ya}function Sa(t,n){ta=t,na=n,t*=Ho,n*=Ho,ma.point=Ea;var e=Vo(n);ea=e*Vo(t),ra=e*ti(t),oa=ti(n),ba(ea,ra,oa)}function Ea(t,n){t*=Ho;var e=Vo(n*=Ho),r=e*Vo(t),o=e*ti(t),i=ti(n),a=ra*i-oa*o,u=oa*r-ea*i,c=ea*o-ra*r,l=ei(a*a+u*u+c*c),s=ii(l),f=l&&-s/l;Ki+=f*a,Ji+=f*u,Qi+=f*c,Yi+=s,Ui+=s*(ea+(ea=r)),Vi+=s*(ra+(ra=o)),Zi+=s*(oa+(oa=i)),ba(ea,ra,oa)}function Oa(t){return function(){return t}}function ja(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function $a(t,n){return[Go(t)>qo?t+Math.round(-t/Io)*Io:t,n]}function Na(t,n,e){return(t%=Io)?n||e?ja(Pa(t),La(n,e)):Pa(t):n||e?La(n,e):$a}function za(t){return function(n,e){return[(n+=t)>qo?n-Io:n<-qo?n+Io:n,e]}}function Pa(t){var n=za(t);return n.invert=za(-t),n}function La(t,n){var e=Vo(t),r=ti(t),o=Vo(n),i=ti(n);function a(t,n){var a=Vo(n),u=Vo(t)*a,c=ti(t)*a,l=ti(n),s=l*e+u*r;return[Uo(c*o-s*i,u*e-l*r),ii(s*o+c*i)]}return a.invert=function(t,n){var a=Vo(n),u=Vo(t)*a,c=ti(t)*a,l=ti(n),s=l*o-c*i;return[Uo(c*o+l*i,u*e+s*r),ii(s*e-u*r)]},a}function Ta(t){function n(n){return(n=t(n[0]*Ho,n[1]*Ho))[0]*=Yo,n[1]*=Yo,n}return t=Na(t[0]*Ho,t[1]*Ho,t.length>2?t[2]*Ho:0),n.invert=function(n){return(n=t.invert(n[0]*Ho,n[1]*Ho))[0]*=Yo,n[1]*=Yo,n},n}function Da(t,n,e,r,o,i){if(e){var a=Vo(n),u=ti(n),c=r*e;null==o?(o=n+r*Io,i=n-c/2):(o=Ca(a,o),i=Ca(a,i),(r>0?o<i:o>i)&&(o+=r*Io));for(var l,s=o;r>0?s>i:s<i;s-=c)l=Si([a,-u*Vo(s),-u*ti(s)]),t.point(l[0],l[1])}}function Ca(t,n){(n=Ei(n))[0]-=t,zi(n);var e=oi(-n[1]);return((-n[2]<0?-e:e)+Io-Ro)%Io}function Ra(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:ui,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Ba(t,n){return Go(t[0]-n[0])<Ro&&Go(t[1]-n[1])<Ro}function qa(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Fa(t,n,e,r,o){var i,a,u=[],c=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(Ba(r,a)){if(!r[2]&&!a[2]){for(o.lineStart(),i=0;i<n;++i)o.point((r=t[i])[0],r[1]);return void o.lineEnd()}a[0]+=2e-6}u.push(e=new qa(r,t,null,!0)),c.push(e.o=new qa(r,null,e,!1)),u.push(e=new qa(a,t,null,!1)),c.push(e.o=new qa(a,null,e,!0))}})),u.length){for(c.sort(n),Wa(u),Wa(c),i=0,a=c.length;i<a;++i)c[i].e=e=!e;for(var l,s,f=u[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(i=0,a=l.length;i<a;++i)o.point((s=l[i])[0],s[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(l=h.p.z,i=l.length-1;i>=0;--i)o.point((s=l[i])[0],s[1]);else r(h.x,h.p.x,-1,o);h=h.p}l=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}}function Wa(t){if(n=t.length){for(var n,e,r=0,o=t[0];++r<n;)o.n=e=t[r],e.p=o,o=e;o.n=e=t[0],e.p=o}}$a.invert=$a;var Ia=Lo();function Ya(t){return Go(t[0])<=qo?t[0]:ni(t[0])*((Go(t[0])+qo)%Io-qo)}function Ha(t,n){var e=Ya(n),r=n[1],o=ti(r),i=[ti(e),-Vo(e),0],a=0,u=0;Ia.reset(),1===o?r=Fo+Ro:-1===o&&(r=-Fo-Ro);for(var c=0,l=t.length;c<l;++c)if(f=(s=t[c]).length)for(var s,f,h=s[f-1],p=Ya(h),d=h[1]/2+Wo,g=ti(d),v=Vo(d),m=0;m<f;++m,p=b,g=_,v=x,h=y){var y=s[m],b=Ya(y),w=y[1]/2+Wo,_=ti(w),x=Vo(w),M=b-p,k=M>=0?1:-1,A=k*M,S=A>qo,E=g*_;if(Ia.add(Uo(E*k*ti(A),v*x+E*Vo(A))),a+=S?M+k*Io:M,S^p>=e^b>=e){var O=ji(Ei(h),Ei(y));zi(O);var j=ji(i,O);zi(j);var $=(S^M>=0?-1:1)*ii(j[2]);(r>$||r===$&&(O[0]||O[1]))&&(u+=S^M>=0?1:-1)}}return(a<-Ro||a<Ro&&Ia<-Ro)^1&u}function Ga(t,n,e,r){return function(o){var i,a,u,c=n(o),l=Ra(),s=n(l),f=!1,h={point:p,lineStart:g,lineEnd:v,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=b,a=[],i=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=v,a=zt(a);var t=Ha(i,r);a.length?(f||(o.polygonStart(),f=!0),Fa(a,Ua,t,e,o)):t&&(f||(o.polygonStart(),f=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),a=i=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(n,e){t(n,e)&&o.point(n,e)}function d(t,n){c.point(t,n)}function g(){h.point=d,c.lineStart()}function v(){h.point=p,c.lineEnd()}function m(t,n){u.push([t,n]),s.point(t,n)}function y(){s.lineStart(),u=[]}function b(){m(u[0][0],u[0][1]),s.lineEnd();var t,n,e,r,c=s.clean(),h=l.result(),p=h.length;if(u.pop(),i.push(u),u=null,p)if(1&c){if((n=(e=h[0]).length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),t=0;t<n;++t)o.point((r=e[t])[0],r[1]);o.lineEnd()}}else p>1&&2&c&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Xa))}return h}}function Xa(t){return t.length>1}function Ua(t,n){return((t=t.x)[0]<0?t[1]-Fo-Ro:Fo-t[1])-((n=n.x)[0]<0?n[1]-Fo-Ro:Fo-n[1])}var Va=Ga((function(){return!0}),(function(t){var n,e=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(i,a){var u=i>0?qo:-qo,c=Go(i-e);Go(c-qo)<Ro?(t.point(e,r=(r+a)/2>0?Fo:-Fo),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(i,r),n=0):o!==u&&c>=qo&&(Go(e-o)<Ro&&(e-=o*Ro),Go(i-u)<Ro&&(i-=u*Ro),r=function(t,n,e,r){var o,i,a=ti(t-e);return Go(a)>Ro?Xo((ti(n)*(i=Vo(r))*ti(e)-ti(r)*(o=Vo(n))*ti(t))/(o*i*a)):(n+r)/2}(e,r,i,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=i,r=a),o=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var o;if(null==t)o=e*Fo,r.point(-qo,o),r.point(0,o),r.point(qo,o),r.point(qo,0),r.point(qo,-o),r.point(0,-o),r.point(-qo,-o),r.point(-qo,0),r.point(-qo,o);else if(Go(t[0]-n[0])>Ro){var i=t[0]<n[0]?qo:-qo;o=e*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(n[0],n[1])}),[-qo,-Fo]);function Za(t){var n=Vo(t),e=6*Ho,r=n>0,o=Go(n)>Ro;function i(t,e){return Vo(t)*Vo(e)>n}function a(t,e,r){var o=[1,0,0],i=ji(Ei(t),Ei(e)),a=Oi(i,i),u=i[0],c=a-u*u;if(!c)return!r&&t;var l=n*a/c,s=-n*u/c,f=ji(o,i),h=Ni(o,l);$i(h,Ni(i,s));var p=f,d=Oi(h,p),g=Oi(p,p),v=d*d-g*(Oi(h,h)-1);if(!(v<0)){var m=ei(v),y=Ni(p,(-d-m)/g);if($i(y,h),y=Si(y),!r)return y;var b,w=t[0],_=e[0],x=t[1],M=e[1];_<w&&(b=w,w=_,_=b);var k=_-w,A=Go(k-qo)<Ro;if(!A&&M<x&&(b=x,x=M,M=b),A||k<Ro?A?x+M>0^y[1]<(Go(y[0]-w)<Ro?x:M):x<=y[1]&&y[1]<=M:k>qo^(w<=y[0]&&y[0]<=_)){var S=Ni(p,(-d+m)/g);return $i(S,h),[y,Si(S)]}}}function u(n,e){var o=r?t:qo-t,i=0;return n<-o?i|=1:n>o&&(i|=2),e<-o?i|=4:e>o&&(i|=8),i}return Ga(i,(function(t){var n,e,c,l,s;return{lineStart:function(){l=c=!1,s=1},point:function(f,h){var p,d=[f,h],g=i(f,h),v=r?g?0:u(f,h):g?u(f+(f<0?qo:-qo),h):0;if(!n&&(l=c=g)&&t.lineStart(),g!==c&&(!(p=a(n,d))||Ba(n,p)||Ba(d,p))&&(d[2]=1),g!==c)s=0,g?(t.lineStart(),p=a(d,n),t.point(p[0],p[1])):(p=a(n,d),t.point(p[0],p[1],2),t.lineEnd()),n=p;else if(o&&n&&r^g){var m;v&e||!(m=a(d,n,!0))||(s=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!g||n&&Ba(n,d)||t.point(d[0],d[1]),n=d,c=g,e=v},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return s|(l&&c)<<1}}}),(function(n,r,o,i){Da(i,t,e,o,n,r)}),r?[0,-t]:[-qo,t-qo])}var Ka=1e9,Ja=-Ka;function Qa(t,n,e,r){function o(o,i){return t<=o&&o<=e&&n<=i&&i<=r}function i(o,i,u,l){var s=0,f=0;if(null==o||(s=a(o,u))!==(f=a(i,u))||c(o,i)<0^u>0)do{l.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+u+4)%4)!==f);else l.point(i[0],i[1])}function a(r,o){return Go(r[0]-t)<Ro?o>0?0:3:Go(r[0]-e)<Ro?o>0?2:1:Go(r[1]-n)<Ro?o>0?1:0:o>0?3:2}function u(t,n){return c(t.x,n.x)}function c(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var c,l,s,f,h,p,d,g,v,m,y,b=a,w=Ra(),_={point:x,lineStart:function(){_.point=M,l&&l.push(s=[]);m=!0,v=!1,d=g=NaN},lineEnd:function(){c&&(M(f,h),p&&v&&w.rejoin(),c.push(w.result()));_.point=x,v&&b.lineEnd()},polygonStart:function(){b=w,c=[],l=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,o=l.length;e<o;++e)for(var i,a,u=l[e],c=1,s=u.length,f=u[0],h=f[0],p=f[1];c<s;++c)i=h,a=p,h=(f=u[c])[0],p=f[1],a<=r?p>r&&(h-i)*(r-a)>(p-a)*(t-i)&&++n:p<=r&&(h-i)*(r-a)<(p-a)*(t-i)&&--n;return n}(),e=y&&n,o=(c=zt(c)).length;(e||o)&&(a.polygonStart(),e&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&Fa(c,u,n,i,a),a.polygonEnd());b=a,c=l=s=null}};function x(t,n){o(t,n)&&b.point(t,n)}function M(i,a){var u=o(i,a);if(l&&s.push([i,a]),m)f=i,h=a,p=u,m=!1,u&&(b.lineStart(),b.point(i,a));else if(u&&v)b.point(i,a);else{var c=[d=Math.max(Ja,Math.min(Ka,d)),g=Math.max(Ja,Math.min(Ka,g))],w=[i=Math.max(Ja,Math.min(Ka,i)),a=Math.max(Ja,Math.min(Ka,a))];!function(t,n,e,r,o,i){var a,u=t[0],c=t[1],l=0,s=1,f=n[0]-u,h=n[1]-c;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<s&&(s=a)}else if(f>0){if(a>s)return;a>l&&(l=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(a>s)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<s&&(s=a)}if(a=r-c,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<s&&(s=a)}else if(h>0){if(a>s)return;a>l&&(l=a)}if(a=i-c,h||!(a<0)){if(a/=h,h<0){if(a>s)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<s&&(s=a)}return l>0&&(t[0]=u+l*f,t[1]=c+l*h),s<1&&(n[0]=u+s*f,n[1]=c+s*h),!0}}}}}(c,w,t,n,e,r)?u&&(b.lineStart(),b.point(i,a),y=!1):(v||(b.lineStart(),b.point(c[0],c[1])),b.point(w[0],w[1]),u||b.lineEnd(),y=!1)}d=i,g=a,v=u}return _}}var tu,nu,eu,ru=Lo(),ou={sphere:ui,point:ui,lineStart:function(){ou.point=au,ou.lineEnd=iu},lineEnd:ui,polygonStart:ui,polygonEnd:ui};function iu(){ou.point=ou.lineEnd=ui}function au(t,n){tu=t*=Ho,nu=ti(n*=Ho),eu=Vo(n),ou.point=uu}function uu(t,n){t*=Ho;var e=ti(n*=Ho),r=Vo(n),o=Go(t-tu),i=Vo(o),a=r*ti(o),u=eu*e-nu*r*i,c=nu*e+eu*r*i;ru.add(Uo(ei(a*a+u*u),c)),tu=t,nu=e,eu=r}function cu(t){return ru.reset(),pi(t,ou),+ru}var lu=[null,null],su={type:"LineString",coordinates:lu};function fu(t,n){return lu[0]=t,lu[1]=n,cu(su)}var hu={Feature:function(t,n){return du(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,o=e.length;++r<o;)if(du(e[r].geometry,n))return!0;return!1}},pu={Sphere:function(){return!0},Point:function(t,n){return gu(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)if(gu(e[r],n))return!0;return!1},LineString:function(t,n){return vu(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)if(vu(e[r],n))return!0;return!1},Polygon:function(t,n){return mu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)if(mu(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,o=e.length;++r<o;)if(du(e[r],n))return!0;return!1}};function du(t,n){return!(!t||!pu.hasOwnProperty(t.type))&&pu[t.type](t,n)}function gu(t,n){return 0===fu(t,n)}function vu(t,n){for(var e,r,o,i=0,a=t.length;i<a;i++){if(0===(r=fu(t[i],n)))return!0;if(i>0&&(o=fu(t[i],t[i-1]))>0&&e<=o&&r<=o&&(e+r-o)*(1-Math.pow((e-r)/o,2))<Bo*o)return!0;e=r}return!1}function mu(t,n){return!!Ha(t.map(yu),bu(n))}function yu(t){return(t=t.map(bu)).pop(),t}function bu(t){return[t[0]*Ho,t[1]*Ho]}function wu(t,n,e){var r=Et(t,n-Ro,e).concat(n);return function(t){return r.map((function(n){return[t,n]}))}}function _u(t,n,e){var r=Et(t,n-Ro,e).concat(n);return function(t){return r.map((function(n){return[n,t]}))}}function xu(){var t,n,e,r,o,i,a,u,c,l,s,f,h=10,p=h,d=90,g=360,v=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return Et(Zo(r/d)*d,e,d).map(s).concat(Et(Zo(u/g)*g,a,g).map(f)).concat(Et(Zo(n/h)*h,t,h).filter((function(t){return Go(t%d)>Ro})).map(c)).concat(Et(Zo(i/p)*p,o,p).filter((function(t){return Go(t%g)>Ro})).map(l))}return m.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(f(a).slice(1),s(e).reverse().slice(1),f(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],u=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),u>a&&(t=u,u=a,a=t),m.precision(v)):[[r,u],[e,a]]},m.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],i=+e[0][1],o=+e[1][1],n>t&&(e=n,n=t,t=e),i>o&&(e=i,i=o,o=e),m.precision(v)):[[n,i],[t,o]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(d=+t[0],g=+t[1],m):[d,g]},m.stepMinor=function(t){return arguments.length?(h=+t[0],p=+t[1],m):[h,p]},m.precision=function(h){return arguments.length?(v=+h,c=wu(i,o,90),l=_u(n,t,v),s=wu(u,a,90),f=_u(r,e,v),m):v},m.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Mu(t){return t}var ku,Au,Su,Eu,Ou=Lo(),ju=Lo(),$u={point:ui,lineStart:ui,lineEnd:ui,polygonStart:function(){$u.lineStart=Nu,$u.lineEnd=Lu},polygonEnd:function(){$u.lineStart=$u.lineEnd=$u.point=ui,Ou.add(Go(ju)),ju.reset()},result:function(){var t=Ou/2;return Ou.reset(),t}};function Nu(){$u.point=zu}function zu(t,n){$u.point=Pu,ku=Su=t,Au=Eu=n}function Pu(t,n){ju.add(Eu*t-Su*n),Su=t,Eu=n}function Lu(){Pu(ku,Au)}var Tu=1/0,Du=Tu,Cu=-Tu,Ru=Cu,Bu={point:function(t,n){t<Tu&&(Tu=t);t>Cu&&(Cu=t);n<Du&&(Du=n);n>Ru&&(Ru=n)},lineStart:ui,lineEnd:ui,polygonStart:ui,polygonEnd:ui,result:function(){var t=[[Tu,Du],[Cu,Ru]];return Cu=Ru=-(Du=Tu=1/0),t}};var qu,Fu,Wu,Iu,Yu=0,Hu=0,Gu=0,Xu=0,Uu=0,Vu=0,Zu=0,Ku=0,Ju=0,Qu={point:tc,lineStart:nc,lineEnd:oc,polygonStart:function(){Qu.lineStart=ic,Qu.lineEnd=ac},polygonEnd:function(){Qu.point=tc,Qu.lineStart=nc,Qu.lineEnd=oc},result:function(){var t=Ju?[Zu/Ju,Ku/Ju]:Vu?[Xu/Vu,Uu/Vu]:Gu?[Yu/Gu,Hu/Gu]:[NaN,NaN];return Yu=Hu=Gu=Xu=Uu=Vu=Zu=Ku=Ju=0,t}};function tc(t,n){Yu+=t,Hu+=n,++Gu}function nc(){Qu.point=ec}function ec(t,n){Qu.point=rc,tc(Wu=t,Iu=n)}function rc(t,n){var e=t-Wu,r=n-Iu,o=ei(e*e+r*r);Xu+=o*(Wu+t)/2,Uu+=o*(Iu+n)/2,Vu+=o,tc(Wu=t,Iu=n)}function oc(){Qu.point=tc}function ic(){Qu.point=uc}function ac(){cc(qu,Fu)}function uc(t,n){Qu.point=cc,tc(qu=Wu=t,Fu=Iu=n)}function cc(t,n){var e=t-Wu,r=n-Iu,o=ei(e*e+r*r);Xu+=o*(Wu+t)/2,Uu+=o*(Iu+n)/2,Vu+=o,Zu+=(o=Iu*t-Wu*n)*(Wu+t),Ku+=o*(Iu+n),Ju+=3*o,tc(Wu=t,Iu=n)}function lc(t){this._context=t}lc.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Io)}},result:ui};var sc,fc,hc,pc,dc,gc=Lo(),vc={point:ui,lineStart:function(){vc.point=mc},lineEnd:function(){sc&&yc(fc,hc),vc.point=ui},polygonStart:function(){sc=!0},polygonEnd:function(){sc=null},result:function(){var t=+gc;return gc.reset(),t}};function mc(t,n){vc.point=yc,fc=pc=t,hc=dc=n}function yc(t,n){pc-=t,dc-=n,gc.add(ei(pc*pc+dc*dc)),pc=t,dc=n}function bc(){this._string=[]}function wc(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function _c(t,n){var e,r,o=4.5;function i(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),pi(t,e(r))),r.result()}return i.area=function(t){return pi(t,e($u)),$u.result()},i.measure=function(t){return pi(t,e(vc)),vc.result()},i.bounds=function(t){return pi(t,e(Bu)),Bu.result()},i.centroid=function(t){return pi(t,e(Qu)),Qu.result()},i.projection=function(n){return arguments.length?(e=null==n?(t=null,Mu):(t=n).stream,i):t},i.context=function(t){return arguments.length?(r=null==t?(n=null,new bc):new lc(n=t),"function"!=typeof o&&r.pointRadius(o),i):n},i.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),i):o},i.projection(t).context(n)}function xc(t){return{stream:Mc(t)}}function Mc(t){return function(n){var e=new kc;for(var r in t)e[r]=t[r];return e.stream=n,e}}function kc(){}function Ac(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),pi(e,t.stream(Bu)),n(Bu.result()),null!=r&&t.clipExtent(r),t}function Sc(t,n,e){return Ac(t,(function(e){var r=n[1][0]-n[0][0],o=n[1][1]-n[0][1],i=Math.min(r/(e[1][0]-e[0][0]),o/(e[1][1]-e[0][1])),a=+n[0][0]+(r-i*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(o-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([a,u])}),e)}function Ec(t,n,e){return Sc(t,[[0,0],n],e)}function Oc(t,n,e){return Ac(t,(function(e){var r=+n,o=r/(e[1][0]-e[0][0]),i=(r-o*(e[1][0]+e[0][0]))/2,a=-o*e[0][1];t.scale(150*o).translate([i,a])}),e)}function jc(t,n,e){return Ac(t,(function(e){var r=+n,o=r/(e[1][1]-e[0][1]),i=-o*e[0][0],a=(r-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([i,a])}),e)}bc.prototype={_radius:4.5,_circle:wc(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=wc(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},kc.prototype={constructor:kc,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var $c=Vo(30*Ho);function Nc(t,n){return+n?function(t,n){function e(r,o,i,a,u,c,l,s,f,h,p,d,g,v){var m=l-r,y=s-o,b=m*m+y*y;if(b>4*n&&g--){var w=a+h,_=u+p,x=c+d,M=ei(w*w+_*_+x*x),k=ii(x/=M),A=Go(Go(x)-1)<Ro||Go(i-f)<Ro?(i+f)/2:Uo(_,w),S=t(A,k),E=S[0],O=S[1],j=E-r,$=O-o,N=y*j-m*$;(N*N/b>n||Go((m*j+y*$)/b-.5)>.3||a*h+u*p+c*d<$c)&&(e(r,o,i,a,u,c,E,O,A,w/=M,_/=M,x,g,v),v.point(E,O),e(E,O,A,w,_,x,l,s,f,h,p,d,g,v))}}return function(n){var r,o,i,a,u,c,l,s,f,h,p,d,g={point:v,lineStart:m,lineEnd:b,polygonStart:function(){n.polygonStart(),g.lineStart=w},polygonEnd:function(){n.polygonEnd(),g.lineStart=m}};function v(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){s=NaN,g.point=y,n.lineStart()}function y(r,o){var i=Ei([r,o]),a=t(r,o);e(s,f,l,h,p,d,s=a[0],f=a[1],l=r,h=i[0],p=i[1],d=i[2],16,n),n.point(s,f)}function b(){g.point=v,n.lineEnd()}function w(){m(),g.point=_,g.lineEnd=x}function _(t,n){y(r=t,n),o=s,i=f,a=h,u=p,c=d,g.point=y}function x(){e(s,f,l,h,p,d,o,i,r,a,u,c,16,n),g.lineEnd=b,b()}return g}}(t,n):function(t){return Mc({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var zc=Mc({point:function(t,n){this.stream.point(t*Ho,n*Ho)}});function Pc(t,n,e,r,o){function i(i,a){return[n+t*(i*=r),e-t*(a*=o)]}return i.invert=function(i,a){return[(i-n)/t*r,(e-a)/t*o]},i}function Lc(t,n,e,r,o,i){var a=Vo(i),u=ti(i),c=a*t,l=u*t,s=a/t,f=u/t,h=(u*e-a*n)/t,p=(u*n+a*e)/t;function d(t,i){return[c*(t*=r)-l*(i*=o)+n,e-l*t-c*i]}return d.invert=function(t,n){return[r*(s*t-f*n+h),o*(p-f*t-s*n)]},d}function Tc(t){return Dc((function(){return t}))()}function Dc(t){var n,e,r,o,i,a,u,c,l,s,f=150,h=480,p=250,d=0,g=0,v=0,m=0,y=0,b=0,w=1,_=1,x=null,M=Va,k=null,A=Mu,S=.5;function E(t){return c(t[0]*Ho,t[1]*Ho)}function O(t){return(t=c.invert(t[0],t[1]))&&[t[0]*Yo,t[1]*Yo]}function j(){var t=Lc(f,0,0,w,_,b).apply(null,n(d,g)),r=(b?Lc:Pc)(f,h-t[0],p-t[1],w,_,b);return e=Na(v,m,y),u=ja(n,r),c=ja(e,u),a=Nc(u,S),$()}function $(){return l=s=null,E}return E.stream=function(t){return l&&s===t?l:l=zc(function(t){return Mc({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(M(a(A(s=t)))))},E.preclip=function(t){return arguments.length?(M=t,x=void 0,$()):M},E.postclip=function(t){return arguments.length?(A=t,k=r=o=i=null,$()):A},E.clipAngle=function(t){return arguments.length?(M=+t?Za(x=t*Ho):(x=null,Va),$()):x*Yo},E.clipExtent=function(t){return arguments.length?(A=null==t?(k=r=o=i=null,Mu):Qa(k=+t[0][0],r=+t[0][1],o=+t[1][0],i=+t[1][1]),$()):null==k?null:[[k,r],[o,i]]},E.scale=function(t){return arguments.length?(f=+t,j()):f},E.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],j()):[h,p]},E.center=function(t){return arguments.length?(d=t[0]%360*Ho,g=t[1]%360*Ho,j()):[d*Yo,g*Yo]},E.rotate=function(t){return arguments.length?(v=t[0]%360*Ho,m=t[1]%360*Ho,y=t.length>2?t[2]%360*Ho:0,j()):[v*Yo,m*Yo,y*Yo]},E.angle=function(t){return arguments.length?(b=t%360*Ho,j()):b*Yo},E.reflectX=function(t){return arguments.length?(w=t?-1:1,j()):w<0},E.reflectY=function(t){return arguments.length?(_=t?-1:1,j()):_<0},E.precision=function(t){return arguments.length?(a=Nc(u,S=t*t),$()):ei(S)},E.fitExtent=function(t,n){return Sc(E,t,n)},E.fitSize=function(t,n){return Ec(E,t,n)},E.fitWidth=function(t,n){return Oc(E,t,n)},E.fitHeight=function(t,n){return jc(E,t,n)},function(){return n=t.apply(this,arguments),E.invert=n.invert&&O,j()}}function Cc(t){var n=0,e=qo/3,r=Dc(t),o=r(n,e);return o.parallels=function(t){return arguments.length?r(n=t[0]*Ho,e=t[1]*Ho):[n*Yo,e*Yo]},o}function Rc(t,n){var e=ti(t),r=(e+ti(n))/2;if(Go(r)<Ro)return function(t){var n=Vo(t);function e(t,e){return[t*n,ti(e)/n]}return e.invert=function(t,e){return[t/n,ii(e*n)]},e}(t);var o=1+e*(2*r-e),i=ei(o)/r;function a(t,n){var e=ei(o-2*r*ti(n))/r;return[e*ti(t*=r),i-e*Vo(t)]}return a.invert=function(t,n){var e=i-n,a=Uo(t,Go(e))*ni(e);return e*r<0&&(a-=qo*ni(t)*ni(e)),[a/r,ii((o-(t*t+e*e)*r*r)/(2*r))]},a}function Bc(){return Cc(Rc).scale(155.424).center([0,33.6442])}function qc(){return Bc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Fc(t){return function(n,e){var r=Vo(n),o=Vo(e),i=t(r*o);return[i*o*ti(n),i*ti(e)]}}function Wc(t){return function(n,e){var r=ei(n*n+e*e),o=t(r),i=ti(o),a=Vo(o);return[Uo(n*i,r*a),ii(r&&e*i/r)]}}var Ic=Fc((function(t){return ei(2/(1+t))}));Ic.invert=Wc((function(t){return 2*ii(t/2)}));var Yc=Fc((function(t){return(t=oi(t))&&t/ti(t)}));function Hc(t,n){return[t,Jo(ri((Fo+n)/2))]}function Gc(t){var n,e,r,o=Tc(t),i=o.center,a=o.scale,u=o.translate,c=o.clipExtent,l=null;function s(){var i=qo*a(),u=o(Ta(o.rotate()).invert([0,0]));return c(null==l?[[u[0]-i,u[1]-i],[u[0]+i,u[1]+i]]:t===Hc?[[Math.max(u[0]-i,l),n],[Math.min(u[0]+i,e),r]]:[[l,Math.max(u[1]-i,n)],[e,Math.min(u[1]+i,r)]])}return o.scale=function(t){return arguments.length?(a(t),s()):a()},o.translate=function(t){return arguments.length?(u(t),s()):u()},o.center=function(t){return arguments.length?(i(t),s()):i()},o.clipExtent=function(t){return arguments.length?(null==t?l=n=e=r=null:(l=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==l?null:[[l,n],[e,r]]},s()}function Xc(t){return ri((Fo+t)/2)}function Uc(t,n){var e=Vo(t),r=t===n?ti(t):Jo(e/Vo(n))/Jo(Xc(n)/Xc(t)),o=e*Qo(Xc(t),r)/r;if(!r)return Hc;function i(t,n){o>0?n<-Fo+Ro&&(n=-Fo+Ro):n>Fo-Ro&&(n=Fo-Ro);var e=o/Qo(Xc(n),r);return[e*ti(r*t),o-e*Vo(r*t)]}return i.invert=function(t,n){var e=o-n,i=ni(r)*ei(t*t+e*e),a=Uo(t,Go(e))*ni(e);return e*r<0&&(a-=qo*ni(t)*ni(e)),[a/r,2*Xo(Qo(o/i,1/r))-Fo]},i}function Vc(t,n){return[t,n]}function Zc(t,n){var e=Vo(t),r=t===n?ti(t):(e-Vo(n))/(n-t),o=e/r+t;if(Go(r)<Ro)return Vc;function i(t,n){var e=o-n,i=r*t;return[e*ti(i),o-e*Vo(i)]}return i.invert=function(t,n){var e=o-n,i=Uo(t,Go(e))*ni(e);return e*r<0&&(i-=qo*ni(t)*ni(e)),[i/r,o-ni(r)*ei(t*t+e*e)]},i}Yc.invert=Wc((function(t){return t})),Hc.invert=function(t,n){return[t,2*Xo(Ko(n))-Fo]},Vc.invert=Vc;var Kc=1.340264,Jc=-.081106,Qc=893e-6,tl=.003796,nl=ei(3)/2;function el(t,n){var e=ii(nl*ti(n)),r=e*e,o=r*r*r;return[t*Vo(e)/(nl*(Kc+3*Jc*r+o*(7*Qc+9*tl*r))),e*(Kc+Jc*r+o*(Qc+tl*r))]}function rl(t,n){var e=Vo(n),r=Vo(t)*e;return[e*ti(t)/r,ti(n)/r]}function ol(){var t,n,e,r,o,i,a,u=1,c=0,l=0,s=1,f=1,h=0,p=null,d=1,g=1,v=Mc({point:function(t,n){var e=b([t,n]);this.stream.point(e[0],e[1])}}),m=Mu;function y(){return d=u*s,g=u*f,i=a=null,b}function b(e){var r=e[0]*d,o=e[1]*g;if(h){var i=o*t-r*n;r=r*t+o*n,o=i}return[r+c,o+l]}return b.invert=function(e){var r=e[0]-c,o=e[1]-l;if(h){var i=o*t+r*n;r=r*t-o*n,o=i}return[r/d,o/g]},b.stream=function(t){return i&&a===t?i:i=v(m(a=t))},b.postclip=function(t){return arguments.length?(m=t,p=e=r=o=null,y()):m},b.clipExtent=function(t){return arguments.length?(m=null==t?(p=e=r=o=null,Mu):Qa(p=+t[0][0],e=+t[0][1],r=+t[1][0],o=+t[1][1]),y()):null==p?null:[[p,e],[r,o]]},b.scale=function(t){return arguments.length?(u=+t,y()):u},b.translate=function(t){return arguments.length?(c=+t[0],l=+t[1],y()):[c,l]},b.angle=function(e){return arguments.length?(n=ti(h=e%360*Ho),t=Vo(h),y()):h*Yo},b.reflectX=function(t){return arguments.length?(s=t?-1:1,y()):s<0},b.reflectY=function(t){return arguments.length?(f=t?-1:1,y()):f<0},b.fitExtent=function(t,n){return Sc(b,t,n)},b.fitSize=function(t,n){return Ec(b,t,n)},b.fitWidth=function(t,n){return Oc(b,t,n)},b.fitHeight=function(t,n){return jc(b,t,n)},b}function il(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function al(t,n){return[Vo(n)*ti(t),ti(n)]}function ul(t,n){var e=Vo(n),r=1+Vo(t)*e;return[e*ti(t)/r,ti(n)/r]}function cl(t,n){return[Jo(ri((Fo+n)/2)),-t]}el.invert=function(t,n){for(var e,r=n,o=r*r,i=o*o*o,a=0;a<12&&(i=(o=(r-=e=(r*(Kc+Jc*o+i*(Qc+tl*o))-n)/(Kc+3*Jc*o+i*(7*Qc+9*tl*o)))*r)*o*o,!(Go(e)<Bo));++a);return[nl*t*(Kc+3*Jc*o+i*(7*Qc+9*tl*o))/Vo(r),ii(ti(r)/nl)]},rl.invert=Wc(Xo),il.invert=function(t,n){var e,r=n,o=25;do{var i=r*r,a=i*i;r-=e=(r*(1.007226+i*(.015085+a*(.028874*i-.044475-.005916*a)))-n)/(1.007226+i*(.045255+a*(.259866*i-.311325-.005916*11*a)))}while(Go(e)>Ro&&--o>0);return[t/(.8707+(i=r*r)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),r]},al.invert=Wc(ii),ul.invert=Wc((function(t){return 2*Xo(t)})),cl.invert=function(t,n){return[-n,2*Xo(Ko(t))-Fo]};var ll=Object.freeze({__proto__:null,geoArea:function(t){return wi.reset(),pi(t,_i),2*wi},geoBounds:function(t){var n,e,r,o,i,a,u;if(Di=Ti=-(Pi=Li=1/0),Fi=[],pi(t,aa),e=Fi.length){for(Fi.sort(ga),n=1,i=[r=Fi[0]];n<e;++n)va(r,(o=Fi[n])[0])||va(r,o[1])?(da(r[0],o[1])>da(r[0],r[1])&&(r[1]=o[1]),da(o[0],r[1])>da(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(a=-1/0,n=0,r=i[e=i.length-1];n<=e;r=o,++n)o=i[n],(u=da(r[1],o[0]))>a&&(a=u,Pi=o[0],Ti=r[1])}return Fi=Wi=null,Pi===1/0||Li===1/0?[[NaN,NaN],[NaN,NaN]]:[[Pi,Li],[Ti,Di]]},geoCentroid:function(t){Ii=Yi=Hi=Gi=Xi=Ui=Vi=Zi=Ki=Ji=Qi=0,pi(t,ma);var n=Ki,e=Ji,r=Qi,o=n*n+e*e+r*r;return o<Bo&&(n=Ui,e=Vi,r=Zi,Yi<Ro&&(n=Hi,e=Gi,r=Xi),(o=n*n+e*e+r*r)<Bo)?[NaN,NaN]:[Uo(e,n)*Yo,ii(r/ei(o))*Yo]},geoCircle:function(){var t,n,e=Oa([0,0]),r=Oa(90),o=Oa(6),i={point:function(e,r){t.push(e=n(e,r)),e[0]*=Yo,e[1]*=Yo}};function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*Ho,c=o.apply(this,arguments)*Ho;return t=[],n=Na(-a[0]*Ho,-a[1]*Ho,0).invert,Da(i,u,c,1),a={type:"Polygon",coordinates:[t]},t=n=null,a}return a.center=function(t){return arguments.length?(e="function"==typeof t?t:Oa([+t[0],+t[1]]),a):e},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:Oa(+t),a):r},a.precision=function(t){return arguments.length?(o="function"==typeof t?t:Oa(+t),a):o},a},geoClipAntimeridian:Va,geoClipCircle:Za,geoClipExtent:function(){var t,n,e,r=0,o=0,i=960,a=500;return e={stream:function(e){return t&&n===e?t:t=Qa(r,o,i,a)(n=e)},extent:function(u){return arguments.length?(r=+u[0][0],o=+u[0][1],i=+u[1][0],a=+u[1][1],t=n=null,e):[[r,o],[i,a]]}}},geoClipRectangle:Qa,geoContains:function(t,n){return(t&&hu.hasOwnProperty(t.type)?hu[t.type]:du)(t,n)},geoDistance:fu,geoGraticule:xu,geoGraticule10:function(){return xu()()},geoInterpolate:function(t,n){var e=t[0]*Ho,r=t[1]*Ho,o=n[0]*Ho,i=n[1]*Ho,a=Vo(r),u=ti(r),c=Vo(i),l=ti(i),s=a*Vo(e),f=a*ti(e),h=c*Vo(o),p=c*ti(o),d=2*ii(ei(ai(i-r)+a*c*ai(o-e))),g=ti(d),v=d?function(t){var n=ti(t*=d)/g,e=ti(d-t)/g,r=e*s+n*h,o=e*f+n*p,i=e*u+n*l;return[Uo(o,r)*Yo,Uo(i,ei(r*r+o*o))*Yo]}:function(){return[e*Yo,r*Yo]};return v.distance=d,v},geoLength:cu,geoPath:_c,geoAlbers:qc,geoAlbersUsa:function(){var t,n,e,r,o,i,a=qc(),u=Bc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=Bc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){i=[t,n]}};function s(t){var n=t[0],a=t[1];return i=null,e.point(n,a),i||(r.point(n,a),i)||(o.point(n,a),i)}function f(){return t=n=null,s}return s.invert=function(t){var n=a.scale(),e=a.translate(),r=(t[0]-e[0])/n,o=(t[1]-e[1])/n;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?u:o>=.166&&o<.234&&r>=-.214&&r<-.115?c:a).invert(t)},s.stream=function(e){return t&&n===e?t:(r=[a.stream(n=e),u.stream(e),c.stream(e)],o=r.length,t={point:function(t,n){for(var e=-1;++e<o;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<o;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<o;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<o;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<o;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<o;)r[t].polygonEnd()}});var r,o},s.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),c.precision(t),f()):a.precision()},s.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),c.scale(t),s.translate(a.translate())):a.scale()},s.translate=function(t){if(!arguments.length)return a.translate();var n=a.scale(),i=+t[0],s=+t[1];return e=a.translate(t).clipExtent([[i-.455*n,s-.238*n],[i+.455*n,s+.238*n]]).stream(l),r=u.translate([i-.307*n,s+.201*n]).clipExtent([[i-.425*n+Ro,s+.12*n+Ro],[i-.214*n-Ro,s+.234*n-Ro]]).stream(l),o=c.translate([i-.205*n,s+.212*n]).clipExtent([[i-.214*n+Ro,s+.166*n+Ro],[i-.115*n-Ro,s+.234*n-Ro]]).stream(l),f()},s.fitExtent=function(t,n){return Sc(s,t,n)},s.fitSize=function(t,n){return Ec(s,t,n)},s.fitWidth=function(t,n){return Oc(s,t,n)},s.fitHeight=function(t,n){return jc(s,t,n)},s.scale(1070)},geoAzimuthalEqualArea:function(){return Tc(Ic).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:Ic,geoAzimuthalEquidistant:function(){return Tc(Yc).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:Yc,geoConicConformal:function(){return Cc(Uc).scale(109.5).parallels([30,30])},geoConicConformalRaw:Uc,geoConicEqualArea:Bc,geoConicEqualAreaRaw:Rc,geoConicEquidistant:function(){return Cc(Zc).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:Zc,geoEqualEarth:function(){return Tc(el).scale(177.158)},geoEqualEarthRaw:el,geoEquirectangular:function(){return Tc(Vc).scale(152.63)},geoEquirectangularRaw:Vc,geoGnomonic:function(){return Tc(rl).scale(144.049).clipAngle(60)},geoGnomonicRaw:rl,geoIdentity:ol,geoProjection:Tc,geoProjectionMutator:Dc,geoMercator:function(){return Gc(Hc).scale(961/Io)},geoMercatorRaw:Hc,geoNaturalEarth1:function(){return Tc(il).scale(175.295)},geoNaturalEarth1Raw:il,geoOrthographic:function(){return Tc(al).scale(249.5).clipAngle(90.000001)},geoOrthographicRaw:al,geoStereographic:function(){return Tc(ul).scale(250).clipAngle(142)},geoStereographicRaw:ul,geoTransverseMercator:function(){var t=Gc(cl),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:cl,geoRotation:Ta,geoStream:pi,geoTransform:xc}),sl=r(ll);function fl(t,n){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return hl(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return hl(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw i}}}}function hl(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var pl=e((function(t,n){!function(t,n){var e=1e-6;function r(t){return{point:function(n,e){var r,o=fl(t);try{for(o.s();!(r=o.n()).done;)r.value.point(n,e)}catch(t){o.e(t)}finally{o.f()}},sphere:function(){var n,e=fl(t);try{for(e.s();!(n=e.n()).done;)n.value.sphere()}catch(t){e.e(t)}finally{e.f()}},lineStart:function(){var n,e=fl(t);try{for(e.s();!(n=e.n()).done;)n.value.lineStart()}catch(t){e.e(t)}finally{e.f()}},lineEnd:function(){var n,e=fl(t);try{for(e.s();!(n=e.n()).done;)n.value.lineEnd()}catch(t){e.e(t)}finally{e.f()}},polygonStart:function(){var n,e=fl(t);try{for(e.s();!(n=e.n()).done;)n.value.polygonStart()}catch(t){e.e(t)}finally{e.f()}},polygonEnd:function(){var n,e=fl(t);try{for(e.s();!(n=e.n()).done;)n.value.polygonEnd()}catch(t){e.e(t)}finally{e.f()}}}}function o(){var t,o,i,a,u,c,l,s,f,h=n.geoAlbers(),p=n.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=n.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),g=n.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),v=n.geoConicEqualArea().rotate([-145,0]).center([0,16]).parallels([10,20]),m=n.geoConicEqualArea().rotate([170,0]).center([0,-14]).parallels([-14,0]),y={point:function(t,n){f=[t,n]}};function b(t){var n=t[0],e=t[1];return f=null,i.point(n,e),f||(a.point(n,e),f)||(u.point(n,e),f)||(c.point(n,e),f)||(l.point(n,e),f)||(s.point(n,e),f)}function w(){return t=o=null,b}return b.invert=function(t){var n=h.scale(),e=h.translate(),r=(t[0]-e[0])/n,o=(t[1]-e[1])/n;return(o>=.12&&o<.234&&r>=-.225&&r<-.185?p:o>=.166&&o<.234&&r>=-.185&&r<-.08?d:o>=.204&&o<.234&&r>=.3&&r<.38?g:o>=.05&&o<.204&&r>=-.415&&r<-.225?v:o>=.18&&o<.234&&r>=-.415&&r<-.225?m:h).invert(t)},b.stream=function(n){return t&&o===n?t:t=r([h.stream(o=n),p.stream(n),d.stream(n),g.stream(n),v.stream(n),m.stream(n)])},b.precision=function(t){return arguments.length?(h.precision(t),p.precision(t),d.precision(t),g.precision(t),v.precision(t),m.precision(t),w()):h.precision()},b.scale=function(t){return arguments.length?(h.scale(t),p.scale(.35*t),d.scale(t),g.scale(t),v.scale(t),m.scale(t),b.translate(h.translate())):h.scale()},b.translate=function(t){if(!arguments.length)return h.translate();var n=h.scale(),r=+t[0],o=+t[1];return i=h.translate(t).clipExtent([[r-.455*n,o-.238*n],[r+.455*n,o+.238*n]]).stream(y),a=p.translate([r-.275*n,o+.201*n]).clipExtent([[r-.425*n+e,o+.12*n+e],[r-.185*n-e,o+.234*n-e]]).stream(y),u=d.translate([r-.18*n,o+.212*n]).clipExtent([[r-.185*n+e,o+.166*n+e],[r-.08*n-e,o+.234*n-e]]).stream(y),c=g.translate([r+.335*n,o+.224*n]).clipExtent([[r+.3*n,o+.204*n],[r+.38*n,o+.234*n]]).stream(y),l=v.translate([r-.415*n,o+.14*n]).clipExtent([[r-.45*n,o+.05*n],[r-.39*n,o+.21*n]]).stream(y),s=m.translate([r-.415*n,o+.215*n]).clipExtent([[r-.45*n,o+.21*n],[r-.39*n,o+.234*n]]).stream(y),w()},b.scale(1070)}t.geoAlbersUsaTerritories=o,Object.defineProperty(t,"__esModule",{value:!0})}(n,sl)}));function dl(t){return t}function gl(t){if(null==t)return dl;var n,e,r=t.scale[0],o=t.scale[1],i=t.translate[0],a=t.translate[1];return function(t,u){u||(n=e=0);var c=2,l=t.length,s=new Array(l);for(s[0]=(n+=t[0])*r+i,s[1]=(e+=t[1])*o+a;c<l;)s[c]=t[c],++c;return s}}function vl(t,n){return"string"==typeof n&&(n=t.objects[n]),"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map((function(n){return ml(t,n)}))}:ml(t,n)}function ml(t,n){var e=n.id,r=n.bbox,o=null==n.properties?{}:n.properties,i=yl(t,n);return null==e&&null==r?{type:"Feature",properties:o,geometry:i}:null==r?{type:"Feature",id:e,properties:o,geometry:i}:{type:"Feature",id:e,bbox:r,properties:o,geometry:i}}function yl(t,n){var e=gl(t.transform),r=t.arcs;function o(t,n){n.length&&n.pop();for(var o=r[t<0?~t:t],i=0,a=o.length;i<a;++i)n.push(e(o[i],i));t<0&&function(t,n){for(var e,r=t.length,o=r-n;o<--r;)e=t[o],t[o++]=t[r],t[r]=e}(n,a)}function i(t){return e(t)}function a(t){for(var n=[],e=0,r=t.length;e<r;++e)o(t[e],n);return n.length<2&&n.push(n[0]),n}function u(t){for(var n=a(t);n.length<4;)n.push(n[0]);return n}function c(t){return t.map(u)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=i(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(i);break;case"LineString":e=a(n.arcs);break;case"MultiLineString":e=n.arcs.map(a);break;case"Polygon":e=c(n.arcs);break;case"MultiPolygon":e=n.arcs.map(c);break;default:return null}return{type:r,coordinates:e}}(n)}function bl(t,n){var e={},r={},o={},i=[],a=-1;function u(t,n){for(var r in t){var o=t[r];delete n[o.start],delete o.start,delete o.end,o.forEach((function(t){e[t<0?~t:t]=1})),i.push(o)}}return n.forEach((function(e,r){var o,i=t.arcs[e<0?~e:e];i.length<3&&!i[1][0]&&!i[1][1]&&(o=n[++a],n[a]=e,n[r]=o)})),n.forEach((function(n){var e,i,a=function(n){var e,r=t.arcs[n<0?~n:n],o=r[0];t.transform?(e=[0,0],r.forEach((function(t){e[0]+=t[0],e[1]+=t[1]}))):e=r[r.length-1];return n<0?[e,o]:[o,e]}(n),u=a[0],c=a[1];if(e=o[u])if(delete o[e.end],e.push(n),e.end=c,i=r[c]){delete r[i.start];var l=i===e?e:e.concat(i);r[l.start=e.start]=o[l.end=i.end]=l}else r[e.start]=o[e.end]=e;else if(e=r[c])if(delete r[e.start],e.unshift(n),e.start=u,i=o[u]){delete o[i.end];var s=i===e?e:i.concat(e);r[s.start=i.start]=o[s.end=e.end]=s}else r[e.start]=o[e.end]=e;else r[(e=[n]).start=u]=o[e.end=c]=e})),u(o,r),u(r,o),n.forEach((function(t){e[t<0?~t:t]||i.push([t])})),i}function wl(t,n,e){var r,o,i;if(arguments.length>1)r=_l(t,n,e);else for(o=0,r=new Array(i=t.arcs.length);o<i;++o)r[o]=o;return{type:"MultiLineString",arcs:bl(t,r)}}function _l(t,n,e){var r,o=[],i=[];function a(t){var n=t<0?~t:t;(i[n]||(i[n]=[])).push({i:t,g:r})}function u(t){t.forEach(a)}function c(t){t.forEach(u)}return function t(n){switch(r=n,n.type){case"GeometryCollection":n.geometries.forEach(t);break;case"LineString":u(n.arcs);break;case"MultiLineString":case"Polygon":c(n.arcs);break;case"MultiPolygon":!function(t){t.forEach(c)}(n.arcs)}}(n),i.forEach(null==e?function(t){o.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&o.push(t[0].i)}),o}function xl(t){var n=t[0],e=t[1],r=t[2];return Math.abs((n[0]-r[0])*(e[1]-n[1])-(n[0]-e[0])*(r[1]-n[1]))/2}function Ml(t,n){return t[1][2]-n[1][2]}function kl(t){return[t[0],t[1],0]}function Al(t,n){var e=t.transform?gl(t.transform):kl,r=function(){var t={},n=[],e=0;function r(t,e){for(;e>0;){var r=(e+1>>1)-1,o=n[r];if(Ml(t,o)>=0)break;n[o._=e]=o,n[t._=e=r]=t}}function o(t,r){for(;;){var o=r+1<<1,i=o-1,a=r,u=n[a];if(i<e&&Ml(n[i],u)<0&&(u=n[a=i]),o<e&&Ml(n[o],u)<0&&(u=n[a=o]),a===r)break;n[u._=r]=u,n[t._=r=a]=t}}return t.push=function(t){return r(n[t._=e]=t,e++),e},t.pop=function(){if(!(e<=0)){var t,r=n[0];return--e>0&&(t=n[e],o(n[t._=0]=t,0)),r}},t.remove=function(t){var i,a=t._;if(n[a]===t)return a!==--e&&(Ml(i=n[e],t)<0?r:o)(n[i._=a]=i,a),a},t}();null==n&&(n=xl);var o=t.arcs.map((function(t){var o,a,u,c=[],l=0;for(a=1,u=(t=t.map(e)).length-1;a<u;++a)(o=[t[a-1],t[a],t[a+1]])[1][2]=n(o),c.push(o),r.push(o);for(t[0][2]=t[u][2]=1/0,a=0,u=c.length;a<u;++a)(o=c[a]).previous=c[a-1],o.next=c[a+1];for(;o=r.pop();){var s=o.previous,f=o.next;o[1][2]<l?o[1][2]=l:l=o[1][2],s&&(s.next=f,s[2]=o[2],i(s)),f&&(f.previous=s,f[0]=o[0],i(f))}return t}));function i(t){r.remove(t),t[1][2]=n(t),r.push(t)}return{type:"Topology",bbox:t.bbox,objects:t.objects,arcs:o}}var Sl=e((function(t,n){t.exports=function(){var t="millisecond",n="second",e="minute",r="hour",o="day",i="week",a="month",u="quarter",c="year",l="date",s=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(t,n,e){var r=String(t);return!r||r.length>=n?t:""+Array(n+1-r.length).join(e)+t},d={s:p,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),o=e%60;return(n<=0?"+":"-")+p(r,2,"0")+":"+p(o,2,"0")},m:function t(n,e){if(n.date()<e.date())return-t(e,n);var r=12*(e.year()-n.year())+(e.month()-n.month()),o=n.clone().add(r,a),i=e-o<0,u=n.clone().add(r+(i?-1:1),a);return+(-(r+(e-o)/(i?o-u:u-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(s){return{M:a,y:c,w:i,d:o,D:l,h:r,m:e,s:n,ms:t,Q:u}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",v={};v[g]=h;var m=function(t){return t instanceof _},y=function(t,n,e){var r;if(!t)return g;if("string"==typeof t)v[t]&&(r=t),n&&(v[t]=n,r=t);else{var o=t.name;v[o]=t,r=o}return!e&&r&&(g=r),r||!e&&g},b=function(t,n){if(m(t))return t.clone();var e="object"==Ht(n)?n:{};return e.date=t,e.args=arguments,new _(e)},w=d;w.l=y,w.i=m,w.w=function(t,n){return b(t,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var _=function(){function h(t){this.$L=y(t.locale,null,!0),this.parse(t)}var p=h.prototype;return p.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(w.u(n))return new Date;if(n instanceof Date)return new Date(n);if("string"==typeof n&&!/Z$/i.test(n)){var r=n.match(s);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return e?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(n)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return w},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(t,n){var e=b(t);return this.startOf(n)<=e&&e<=this.endOf(n)},p.isAfter=function(t,n){return b(t)<this.startOf(n)},p.isBefore=function(t,n){return this.endOf(n)<b(t)},p.$g=function(t,n,e){return w.u(t)?this[n]:this.set(e,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,u){var s=this,f=!!w.u(u)||u,h=w.p(t),p=function(t,n){var e=w.w(s.$u?Date.UTC(s.$y,n,t):new Date(s.$y,n,t),s);return f?e:e.endOf(o)},d=function(t,n){return w.w(s.toDate()[t].apply(s.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),s)},g=this.$W,v=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case c:return f?p(1,0):p(31,11);case a:return f?p(1,v):p(0,v+1);case i:var b=this.$locale().weekStart||0,_=(g<b?g+7:g)-b;return p(f?m-_:m+(6-_),v);case o:case l:return d(y+"Hours",0);case r:return d(y+"Minutes",1);case e:return d(y+"Seconds",2);case n:return d(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(i,u){var s,f=w.p(i),h="set"+(this.$u?"UTC":""),p=(s={},s[o]=h+"Date",s[l]=h+"Date",s[a]=h+"Month",s[c]=h+"FullYear",s[r]=h+"Hours",s[e]=h+"Minutes",s[n]=h+"Seconds",s[t]=h+"Milliseconds",s)[f],d=f===o?this.$D+(u-this.$W):u;if(f===a||f===c){var g=this.clone().set(l,1);g.$d[p](d),g.init(),this.$d=g.set(l,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](d);return this.init(),this},p.set=function(t,n){return this.clone().$set(t,n)},p.get=function(t){return this[w.p(t)]()},p.add=function(t,u){var l,s=this;t=Number(t);var f=w.p(u),h=function(n){var e=b(s);return w.w(e.date(e.date()+Math.round(n*t)),s)};if(f===a)return this.set(a,this.$M+t);if(f===c)return this.set(c,this.$y+t);if(f===o)return h(1);if(f===i)return h(7);var p=(l={},l[e]=6e4,l[r]=36e5,l[n]=1e3,l)[f]||1,d=this.$d.getTime()+t*p;return w.w(d,this)},p.subtract=function(t,n){return this.add(-1*t,n)},p.format=function(t){var n=this;if(!this.isValid())return"Invalid Date";var e=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),o=this.$locale(),i=this.$H,a=this.$m,u=this.$M,c=o.weekdays,l=o.months,s=function(t,r,o,i){return t&&(t[r]||t(n,e))||o[r].substr(0,i)},h=function(t){return w.s(i%12||12,t,"0")},p=o.meridiem||function(t,n,e){var r=t<12?"AM":"PM";return e?r.toLowerCase():r},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:w.s(u+1,2,"0"),MMM:s(o.monthsShort,u,l,3),MMMM:s(l,u),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:s(o.weekdaysMin,this.$W,c,2),ddd:s(o.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(i),HH:w.s(i,2,"0"),h:h(1),hh:h(2),a:p(i,a,!0),A:p(i,a,!1),m:String(a),mm:w.s(a,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return e.replace(f,(function(t,n){return n||d[t]||r.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(t,l,s){var f,h=w.p(l),p=b(t),d=6e4*(p.utcOffset()-this.utcOffset()),g=this-p,v=w.m(this,p);return v=(f={},f[c]=v/12,f[a]=v,f[u]=v/3,f[i]=(g-d)/6048e5,f[o]=(g-d)/864e5,f[r]=g/36e5,f[e]=g/6e4,f[n]=g/1e3,f)[h]||g,s?v:w.a(v)},p.daysInMonth=function(){return this.endOf(a).$D},p.$locale=function(){return v[this.$L]},p.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),r=y(t,n,!0);return r&&(e.$L=r),e},p.clone=function(){return w.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},h}(),x=_.prototype;return b.prototype=x,[["$ms",t],["$s",n],["$m",e],["$H",r],["$W",o],["$M",a],["$y",c],["$D",l]].forEach((function(t){x[t[1]]=function(n){return this.$g(n,t[0],t[1])}})),b.extend=function(t,n){return t.$i||(t(n,_,b),t.$i=!0),b},b.locale=y,b.isDayjs=m,b.unix=function(t){return b(1e3*t)},b.en=v[g],b.Ls=v,b.p={},b}()})),El=e((function(t,n){t.exports=function(t,n,e){var r=n.prototype,o=r.format;e.en.ordinal=function(t){var n=["th","st","nd","rd"],e=t%100;return"["+t+(n[(e-20)%10]||n[e]||n[0])+"]"},r.format=function(t){var n=this,e=this.$locale(),r=this.$utils(),i=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((n.$M+1)/3);case"Do":return e.ordinal(n.$D);case"gggg":return n.weekYear();case"GGGG":return n.isoWeekYear();case"wo":return e.ordinal(n.week(),"W");case"w":case"ww":return r.s(n.week(),"w"===t?1:2,"0");case"W":case"WW":return r.s(n.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return r.s(String(0===n.$H?24:n.$H),"k"===t?1:2,"0");case"X":return Math.floor(n.$d.getTime()/1e3);case"x":return n.$d.getTime();case"z":return"["+n.offsetName()+"]";case"zzz":return"["+n.offsetName("long")+"]";default:return t}}));return o.bind(this)(i)}}})),Ol=e((function(t,n){t.exports=function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,e,r){var o=e.prototype,i=o.format;r.en.formats=t,o.format=function(n){void 0===n&&(n="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,r=function(n,e){return n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(n,r,o){var i=o&&o.toUpperCase();return r||e[o]||t[o]||e[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,n,e){return n||e.slice(1)}))}))}(n,void 0===e?{}:e);return i.call(this,r)}}}()}));function jl(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!n)return t;for(var r=Array.isArray(n)?n:n.split("."),o=t,i=0;i<r.length&&null!=o;i++)o=o[r[i]];return null==o?e:o}function $l(t){if(!t||"object"!==Ht(t))return t;try{return JSON.parse(JSON.stringify(t))}catch(n){return t}}var Nl=e((function(n,e){n.exports=function(){function n(){}function e(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function a(t,n){return t!=t?n==n:t!==n||t&&"object"==Ht(t)||"function"==typeof t}function u(t,n){t.appendChild(n)}function c(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function s(t,n){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function f(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function p(t){return document.createTextNode(t)}function d(){return p(" ")}function g(){return p("")}function v(t,n,e,r){return t.addEventListener(n,e,r),function(){return t.removeEventListener(n,e,r)}}function m(t){return function(n){return n.stopPropagation(),t.call(this,n)}}function y(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function b(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function w(t,n,e){t.classList[e?"add":"remove"](n)}var _,x=function(t){void 0===t&&(t=null),this.a=t,this.e=this.n=null};function M(t){_=t}function k(){if(!_)throw new Error("Function called outside component initialization");return _}function A(t){k().$$.after_update.push(t)}function S(){var t=k();return function(n,e){var r=t.$$.callbacks[n];if(r){var o=function(t,n){var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);r.slice().forEach((function(n){n.call(t,o)}))}}}function E(t,n){var e=t.$$.callbacks[n.type];e&&e.slice().forEach((function(t){return t(n)}))}x.prototype.m=function(t,n,e){void 0===e&&(e=null),this.e||(this.e=f(n.nodeName),this.t=n,this.h(t)),this.i(e)},x.prototype.h=function(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)},x.prototype.i=function(t){for(var n=0;n<this.n.length;n+=1)c(this.t,this.n[n],t)},x.prototype.p=function(t){this.d(),this.h(t),this.i(this.a)},x.prototype.d=function(){this.n.forEach(l)};var O=[],j=[],$=[],N=[],z=Promise.resolve(),P=!1;function L(){P||(P=!0,z.then(B))}function T(t){$.push(t)}function D(t){N.push(t)}var C=!1,R=new Set;function B(){if(!C){C=!0;do{for(var t=0;t<O.length;t+=1){var n=O[t];M(n),q(n.$$)}for(M(null),O.length=0;j.length;)j.pop()();for(var e=0;e<$.length;e+=1){var r=$[e];R.has(r)||(R.add(r),r())}$.length=0}while(O.length);for(;N.length;)N.pop()();P=!1,C=!1,R.clear()}}function q(t){if(null!==t.fragment){t.update(),o(t.before_update);var n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(T)}}var F,W=new Set;function I(){F={r:0,c:[],p:F}}function Y(){F.r||o(F.c),F=F.p}function H(t,n){t&&t.i&&(W.delete(t),t.i(n))}function G(t,n,e,r){if(t&&t.o){if(W.has(t))return;W.add(t),F.c.push((function(){W.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}var X="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:t;function U(t,n,e){var r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function V(t){t&&t.c()}function Z(t,n,r,a){var u=t.$$,c=u.fragment,l=u.on_mount,s=u.on_destroy,f=u.after_update;c&&c.m(n,r),a||T((function(){var n=l.map(e).filter(i);s?s.push.apply(s,n):o(n),t.$$.on_mount=[]})),f.forEach(T)}function K(t,n){var e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function J(t,n){-1===t.$$.dirty[0]&&(O.push(t),L(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function Q(t,e,i,a,u,c,s){void 0===s&&(s=[-1]);var f=_;M(t);var h=t.$$={fragment:null,ctx:null,props:c,update:n,not_equal:u,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:e.context||[]),callbacks:r(),dirty:s,skip_bound:!1},p=!1;if(h.ctx=i?i(t,e.props||{},(function(n,e){for(var r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];var i=r.length?r[0]:e;return h.ctx&&u(h.ctx[n],h.ctx[n]=i)&&(!h.skip_bound&&h.bound[n]&&h.bound[n](i),p&&J(t,n)),e})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!a&&a(h.ctx),e.target){if(e.hydrate){var d=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(d),d.forEach(l)}else h.fragment&&h.fragment.c();e.intro&&H(t.$$.fragment),Z(t,e.target,e.anchor,e.customElement),B()}M(f)}var tt=function(){};tt.prototype.$destroy=function(){K(this,1),this.$destroy=n},tt.prototype.$on=function(t,n){var e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),function(){var t=e.indexOf(n);-1!==t&&e.splice(t,1)}},tt.prototype.$set=function(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)};var nt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:nt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),et.hasOwnProperty(n)?{space:et[n],local:t}:t}function ot(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===nt&&n.documentElement.namespaceURI===nt?n.createElement(t):n.createElementNS(e,t)}}function it(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function at(t){var n=rt(t);return(n.local?it:ot)(n)}function ut(){}function ct(t){return null==t?ut:function(){return this.querySelector(t)}}function lt(){return[]}function st(t){return new Array(t.length)}function ft(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function ht(t,n,e,r,o,i){for(var a,u=0,c=n.length,l=i.length;u<l;++u)(a=n[u])?(a.__data__=i[u],r[u]=a):e[u]=new ft(t,i[u]);for(;u<c;++u)(a=n[u])&&(o[u]=a)}function pt(t,n,e,r,o,i,a){var u,c,l,s={},f=n.length,h=i.length,p=new Array(f);for(u=0;u<f;++u)(c=n[u])&&(p[u]=l="$"+a.call(c,c.__data__,u,n),l in s?o[u]=c:s[l]=c);for(u=0;u<h;++u)(c=s[l="$"+a.call(t,i[u],u,i)])?(r[u]=c,c.__data__=i[u],s[l]=null):e[u]=new ft(t,i[u]);for(u=0;u<f;++u)(c=n[u])&&s[p[u]]===c&&(o[u]=c)}function dt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function gt(t){return function(){this.removeAttribute(t)}}function vt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mt(t,n){return function(){this.setAttribute(t,n)}}function yt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function bt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function wt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function _t(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xt(t){return function(){this.style.removeProperty(t)}}function Mt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function kt(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function At(t,n){return t.style.getPropertyValue(n)||_t(t).getComputedStyle(t,null).getPropertyValue(n)}function St(t){return function(){delete this[t]}}function Et(t,n){return function(){this[t]=n}}function Ot(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function jt(t){return t.trim().split(/^|\s+/)}function $t(t){return t.classList||new Nt(t)}function Nt(t){this._node=t,this._names=jt(t.getAttribute("class")||"")}function zt(t,n){for(var e=$t(t),r=-1,o=n.length;++r<o;)e.add(n[r])}function Pt(t,n){for(var e=$t(t),r=-1,o=n.length;++r<o;)e.remove(n[r])}function Lt(t){return function(){zt(this,t)}}function Tt(t){return function(){Pt(this,t)}}function Dt(t,n){return function(){(n.apply(this,arguments)?zt:Pt)(this,t)}}function Ct(){this.textContent=""}function Rt(t){return function(){this.textContent=t}}function Bt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function qt(){this.innerHTML=""}function Ft(t){return function(){this.innerHTML=t}}function Wt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function It(){this.nextSibling&&this.parentNode.appendChild(this)}function Yt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gt(){return null}function Xt(){var t=this.parentNode;t&&t.removeChild(this)}function Ut(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Vt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}ft.prototype={constructor:ft,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Nt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Zt={};function Kt(t,n,e){return t=Jt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Jt(t,n,e){return function(r){try{t.call(this,this.__data__,n,e)}finally{}}}function Qt(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function tn(t){return function(){var n=this.__on;if(n){for(var e,r=0,o=-1,i=n.length;r<i;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++o]=e:this.removeEventListener(e.type,e.listener,e.capture);++o?n.length=o:delete this.__on}}}function nn(t,n,e){var r=Zt.hasOwnProperty(t.type)?Kt:Jt;return function(o,i,a){var u,c=this.__on,l=r(n,i,a);if(c)for(var s=0,f=c.length;s<f;++s)if((u=c[s]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=e),void(u.value=n);this.addEventListener(t.type,l,e),u={type:t.type,name:t.name,value:n,listener:l,capture:e},c?c.push(u):this.__on=[u]}}function en(t,n,e){var r=_t(t),o=r.CustomEvent;"function"==typeof o?o=new o(n,e):(o=r.document.createEvent("Event"),e?(o.initEvent(n,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(n,!1,!1)),t.dispatchEvent(o)}function rn(t,n){return function(){return en(this,t,n)}}function on(t,n){return function(){return en(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Zt={mouseenter:"mouseover",mouseleave:"mouseout"}));var an=[null];function un(t,n){this._groups=t,this._parents=n}function cn(){return new un([[document.documentElement]],an)}function ln(t){return"string"==typeof t?new un([[document.querySelector(t)]],[document.documentElement]):new un([[t]],an)}function sn(){window.getSelection().removeAllRanges()}function fn(t,n,e){var r=t.slice();return r[12]=n[e],r}function hn(t){var n,e,r,o,i,a;function s(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return t[10].apply(t,[t[12]].concat(n))}return{c:function(){n=f("div"),e=f("div"),r=d(),y(e,"class","resizer-inner svelte-4tyaj0"),y(n,"class",o="resizer "+t[2]+" "+t[12].charAt(0)+" svelte-4tyaj0"),w(n,"drag","line"===t[0].display)},m:function(t,o){c(t,n,o),u(n,e),u(n,r),i||(a=v(n,"mousedown",s),i=!0)},p:function(e,r){t=e,6&r&&o!==(o="resizer "+t[2]+" "+t[12].charAt(0)+" svelte-4tyaj0")&&y(n,"class",o),7&r&&w(n,"drag","line"===t[0].display)},d:function(t){t&&l(n),i=!1,a()}}}function pn(t){for(var e,r=t[1],o=[],i=0;i<r.length;i+=1)o[i]=hn(fn(t,r,i));return{c:function(){e=f("div");for(var t=0;t<o.length;t+=1)o[t].c();y(e,"class","resizers svelte-4tyaj0")},m:function(t,n){c(t,e,n);for(var r=0;r<o.length;r+=1)o[r].m(e,null)},p:function(t,n){var i=n[0];if(15&i){var a;for(r=t[1],a=0;a<r.length;a+=1){var u=fn(t,r,a);o[a]?o[a].p(u,i):(o[a]=hn(u),o[a].c(),o[a].m(e,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},i:n,o:n,d:function(t){t&&l(e),s(o,t)}}}function dn(t,n,e){var r,o,i=S(),a=n.annotation,u=n.type,c=n.index,l=n.activeResizer,s=n.resizing,f=n.noOffsetAtEventStart,h=n.orientation;function p(t,n){t.stopPropagation(),sn(),i("selectAnnotation",{type:u,index:c}),void 0===a.width&&i("setWidth"),e(4,l=n),e(5,s=!0),e(6,f=0===a.dx&&0===a.dy)}return t.$$set=function(t){"annotation"in t&&e(0,a=t.annotation),"type"in t&&e(7,u=t.type),"index"in t&&e(8,c=t.index),"activeResizer"in t&&e(4,l=t.activeResizer),"resizing"in t&&e(5,s=t.resizing),"noOffsetAtEventStart"in t&&e(6,f=t.noOffsetAtEventStart),"orientation"in t&&e(9,h=t.orientation)},t.$$.update=function(){513&t.$$.dirty&&e(1,r="y"===h?"line"===a.display?["t"]:["t","b"]:"line"===a.display?["l"]:["l","r"]),512&t.$$.dirty&&e(2,o="y"===h?"y":"x")},[a,r,o,p,l,s,f,u,c,h,function(t,n){return p(n,t)}]}un.prototype=cn.prototype={constructor:un,select:function(t){"function"!=typeof t&&(t=ct(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var i,a,u=n[o],c=u.length,l=r[o]=new Array(c),s=0;s<c;++s)(i=u[s])&&(a=t.call(i,i.__data__,s,u))&&("__data__"in i&&(a.__data__=i.__data__),l[s]=a);return new un(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?lt:function(){return this.querySelectorAll(t)}}(t));for(var n=this._groups,e=n.length,r=[],o=[],i=0;i<e;++i)for(var a,u=n[i],c=u.length,l=0;l<c;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),o.push(a));return new un(r,o)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var i,a=n[o],u=a.length,c=r[o]=[],l=0;l<u;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new un(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each((function(t){d[++s]=t})),d;var e,r=n?pt:ht,o=this._parents,i=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=i.length,u=new Array(a),c=new Array(a),l=new Array(a),s=0;s<a;++s){var f=o[s],h=i[s],p=h.length,d=t.call(f,f&&f.__data__,s,o),g=d.length,v=c[s]=new Array(g),m=u[s]=new Array(g);r(f,h,v,m,l[s]=new Array(p),d,n);for(var y,b,w=0,_=0;w<g;++w)if(y=v[w]){for(w>=_&&(_=w+1);!(b=m[_])&&++_<g;);y._next=b||null}}return(u=new un(u,o))._enter=c,u._exit=l,u},enter:function(){return new un(this._enter||this._groups.map(st),this._parents)},exit:function(){return new un(this._exit||this._groups.map(st),this._parents)},join:function(t,n,e){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(o=n(o)),null==e?i.remove():e(i),r&&o?r.merge(o).order():o},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,o=e.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var c,l=n[u],s=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(c=l[p]||s[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new un(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,o=t[n],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=dt);for(var e=this._groups,r=e.length,o=new Array(r),i=0;i<r;++i){for(var a,u=e[i],c=u.length,l=o[i]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(n)}return new un(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var o,i=n[e],a=0,u=i.length;a<u;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,n){var e=rt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?vt:gt:"function"==typeof n?e.local?wt:bt:e.local?yt:mt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?xt:"function"==typeof n?kt:Mt)(t,n,null==e?"":e)):At(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?St:"function"==typeof n?Ot:Et)(t,n)):this.node()[t]},classed:function(t,n){var e=jt(t+"");if(arguments.length<2){for(var r=$t(this.node()),o=-1,i=e.length;++o<i;)if(!r.contains(e[o]))return!1;return!0}return this.each(("function"==typeof n?Dt:n?Lt:Tt)(e,n))},text:function(t){return arguments.length?this.each(null==t?Ct:("function"==typeof t?Bt:Rt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?qt:("function"==typeof t?Wt:Ft)(t)):this.node().innerHTML},raise:function(){return this.each(It)},lower:function(){return this.each(Yt)},append:function(t){var n="function"==typeof t?t:at(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:at(t),r=null==n?Gt:"function"==typeof n?n:ct(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Xt)},clone:function(t){return this.select(t?Vt:Ut)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,o,i=Qt(t+""),a=i.length;if(!(arguments.length<2)){for(u=n?nn:tn,null==e&&(e=!1),r=0;r<a;++r)this.each(u(i[r],n,e));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(r=0,c=u[l];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?on:rn)(t,n))}};var gn=function(t){function n(n){t.call(this),Q(this,n,dn,pn,a,{annotation:0,type:7,index:8,activeResizer:4,resizing:5,noOffsetAtEventStart:6,orientation:9})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(tt);function vn(t){if("string"==typeof t){var n,e={},r=t.split(/([\.#])/g);for(t=r.shift();n=r.shift();)"."==n?e.class=e.class?e.class+" "+r.shift():r.shift():"#"==n&&(e.id=r.shift());return{tag:t,attr:e}}return t}function mn(){return null}var yn=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;cn.prototype.translate=function(t,n){var e=this.node();return e?e.getBBox?this.attr("transform",(function(e,r){var o="function"==typeof t?t.call(this,e,r):t;return 0===n?o=[o,0]:1===n&&(o=[0,o]),"translate("+o[0]+","+o[1]+")"})):this.style("transform",(function(e,r){var o="function"==typeof t?t.call(this,e,r):t;return 0===n?o=[o,0]:1===n&&(o=[0,o]),"translate("+o[0]+"px,"+o[1]+"px)"})):this},cn.prototype.append=function(t){var n,e;"function"==typeof t?n=t:(e=vn(t),n=at(e.tag));var r=this.select((function(){return this.appendChild(n.apply(this,arguments))}));if(e)for(var o in e.attr)r.attr(o,e.attr[o]);return r},cn.prototype.insert=function(t,n){var e=vn(t),r=at(e.tag),o=null==n?mn:"function"==typeof n?n:ct(n),i=this.select((function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)}));for(var a in e.attr)i.attr(a,e.attr[a]);return i},cn.prototype.parent=function(){var t=[];return this.filter((function(){return!(t.indexOf(this.parentNode)>-1||(t.push(this.parentNode),0))})).select((function(){return this.parentNode}))},cn.prototype.selectAppend=function(t){var n,e=ct(t),r=vn(t);for(var o in t=at(r.tag),n=this.select((function(){return e.apply(this,arguments)||this.appendChild(t.apply(this,arguments))})),r.attr)n.attr(o,r.attr[o]);return n},cn.prototype.tspans=function(t,n){return this.selectAll("tspan").data((function(n,e){return("function"==typeof t?t.call(this,n,e):t).map((function(t){return{line:t,parent:n}}))})).enter().append("tspan").text((function(t){return t.line})).attr("x",0).attr("dy",(function(t,e){return e?("function"==typeof n?n.call(this,t.parent,t.line,e):n)||15:0}))},cn.prototype.appendMany=function(t,n){if("string"==typeof n){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var e=n;n=t,t=e}return this.selectAll(null).data(n).enter().append(t)},cn.prototype.at=function(t,n){if("object"==Ht(t)){for(var e in t)this.attr(yn.test(e)?e:e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[e]);return this}return 1==arguments.length?this.attr(t):this.attr(t,n)},cn.prototype.st=function(t,n){if("object"==Ht(t)){for(var e in t)r(this,e,t[e]);return this}return 1==arguments.length?this.style(t):r(this,t,n);function r(t,n,e){return n=n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(n)?t.style(n,"function"==typeof e?i(e):o(e)):t.style(n,e),t}function o(t){return t.match?t:t+"px"}function i(t){return function(){return o(t.apply(this,arguments))}}},cn.prototype.prop=cn.prototype.property;var bn=Math.cos(.25*Math.PI),wn=Math.sin(.25*Math.PI);function _n(t){var n=t[0],e=t[1];return[n*bn-e*wn,n*wn+e*bn]}function xn(t){var n=t[0],e=t[1];return[n*bn+e*wn,e*bn-n*wn]}function Mn(t,n,e,r){void 0===r&&(r=!0);var o=r?1:0,i=(e-t[o])/(n[o]-t[o]);if(i<0||i>1)return null;var a=r?0:1;return t[a]+i*(n[a]-t[a])}function kn(t){return void 0===t&&(t=!0),function(n){var e=n.source,r=n.sourcePadding,o=n.targetPadding,i=n.circle,a=n.circleRadius;return function(n){var u,c;i&&a&&(o+=a),r>0&&((e=Object.assign({},e)).x-=r,e.y-=r,e.width+=2*r,e.height+=2*r);var l=e.x+.5*e.width,s=e.y+.5*e.height,f=0,h=0,p=An(l,s,f,h,.25,t),d=p[0],g=p[1],v=e.height/e.width,m=d-l,y=g-s;if(Math.abs(y/m)<v?(l+=.5*e.width*(m>0?1:-1),s+=.5*e.width*y/m*(m>0?1:-1)):(l+=.5*e.height*m/y*(y>0?1:-1),s+=.5*e.height*(y>0?1:-1)),d=(u=An(l,s,f,h,.25,t))[0],g=u[1],o>0){var b=Math.atan2(-g,-d);d=(c=An(l,s,f=-Math.cos(b)*o,h=-Math.sin(b)*o,.25,t))[0],g=c[1]}n.attr("d","M "+l+","+s+" Q "+d+","+g+" "+f+","+h)}}}function An(t,n,e,r,o,i){void 0===o&&(o=.25),void 0===i&&(i=!0);var a=e-t,u=r-n,c=u,l=-a,s=.5*(t+e),f=.5*(n+r),h=Math.sqrt(c*c+l*l),p=Math.sqrt(a*a+u*u)*o/h*(i?-1:1);return[s+c*p,f+l*p]}var Sn=function(t){var n=t.source,e=t.sourcePadding,r=t.targetPadding,o=t.circle,i=t.circleRadius;return function(t){var a,u,c,l;o&&i&&(r+=i),e&&((n=Object.assign({},n)).x-=e,n.y-=e,n.width+=2*e,n.height+=2*e);var s=n.x+.5*n.width,f=n.y+.5*n.height,h=0,p=0,d=!0,g=-s,v=-f,m=n.height/n.width;if(2*Math.abs(s)<n.width)s=0,h=0,p=r*(f>0?1:-1),f+=.5*n.height*(f<0?1:-1),d=!1;else if(2*Math.abs(f)<n.height)f=0,p=0,h=r*(s>0?1:-1),s+=.5*n.width*(s<0?1:-1),d=!1;else{var y,b,w=_n([-.5*n.width,0]),_=w[0],x=w[1],M=_n([.5*n.width,0]),k=M[0],A=M[1],S=_n([0,-.5*n.height]),E=S[0],O=S[1],j=_n([0,.5*n.height]),$=j[0],N=j[1],z=_n([-s,-f]),P=z[0],L=z[1];if(s>0&&f>0&&P>=_&&P<=E){var T=_n([-.5*n.width,-.5*n.height]),D=T[0];y=(a=xn([P,Mn(P<D?[_,x]:[E,O],[D,T[1]],P,!1)]))[0],b=a[1]}else if(s<0&&f<0&&P>=$&&P<=k){var C=_n([.5*n.width,.5*n.height]),R=C[0];y=(u=xn([P,Mn(P<R?[$,N]:[k,A],[R,C[1]],P,!1)]))[0],b=u[1]}else if(s>0&&f<0&&L>=x&&L<=N){var B=_n([-.5*n.width,.5*n.height]),q=B[0],F=B[1];y=(c=xn([Mn(L<F?[_,x]:[$,N],[q,F],L,!0),L]))[0],b=c[1]}else if(s<0&&f>0&&L>=O&&L<=A){var W=_n([.5*n.width,-.5*n.height]),I=W[0],Y=W[1];y=(l=xn([Mn(L<Y?[E,O]:[k,A],[I,Y],L,!0),L]))[0],b=l[1]}else Math.abs(v/g)<m?(y=.5*n.width*(g>0?1:-1),b=.5*n.width*v/g*(g>0?1:-1)):(y=.5*n.height*g/v*(v>0?1:-1),b=.5*n.height*(v>0?1:-1));s+=y,f+=b}if(r>0&&d){g=-s,v=-f;var H=Math.atan2(v,g);h=-Math.cos(H)*r,p=-Math.sin(H)*r}t.attr("d","M "+s+","+f+" L "+h+","+p),t.classed("crisp",s.toFixed(1)===h.toFixed(1)||f.toFixed(1)===p.toFixed(1))}},En=kn(!0),On=kn(!1),jn=Object.freeze({__proto__:null,straight:Sn,curveLeft:En,curveRight:On});function $n(t){return void 0===t&&(t={}),t=Object.assign({},{sourcePadding:0,targetPadding:4,arrowHead:!1,type:"straight",circle:!1,circleRadius:15,strokeWidth:1,color:"black"},t),function(n){return n.each((function(n){var e=Object.assign({},t,n),r=ln(this).append("g.callout-line").attr("aria-hidden",!0);e.arrowHead&&(e.targetPadding+=e.strokeWidth,e.circleRadius+=e.strokeWidth);var o,i=r.append("path").style("stroke-width",e.strokeWidth).style("stroke",e.color).call(jn[e.type](e));e.arrowHead&&function(t,n,e,r,o){var i=Nn[e];if(n.getTotalLength){var a=n.getTotalLength();if(0!==a){var u=n.getPointAtLength(a),c=n.getPointAtLength(a-10),l=Math.min(1,a/i.minLen/r),s=[u.x-c.x,u.y-c.y],f=s[0],h=s[1],p=Math.atan2(h,f)/Math.PI*180,d=t.append("path.callout-line-arrow-head").attr("d",i.path).attr("transform","translate("+u.x+", "+u.y+") rotate("+p+") scale("+r*l+") ").classed("callout-line-arrow-head-stroke",i.strokes);i.strokes?d.style("stroke",o).style("fill","none").style("stroke-width",1/l):d.style("fill",o).style("stroke","none")}}}(r,i.node(),e.arrowHead,e.strokeWidth,e.color),e.circle&&r.append("circle").style("stroke",e.color).style("stroke-width",e.strokeWidth).style("stroke-dasharray","dashed"===e.circleStyle?(o=e.strokeWidth,2+o+", "+(4+o)):void 0).attr("r",e.circleRadius-(e.arrowHead?e.strokeWidth:0))}))}}var Nn={triangle:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:20,path:"M-8.75,-3.75 L 1,0 L -8.75,3.75"},lines:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:15,path:"M-4.75,-3.75 L 0,0 L -4.75,3.75",strokes:!0}},zn=Math.ceil,Pn=Math.max,Ln=function(t,n,e,r){for(var o=-1,i=Pn(zn((n-t)/(e||1)),0),a=Array(i);i--;)a[r?i:++o]=t,t+=e;return a},Tn=function(t,n){return t===n||t!=t&&n!=n},Dn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},Cn="object"==Ht(Dn)&&Dn&&Dn.Object===Object&&Dn,Rn="object"==("undefined"==typeof self?"undefined":Ht(self))&&self&&self.Object===Object&&self,Bn=(Cn||Rn||Function("return this")()).Symbol,qn=Object.prototype,Fn=qn.hasOwnProperty,Wn=qn.toString,In=Bn?Bn.toStringTag:void 0,Yn=function(t){var n=Fn.call(t,In),e=t[In];try{t[In]=void 0;var r=!0}catch(t){}var o=Wn.call(t);return r&&(n?t[In]=e:delete t[In]),o},Hn=Object.prototype.toString,Gn=function(t){return Hn.call(t)},Xn=Bn?Bn.toStringTag:void 0,Un=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Xn&&Xn in Object(t)?Yn(t):Gn(t)},Vn=function(t){var n=Ht(t);return null!=t&&("object"==n||"function"==n)},Zn=function(t){if(!Vn(t))return!1;var n=Un(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n},Kn=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Jn=function(t){return null!=t&&Kn(t.length)&&!Zn(t)},Qn=/^(?:0|[1-9]\d*)$/,te=function(t,n){var e=Ht(t);return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&Qn.test(t))&&t>-1&&t%1==0&&t<n},ne=function(t,n,e){if(!Vn(e))return!1;var r=Ht(n);return!!("number"==r?Jn(e)&&te(n,e.length):"string"==r&&n in e)&&Tn(e[n],t)},ee=/\s/,re=function(t){for(var n=t.length;n--&&ee.test(t.charAt(n)););return n},oe=/^\s+/,ie=function(t){return t?t.slice(0,re(t)+1).replace(oe,""):t},ae=function(t){return null!=t&&"object"==Ht(t)},ue=function(t){return"symbol"==Ht(t)||ae(t)&&"[object Symbol]"==Un(t)},ce=/^[-+]0x[0-9a-f]+$/i,le=/^0b[01]+$/i,se=/^0o[0-7]+$/i,fe=parseInt,he=function(t){if("number"==typeof t)return t;if(ue(t))return NaN;if(Vn(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Vn(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=ie(t);var e=le.test(t);return e||se.test(t)?fe(t.slice(2),e?2:8):ce.test(t)?NaN:+t},pe=function(t){return t?(t=he(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},de=function(t){return function(n,e,r){return r&&"number"!=typeof r&&ne(n,e,r)&&(e=r=void 0),n=pe(n),void 0===e?(e=n,n=0):e=pe(e),r=void 0===r?n<e?1:-1:pe(r),Ln(n,e,r,t)}}();function ge(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function ve(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function me(){}var ye="\\s*([+-]?\\d+)\\s*",be="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",we="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_e=/^#([0-9a-f]{3,8})$/,xe=new RegExp("^rgb\\("+[ye,ye,ye]+"\\)$"),Me=new RegExp("^rgb\\("+[we,we,we]+"\\)$"),ke=new RegExp("^rgba\\("+[ye,ye,ye,be]+"\\)$"),Ae=new RegExp("^rgba\\("+[we,we,we,be]+"\\)$"),Se=new RegExp("^hsl\\("+[be,we,we]+"\\)$"),Ee=new RegExp("^hsla\\("+[be,we,we,be]+"\\)$"),Oe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function je(){return this.rgb().formatHex()}function $e(){return this.rgb().formatRgb()}function Ne(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=_e.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?ze(n):3===e?new De(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Pe(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Pe(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=xe.exec(t))?new De(n[1],n[2],n[3],1):(n=Me.exec(t))?new De(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=ke.exec(t))?Pe(n[1],n[2],n[3],n[4]):(n=Ae.exec(t))?Pe(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Se.exec(t))?qe(n[1],n[2]/100,n[3]/100,1):(n=Ee.exec(t))?qe(n[1],n[2]/100,n[3]/100,n[4]):Oe.hasOwnProperty(t)?ze(Oe[t]):"transparent"===t?new De(NaN,NaN,NaN,0):null}function ze(t){return new De(t>>16&255,t>>8&255,255&t,1)}function Pe(t,n,e,r){return r<=0&&(t=n=e=NaN),new De(t,n,e,r)}function Le(t){return t instanceof me||(t=Ne(t)),t?new De((t=t.rgb()).r,t.g,t.b,t.opacity):new De}function Te(t,n,e,r){return 1===arguments.length?Le(t):new De(t,n,e,null==r?1:r)}function De(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Ce(){return"#"+Be(this.r)+Be(this.g)+Be(this.b)}function Re(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Be(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function qe(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new We(t,n,e,r)}function Fe(t){if(t instanceof We)return new We(t.h,t.s,t.l,t.opacity);if(t instanceof me||(t=Ne(t)),!t)return new We;if(t instanceof We)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,o=Math.min(n,e,r),i=Math.max(n,e,r),a=NaN,u=i-o,c=(i+o)/2;return u?(a=n===i?(e-r)/u+6*(e<r):e===i?(r-n)/u+2:(n-e)/u+4,u/=c<.5?i+o:2-i-o,a*=60):u=c>0&&c<1?0:a,new We(a,u,c,t.opacity)}function We(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ie(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Ye(t,n){return"translate("+Math.round(t)+"px, "+Math.round(n)+"px);"}function He(t){return!0===t||void 0===t}function Ge(t){return!(!He(t.showDesktop)||!1!==t.showMobile)}function Xe(t){return!1===t.showDesktop&&!1===t.showMobile}function Ue(t,n){void 0===n&&(n=1);var e=Te(t);return e.opacity=n,e.formatRgb()}ge(me,Ne,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:je,formatHex:je,formatHsl:function(){return Fe(this).formatHsl()},formatRgb:$e,toString:$e}),ge(De,Te,ve(me,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new De(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new De(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ce,formatHex:Ce,formatRgb:Re,toString:Re})),ge(We,(function(t,n,e,r){return 1===arguments.length?Fe(t):new We(t,n,e,null==r?1:r)}),ve(me,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new We(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new We(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,o=2*e-r;return new De(Ie(t>=240?t-240:t+120,o,r),Ie(t,o,r),Ie(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ve=180/Math.PI;function Ze(t,n){return Math.atan(t/n)*Ve}function Ke(t,n,e){if(void 0===n&&(n=null),void 0===e&&(e=null),!n)return t;for(var r=n.split("."),o=t,i=0;i<r.length&&null!=o;i++)o=o[r[i]];return null==o?e:o}var Je=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,Qe=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;function tr(t,n){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0||t.indexOf(">")<0)return t;if(t=function(t,n){n=(((void 0!==n?n||"":"<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var e=t,r=t;;)if(r=(e=r).replace(Qe,"").replace(Je,(function(t,e){return n.indexOf("<"+e.toLowerCase()+">")>-1?t:""})),e===r)return r}(t,n),"undefined"==typeof document)return t;var e=document.createElement("div");e.innerHTML=t;for(var r=e.querySelectorAll("*"),o=0;o<r.length;o++){"a"===r[o].nodeName.toLowerCase()&&("_self"!==r[o].getAttribute("target")&&r[o].setAttribute("target","_blank"),r[o].setAttribute("rel","nofollow noopener noreferrer"),r[o].getAttribute("href")&&r[o].getAttribute("href").trim().replace(/[^a-zA-Z0-9 -:]/g,"").startsWith("javascript:")&&r[o].setAttribute("href",""));for(var i=[],a=0;a<r[o].attributes.length;a++){var u=r[o].attributes[a];u.specified&&"on"===u.name.substr(0,2)&&i.push(u.name)}i.forEach((function(t){return r[o].removeAttribute(t)}))}return e.innerHTML}}var nr=function(t,n,e){return t(e={path:void 0,exports:{},require:function(t,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&e.path)}},e.exports),e.exports}((function(t,n){
/**
	           * chroma.js - JavaScript library for color conversions
	           *
	           * Copyright (c) 2011-2019, Gregor Aisch
	           * All rights reserved.
	           *
	           * Redistribution and use in source and binary forms, with or without
	           * modification, are permitted provided that the following conditions are met:
	           *
	           * 1. Redistributions of source code must retain the above copyright notice, this
	           * list of conditions and the following disclaimer.
	           *
	           * 2. Redistributions in binary form must reproduce the above copyright notice,
	           * this list of conditions and the following disclaimer in the documentation
	           * and/or other materials provided with the distribution.
	           *
	           * 3. The name Gregor Aisch may not be used to endorse or promote products
	           * derived from this software without specific prior written permission.
	           *
	           * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
	           * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
	           * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
	           * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
	           * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
	           * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
	           * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
	           * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
	           * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
	           * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	           *
	           * -------------------------------------------------------
	           *
	           * chroma.js includes colors from colorbrewer2.org, which are released under
	           * the following license:
	           *
	           * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
	           * and The Pennsylvania State University.
	           *
	           * Licensed under the Apache License, Version 2.0 (the "License");
	           * you may not use this file except in compliance with the License.
	           * You may obtain a copy of the License at
	           * http://www.apache.org/licenses/LICENSE-2.0
	           *
	           * Unless required by applicable law or agreed to in writing,
	           * software distributed under the License is distributed on an
	           * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	           * either express or implied. See the License for the specific
	           * language governing permissions and limitations under the License.
	           *
	           * ------------------------------------------------------
	           *
	           * Named colors are taken from X11 Color Names.
	           * http://www.w3.org/TR/css3-color/#svg-color
	           *
	           * @preserve
	           */
t.exports=function(){for(var t=function(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=1),t<n?n:t>e?e:t},n={},e=0,r=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];e<r.length;e+=1){var o=r[e];n["[object "+o+"]"]=o.toLowerCase()}var i=function(t){return n[Object.prototype.toString.call(t)]||"object"},a=Math.PI,u={clip_rgb:function(n){n._clipped=!1,n._unclipped=n.slice(0);for(var e=0;e<=3;e++)e<3?((n[e]<0||n[e]>255)&&(n._clipped=!0),n[e]=t(n[e],0,255)):3===e&&(n[e]=t(n[e],0,1));return n},limit:t,type:i,unpack:function(t,n){return void 0===n&&(n=null),t.length>=3?Array.prototype.slice.call(t):"object"==i(t[0])&&n?n.split("").filter((function(n){return void 0!==t[0][n]})).map((function(n){return t[0][n]})):t[0]},last:function(t){if(t.length<2)return null;var n=t.length-1;return"string"==i(t[n])?t[n].toLowerCase():null},PI:a,TWOPI:2*a,PITHIRD:a/3,DEG2RAD:a/180,RAD2DEG:180/a},c={format:{},autodetect:[]},l=u.last,s=u.clip_rgb,f=u.type,h=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=this;if("object"===f(n[0])&&n[0].constructor&&n[0].constructor===this.constructor)return n[0];var o=l(n),i=!1;if(!o){i=!0,c.sorted||(c.autodetect=c.autodetect.sort((function(t,n){return n.p-t.p})),c.sorted=!0);for(var a=0,u=c.autodetect;a<u.length;a+=1){var h=u[a];if(o=h.test.apply(h,n))break}}if(!c.format[o])throw new Error("unknown format: "+n);var p=c.format[o].apply(null,i?n:n.slice(0,-1));r._rgb=s(p),3===r._rgb.length&&r._rgb.push(1)};h.prototype.toString=function(){return"function"==f(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var p=h,d=function t(){for(var n=arguments,e=[],r=arguments.length;r--;)e[r]=n[r];return new(Function.prototype.bind.apply(t.Color,[null].concat(e)))};d.Color=p,d.version="2.1.2";var g=d,v=u.unpack,m=Math.max,y=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=v(n,"rgb"),o=r[0],i=r[1],a=r[2],u=1-m(o/=255,m(i/=255,a/=255)),c=u<1?1/(1-u):0;return[(1-o-u)*c,(1-i-u)*c,(1-a-u)*c,u]},b=u.unpack,w=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=(n=b(n,"cmyk"))[0],o=n[1],i=n[2],a=n[3],u=n.length>4?n[4]:1;return 1===a?[0,0,0,u]:[r>=1?0:255*(1-r)*(1-a),o>=1?0:255*(1-o)*(1-a),i>=1?0:255*(1-i)*(1-a),u]},_=u.unpack,x=u.type;p.prototype.cmyk=function(){return y(this._rgb)},g.cmyk=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];return new(Function.prototype.bind.apply(p,[null].concat(n,["cmyk"])))},c.format.cmyk=w,c.autodetect.push({p:2,test:function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];if(n=_(n,"cmyk"),"array"===x(n)&&4===n.length)return"cmyk"}});var M=u.unpack,k=u.last,A=function(t){return Math.round(100*t)/100},S=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=M(n,"hsla"),o=k(n)||"lsa";return r[0]=A(r[0]||0),r[1]=A(100*r[1])+"%",r[2]=A(100*r[2])+"%","hsla"===o||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,o="hsla"):r.length=3,o+"("+r.join(",")+")"},E=u.unpack,O=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=(n=E(n,"rgba"))[0],o=n[1],i=n[2];r/=255,o/=255,i/=255;var a,u,c=Math.min(r,o,i),l=Math.max(r,o,i),s=(l+c)/2;return l===c?(a=0,u=Number.NaN):a=s<.5?(l-c)/(l+c):(l-c)/(2-l-c),r==l?u=(o-i)/(l-c):o==l?u=2+(i-r)/(l-c):i==l&&(u=4+(r-o)/(l-c)),(u*=60)<0&&(u+=360),n.length>3&&void 0!==n[3]?[u,a,s,n[3]]:[u,a,s]},j=u.unpack,$=u.last,N=Math.round,z=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=j(n,"rgba"),o=$(n)||"rgb";return"hsl"==o.substr(0,3)?S(O(r),o):(r[0]=N(r[0]),r[1]=N(r[1]),r[2]=N(r[2]),("rgba"===o||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,o="rgba"),o+"("+r.slice(0,"rgb"===o?3:4).join(",")+")")},P=u.unpack,L=Math.round,T=function(){for(var t,n=arguments,e=[],r=arguments.length;r--;)e[r]=n[r];var o,i,a,u=(e=P(e,"hsl"))[0],c=e[1],l=e[2];if(0===c)o=i=a=255*l;else{var s=[0,0,0],f=[0,0,0],h=l<.5?l*(1+c):l+c-l*c,p=2*l-h,d=u/360;s[0]=d+1/3,s[1]=d,s[2]=d-1/3;for(var g=0;g<3;g++)s[g]<0&&(s[g]+=1),s[g]>1&&(s[g]-=1),6*s[g]<1?f[g]=p+6*(h-p)*s[g]:2*s[g]<1?f[g]=h:3*s[g]<2?f[g]=p+(h-p)*(2/3-s[g])*6:f[g]=p;o=(t=[L(255*f[0]),L(255*f[1]),L(255*f[2])])[0],i=t[1],a=t[2]}return e.length>3?[o,i,a,e[3]]:[o,i,a,1]},D=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,C=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,R=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,B=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,q=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,F=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,W=Math.round,I=function(t){var n;if(t=t.toLowerCase().trim(),c.format.named)try{return c.format.named(t)}catch(t){}if(n=t.match(D)){for(var e=n.slice(1,4),r=0;r<3;r++)e[r]=+e[r];return e[3]=1,e}if(n=t.match(C)){for(var o=n.slice(1,5),i=0;i<4;i++)o[i]=+o[i];return o}if(n=t.match(R)){for(var a=n.slice(1,4),u=0;u<3;u++)a[u]=W(2.55*a[u]);return a[3]=1,a}if(n=t.match(B)){for(var l=n.slice(1,5),s=0;s<3;s++)l[s]=W(2.55*l[s]);return l[3]=+l[3],l}if(n=t.match(q)){var f=n.slice(1,4);f[1]*=.01,f[2]*=.01;var h=T(f);return h[3]=1,h}if(n=t.match(F)){var p=n.slice(1,4);p[1]*=.01,p[2]*=.01;var d=T(p);return d[3]=+n[4],d}};I.test=function(t){return D.test(t)||C.test(t)||R.test(t)||B.test(t)||q.test(t)||F.test(t)};var Y=I,H=u.type;p.prototype.css=function(t){return z(this._rgb,t)},g.css=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];return new(Function.prototype.bind.apply(p,[null].concat(n,["css"])))},c.format.css=Y,c.autodetect.push({p:5,test:function(t){for(var n=arguments,e=[],r=arguments.length-1;r-- >0;)e[r]=n[r+1];if(!e.length&&"string"===H(t)&&Y.test(t))return"css"}});var G=u.unpack;c.format.gl=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=G(n,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},g.gl=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];return new(Function.prototype.bind.apply(p,[null].concat(n,["gl"])))},p.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var X=u.unpack,U=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r,o=X(n,"rgb"),i=o[0],a=o[1],u=o[2],c=Math.min(i,a,u),l=Math.max(i,a,u),s=l-c,f=100*s/255,h=c/(255-s)*100;return 0===s?r=Number.NaN:(i===l&&(r=(a-u)/s),a===l&&(r=2+(u-i)/s),u===l&&(r=4+(i-a)/s),(r*=60)<0&&(r+=360)),[r,f,h]},V=u.unpack,Z=Math.floor,K=function(){for(var t,n,e,r,o,i,a=arguments,u=[],c=arguments.length;c--;)u[c]=a[c];var l,s,f,h=(u=V(u,"hcg"))[0],p=u[1],d=u[2];d*=255;var g=255*p;if(0===p)l=s=f=d;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var v=Z(h/=60),m=h-v,y=d*(1-p),b=y+g*(1-m),w=y+g*m,_=y+g;switch(v){case 0:l=(t=[_,w,y])[0],s=t[1],f=t[2];break;case 1:l=(n=[b,_,y])[0],s=n[1],f=n[2];break;case 2:l=(e=[y,_,w])[0],s=e[1],f=e[2];break;case 3:l=(r=[y,b,_])[0],s=r[1],f=r[2];break;case 4:l=(o=[w,y,_])[0],s=o[1],f=o[2];break;case 5:l=(i=[_,y,b])[0],s=i[1],f=i[2]}}return[l,s,f,u.length>3?u[3]:1]},J=u.unpack,Q=u.type;p.prototype.hcg=function(){return U(this._rgb)},g.hcg=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];return new(Function.prototype.bind.apply(p,[null].concat(n,["hcg"])))},c.format.hcg=K,c.autodetect.push({p:1,test:function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];if(n=J(n,"hcg"),"array"===Q(n)&&3===n.length)return"hcg"}});var tt=u.unpack,nt=u.last,et=Math.round,rt=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=tt(n,"rgba"),o=r[0],i=r[1],a=r[2],u=r[3],c=nt(n)||"auto";void 0===u&&(u=1),"auto"===c&&(c=u<1?"rgba":"rgb");var l="000000"+((o=et(o))<<16|(i=et(i))<<8|(a=et(a))).toString(16);l=l.substr(l.length-6);var s="0"+et(255*u).toString(16);switch(s=s.substr(s.length-2),c.toLowerCase()){case"rgba":return"#"+l+s;case"argb":return"#"+s+l;default:return"#"+l}},ot=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,it=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,at=function(t){if(t.match(ot)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n=parseInt(t,16);return[n>>16,n>>8&255,255&n,1]}if(t.match(it)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var e=parseInt(t,16);return[e>>24&255,e>>16&255,e>>8&255,Math.round((255&e)/255*100)/100]}throw new Error("unknown hex color: "+t)},ut=u.type;p.prototype.hex=function(t){return rt(this._rgb,t)},g.hex=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];return new(Function.prototype.bind.apply(p,[null].concat(n,["hex"])))},c.format.hex=at,c.autodetect.push({p:4,test:function(t){for(var n=arguments,e=[],r=arguments.length-1;r-- >0;)e[r]=n[r+1];if(!e.length&&"string"===ut(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var ct=u.unpack,lt=u.TWOPI,st=Math.min,ft=Math.sqrt,ht=Math.acos,pt=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r,o=ct(n,"rgb"),i=o[0],a=o[1],u=o[2],c=st(i/=255,a/=255,u/=255),l=(i+a+u)/3,s=l>0?1-c/l:0;return 0===s?r=NaN:(r=(i-a+(i-u))/2,r/=ft((i-a)*(i-a)+(i-u)*(a-u)),r=ht(r),u>a&&(r=lt-r),r/=lt),[360*r,s,l]},dt=u.unpack,gt=u.limit,vt=u.TWOPI,mt=u.PITHIRD,yt=Math.cos,bt=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r,o,i,a=(n=dt(n,"hsi"))[0],u=n[1],c=n[2];return isNaN(a)&&(a=0),isNaN(u)&&(u=0),a>360&&(a-=360),a<0&&(a+=360),(a/=360)<1/3?o=1-((i=(1-u)/3)+(r=(1+u*yt(vt*a)/yt(mt-vt*a))/3)):a<2/3?i=1-((r=(1-u)/3)+(o=(1+u*yt(vt*(a-=1/3))/yt(mt-vt*a))/3)):r=1-((o=(1-u)/3)+(i=(1+u*yt(vt*(a-=2/3))/yt(mt-vt*a))/3)),[255*(r=gt(c*r*3)),255*(o=gt(c*o*3)),255*(i=gt(c*i*3)),n.length>3?n[3]:1]},wt=u.unpack,_t=u.type;p.prototype.hsi=function(){return pt(this._rgb)},g.hsi=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];return new(Function.prototype.bind.apply(p,[null].concat(n,["hsi"])))},c.format.hsi=bt,c.autodetect.push({p:2,test:function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];if(n=wt(n,"hsi"),"array"===_t(n)&&3===n.length)return"hsi"}});var xt=u.unpack,Mt=u.type;p.prototype.hsl=function(){return O(this._rgb)},g.hsl=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];return new(Function.prototype.bind.apply(p,[null].concat(n,["hsl"])))},c.format.hsl=T,c.autodetect.push({p:2,test:function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];if(n=xt(n,"hsl"),"array"===Mt(n)&&3===n.length)return"hsl"}});var kt=u.unpack,At=Math.min,St=Math.max,Et=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r,o,i,a=(n=kt(n,"rgb"))[0],u=n[1],c=n[2],l=At(a,u,c),s=St(a,u,c),f=s-l;return i=s/255,0===s?(r=Number.NaN,o=0):(o=f/s,a===s&&(r=(u-c)/f),u===s&&(r=2+(c-a)/f),c===s&&(r=4+(a-u)/f),(r*=60)<0&&(r+=360)),[r,o,i]},Ot=u.unpack,jt=Math.floor,$t=function(){for(var t,n,e,r,o,i,a=arguments,u=[],c=arguments.length;c--;)u[c]=a[c];var l,s,f,h=(u=Ot(u,"hsv"))[0],p=u[1],d=u[2];if(d*=255,0===p)l=s=f=d;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var g=jt(h/=60),v=h-g,m=d*(1-p),y=d*(1-p*v),b=d*(1-p*(1-v));switch(g){case 0:l=(t=[d,b,m])[0],s=t[1],f=t[2];break;case 1:l=(n=[y,d,m])[0],s=n[1],f=n[2];break;case 2:l=(e=[m,d,b])[0],s=e[1],f=e[2];break;case 3:l=(r=[m,y,d])[0],s=r[1],f=r[2];break;case 4:l=(o=[b,m,d])[0],s=o[1],f=o[2];break;case 5:l=(i=[d,m,y])[0],s=i[1],f=i[2]}}return[l,s,f,u.length>3?u[3]:1]},Nt=u.unpack,zt=u.type;p.prototype.hsv=function(){return Et(this._rgb)},g.hsv=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];return new(Function.prototype.bind.apply(p,[null].concat(n,["hsv"])))},c.format.hsv=$t,c.autodetect.push({p:2,test:function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];if(n=Nt(n,"hsv"),"array"===zt(n)&&3===n.length)return"hsv"}});var Pt=18,Lt=.95047,Tt=1,Dt=1.08883,Ct=.137931034,Rt=.206896552,Bt=.12841855,qt=.008856452,Ft=u.unpack,Wt=Math.pow,It=function(t){return(t/=255)<=.04045?t/12.92:Wt((t+.055)/1.055,2.4)},Yt=function(t){return t>qt?Wt(t,1/3):t/Bt+Ct},Ht=function(t,n,e){return t=It(t),n=It(n),e=It(e),[Yt((.4124564*t+.3575761*n+.1804375*e)/Lt),Yt((.2126729*t+.7151522*n+.072175*e)/Tt),Yt((.0193339*t+.119192*n+.9503041*e)/Dt)]},Gt=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=Ft(n,"rgb"),o=r[0],i=r[1],a=r[2],u=Ht(o,i,a),c=u[0],l=u[1],s=116*l-16;return[s<0?0:s,500*(c-l),200*(l-u[2])]},Xt=u.unpack,Ut=Math.pow,Vt=function(t){return 255*(t<=.00304?12.92*t:1.055*Ut(t,1/2.4)-.055)},Zt=function(t){return t>Rt?t*t*t:Bt*(t-Ct)},Kt=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r,o,i,a=(n=Xt(n,"lab"))[0],u=n[1],c=n[2];return o=(a+16)/116,r=isNaN(u)?o:o+u/500,i=isNaN(c)?o:o-c/200,o=Tt*Zt(o),r=Lt*Zt(r),i=Dt*Zt(i),[Vt(3.2404542*r-1.5371385*o-.4985314*i),Vt(-.969266*r+1.8760108*o+.041556*i),Vt(.0556434*r-.2040259*o+1.0572252*i),n.length>3?n[3]:1]},Jt=u.unpack,Qt=u.type;p.prototype.lab=function(){return Gt(this._rgb)},g.lab=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];return new(Function.prototype.bind.apply(p,[null].concat(n,["lab"])))},c.format.lab=Kt,c.autodetect.push({p:2,test:function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];if(n=Jt(n,"lab"),"array"===Qt(n)&&3===n.length)return"lab"}});var tn=u.unpack,nn=u.RAD2DEG,en=Math.sqrt,rn=Math.atan2,on=Math.round,an=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=tn(n,"lab"),o=r[0],i=r[1],a=r[2],u=en(i*i+a*a),c=(rn(a,i)*nn+360)%360;return 0===on(1e4*u)&&(c=Number.NaN),[o,u,c]},un=u.unpack,cn=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=un(n,"rgb"),o=r[0],i=r[1],a=r[2],u=Gt(o,i,a),c=u[0],l=u[1],s=u[2];return an(c,l,s)},ln=u.unpack,sn=u.DEG2RAD,fn=Math.sin,hn=Math.cos,pn=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=ln(n,"lch"),o=r[0],i=r[1],a=r[2];return isNaN(a)&&(a=0),[o,hn(a*=sn)*i,fn(a)*i]},dn=u.unpack,gn=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=(n=dn(n,"lch"))[0],o=n[1],i=n[2],a=pn(r,o,i),u=a[0],c=a[1],l=a[2],s=Kt(u,c,l);return[s[0],s[1],s[2],n.length>3?n[3]:1]},vn=u.unpack,mn=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=vn(n,"hcl").reverse();return gn.apply(void 0,r)},yn=u.unpack,bn=u.type;p.prototype.lch=function(){return cn(this._rgb)},p.prototype.hcl=function(){return cn(this._rgb).reverse()},g.lch=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];return new(Function.prototype.bind.apply(p,[null].concat(n,["lch"])))},g.hcl=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];return new(Function.prototype.bind.apply(p,[null].concat(n,["hcl"])))},c.format.lch=gn,c.format.hcl=mn,["lch","hcl"].forEach((function(t){return c.autodetect.push({p:2,test:function(){for(var n=arguments,e=[],r=arguments.length;r--;)e[r]=n[r];if(e=yn(e,t),"array"===bn(e)&&3===e.length)return t}})}));var wn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_n=u.type;p.prototype.name=function(){for(var t=rt(this._rgb,"rgb"),n=0,e=Object.keys(wn);n<e.length;n+=1){var r=e[n];if(wn[r]===t)return r.toLowerCase()}return t},c.format.named=function(t){if(t=t.toLowerCase(),wn[t])return at(wn[t]);throw new Error("unknown color name: "+t)},c.autodetect.push({p:5,test:function(t){for(var n=arguments,e=[],r=arguments.length-1;r-- >0;)e[r]=n[r+1];if(!e.length&&"string"===_n(t)&&wn[t.toLowerCase()])return"named"}});var xn=u.unpack,Mn=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=xn(n,"rgb");return(r[0]<<16)+(r[1]<<8)+r[2]},kn=u.type,An=function(t){if("number"==kn(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},Sn=u.type;p.prototype.num=function(){return Mn(this._rgb)},g.num=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];return new(Function.prototype.bind.apply(p,[null].concat(n,["num"])))},c.format.num=An,c.autodetect.push({p:5,test:function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];if(1===n.length&&"number"===Sn(n[0])&&n[0]>=0&&n[0]<=16777215)return"num"}});var En=u.unpack,On=u.type,jn=Math.round;p.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(jn)},p.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(n,e){return e<3?!1===t?n:jn(n):n}))},g.rgb=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];return new(Function.prototype.bind.apply(p,[null].concat(n,["rgb"])))},c.format.rgb=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];var r=En(n,"rgba");return void 0===r[3]&&(r[3]=1),r},c.autodetect.push({p:3,test:function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];if(n=En(n,"rgba"),"array"===On(n)&&(3===n.length||4===n.length&&"number"==On(n[3])&&n[3]>=0&&n[3]<=1))return"rgb"}});var $n=Math.log,Nn=function(t){var n,e,r,o=t/100;return o<66?(n=255,e=-155.25485562709179-.44596950469579133*(e=o-2)+104.49216199393888*$n(e),r=o<20?0:.8274096064007395*(r=o-10)-254.76935184120902+115.67994401066147*$n(r)):(n=351.97690566805693+.114206453784165*(n=o-55)-40.25366309332127*$n(n),e=325.4494125711974+.07943456536662342*(e=o-50)-28.0852963507957*$n(e),r=255),[n,e,r,1]},zn=u.unpack,Pn=Math.round,Ln=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];for(var r,o=zn(n,"rgb"),i=o[0],a=o[2],u=1e3,c=4e4,l=.4;c-u>l;){var s=Nn(r=.5*(c+u));s[2]/s[0]>=a/i?c=r:u=r}return Pn(r)};p.prototype.temp=p.prototype.kelvin=p.prototype.temperature=function(){return Ln(this._rgb)},g.temp=g.kelvin=g.temperature=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];return new(Function.prototype.bind.apply(p,[null].concat(n,["temp"])))},c.format.temp=c.format.kelvin=c.format.temperature=Nn;var Tn=u.type;p.prototype.alpha=function(t,n){return void 0===n&&(n=!1),void 0!==t&&"number"===Tn(t)?n?(this._rgb[3]=t,this):new p([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},p.prototype.clipped=function(){return this._rgb._clipped||!1},p.prototype.darken=function(t){void 0===t&&(t=1);var n=this.lab();return n[0]-=Pt*t,new p(n,"lab").alpha(this.alpha(),!0)},p.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},p.prototype.darker=p.prototype.darken,p.prototype.brighter=p.prototype.brighten,p.prototype.get=function(t){var n=t.split("."),e=n[0],r=n[1],o=this[e]();if(r){var i=e.indexOf(r);if(i>-1)return o[i];throw new Error("unknown channel "+r+" in mode "+e)}return o};var Dn=u.type,Cn=Math.pow;p.prototype.luminance=function(t){if(void 0!==t&&"number"===Dn(t)){if(0===t)return new p([0,0,0,this._rgb[3]],"rgb");if(1===t)return new p([255,255,255,this._rgb[3]],"rgb");var n=this.luminance(),e=20,r=function n(r,o){var i=r.interpolate(o,.5,"rgb"),a=i.luminance();return Math.abs(t-a)<1e-7||!e--?i:a>t?n(r,i):n(i,o)},o=(n>t?r(new p([0,0,0]),this):r(this,new p([255,255,255]))).rgb();return new p(o.concat([this._rgb[3]]))}return Rn.apply(void 0,this._rgb.slice(0,3))};var Rn=function(t,n,e){return.2126*(t=Bn(t))+.7152*(n=Bn(n))+.0722*Bn(e)},Bn=function(t){return(t/=255)<=.03928?t/12.92:Cn((t+.055)/1.055,2.4)},qn={},Fn=u.type,Wn=function(t,n,e){var r=arguments;void 0===e&&(e=.5);for(var o=[],i=arguments.length-3;i-- >0;)o[i]=r[i+3];var a=o[0]||"lrgb";if(qn[a]||o.length||(a=Object.keys(qn)[0]),!qn[a])throw new Error("interpolation mode "+a+" is not defined");return"object"!==Fn(t)&&(t=new p(t)),"object"!==Fn(n)&&(n=new p(n)),qn[a](t,n,e).alpha(t.alpha()+e*(n.alpha()-t.alpha()))};p.prototype.mix=p.prototype.interpolate=function(t,n){var e=arguments;void 0===n&&(n=.5);for(var r=[],o=arguments.length-2;o-- >0;)r[o]=e[o+2];return Wn.apply(void 0,[this,t,n].concat(r))},p.prototype.premultiply=function(t){void 0===t&&(t=!1);var n=this._rgb,e=n[3];return t?(this._rgb=[n[0]*e,n[1]*e,n[2]*e,e],this):new p([n[0]*e,n[1]*e,n[2]*e,e],"rgb")},p.prototype.saturate=function(t){void 0===t&&(t=1);var n=this.lch();return n[1]+=Pt*t,n[1]<0&&(n[1]=0),new p(n,"lch").alpha(this.alpha(),!0)},p.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var In=u.type;p.prototype.set=function(t,n,e){void 0===e&&(e=!1);var r=t.split("."),o=r[0],i=r[1],a=this[o]();if(i){var u=o.indexOf(i);if(u>-1){if("string"==In(n))switch(n.charAt(0)){case"+":case"-":a[u]+=+n;break;case"*":a[u]*=+n.substr(1);break;case"/":a[u]/=+n.substr(1);break;default:a[u]=+n}else{if("number"!==In(n))throw new Error("unsupported value for Color.set");a[u]=n}var c=new p(a,o);return e?(this._rgb=c._rgb,this):c}throw new Error("unknown channel "+i+" in mode "+o)}return a},qn.rgb=function(t,n,e){var r=t._rgb,o=n._rgb;return new p(r[0]+e*(o[0]-r[0]),r[1]+e*(o[1]-r[1]),r[2]+e*(o[2]-r[2]),"rgb")};var Yn=Math.sqrt,Hn=Math.pow;qn.lrgb=function(t,n,e){var r=t._rgb,o=r[0],i=r[1],a=r[2],u=n._rgb,c=u[0],l=u[1],s=u[2];return new p(Yn(Hn(o,2)*(1-e)+Hn(c,2)*e),Yn(Hn(i,2)*(1-e)+Hn(l,2)*e),Yn(Hn(a,2)*(1-e)+Hn(s,2)*e),"rgb")},qn.lab=function(t,n,e){var r=t.lab(),o=n.lab();return new p(r[0]+e*(o[0]-r[0]),r[1]+e*(o[1]-r[1]),r[2]+e*(o[2]-r[2]),"lab")};var Gn=function(t,n,e,r){var o,i,a,u,c,l,s,f,h,d,g,v;return"hsl"===r?(a=t.hsl(),u=n.hsl()):"hsv"===r?(a=t.hsv(),u=n.hsv()):"hcg"===r?(a=t.hcg(),u=n.hcg()):"hsi"===r?(a=t.hsi(),u=n.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",a=t.hcl(),u=n.hcl()),"h"===r.substr(0,1)&&(c=(o=a)[0],s=o[1],h=o[2],l=(i=u)[0],f=i[1],d=i[2]),isNaN(c)||isNaN(l)?isNaN(c)?isNaN(l)?v=Number.NaN:(v=l,1!=h&&0!=h||"hsv"==r||(g=f)):(v=c,1!=d&&0!=d||"hsv"==r||(g=s)):v=c+e*(l>c&&l-c>180?l-(c+360):l<c&&c-l>180?l+360-c:l-c),void 0===g&&(g=s+e*(f-s)),new p([v,g,h+e*(d-h)],r)},Xn=function(t,n,e){return Gn(t,n,e,"lch")};qn.lch=Xn,qn.hcl=Xn,qn.num=function(t,n,e){var r=t.num(),o=n.num();return new p(r+e*(o-r),"num")},qn.hcg=function(t,n,e){return Gn(t,n,e,"hcg")},qn.hsi=function(t,n,e){return Gn(t,n,e,"hsi")},qn.hsl=function(t,n,e){return Gn(t,n,e,"hsl")},qn.hsv=function(t,n,e){return Gn(t,n,e,"hsv")};var Un=u.clip_rgb,Vn=Math.pow,Zn=Math.sqrt,Kn=Math.PI,Jn=Math.cos,Qn=Math.sin,te=Math.atan2,ne=function(t,n){for(var e=t.length,r=[0,0,0,0],o=0;o<t.length;o++){var i=t[o],a=n[o]/e,u=i._rgb;r[0]+=Vn(u[0],2)*a,r[1]+=Vn(u[1],2)*a,r[2]+=Vn(u[2],2)*a,r[3]+=u[3]*a}return r[0]=Zn(r[0]),r[1]=Zn(r[1]),r[2]=Zn(r[2]),r[3]>.9999999&&(r[3]=1),new p(Un(r))},ee=u.type,re=Math.pow,oe=function(t){var n="rgb",e=g("#ccc"),r=0,o=[0,1],i=[],a=[0,0],u=!1,c=[],l=!1,s=0,f=1,h=!1,p={},d=!0,v=1,m=function(t){if((t=t||["#fff","#000"])&&"string"===ee(t)&&g.brewer&&g.brewer[t.toLowerCase()]&&(t=g.brewer[t.toLowerCase()]),"array"===ee(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var n=0;n<t.length;n++)t[n]=g(t[n]);i.length=0;for(var e=0;e<t.length;e++)i.push(e/(t.length-1))}return _(),c=t},y=function(t){return t},b=function(t){return t},w=function(t,r){var o,l;if(null==r&&(r=!1),isNaN(t)||null===t)return e;l=r?t:u&&u.length>2?function(t){if(null!=u){for(var n=u.length-1,e=0;e<n&&t>=u[e];)e++;return e-1}return 0}(t)/(u.length-2):f!==s?(t-s)/(f-s):1,l=b(l),r||(l=y(l)),1!==v&&(l=re(l,v)),l=a[0]+l*(1-a[0]-a[1]),l=Math.min(1,Math.max(0,l));var h=Math.floor(1e4*l);if(d&&p[h])o=p[h];else{if("array"===ee(c))for(var m=0;m<i.length;m++){var w=i[m];if(l<=w){o=c[m];break}if(l>=w&&m===i.length-1){o=c[m];break}if(l>w&&l<i[m+1]){l=(l-w)/(i[m+1]-w),o=g.interpolate(c[m],c[m+1],l,n);break}}else"function"===ee(c)&&(o=c(l));d&&(p[h]=o)}return o},_=function(){return p={}};m(t);var x=function(t){var n=g(w(t));return l&&n[l]?n[l]():n};return x.classes=function(t){if(null!=t){if("array"===ee(t))u=t,o=[t[0],t[t.length-1]];else{var n=g.analyze(o);u=0===t?[n.min,n.max]:g.limits(n,"e",t)}return x}return u},x.domain=function(t){if(!arguments.length)return o;s=t[0],f=t[t.length-1],i=[];var n=c.length;if(t.length===n&&s!==f)for(var e=0,r=Array.from(t);e<r.length;e+=1){var a=r[e];i.push((a-s)/(f-s))}else{for(var u=0;u<n;u++)i.push(u/(n-1));if(t.length>2){var l=t.map((function(n,e){return e/(t.length-1)})),h=t.map((function(t){return(t-s)/(f-s)}));h.every((function(t,n){return l[n]===t}))||(b=function(t){if(t<=0||t>=1)return t;for(var n=0;t>=h[n+1];)n++;var e=(t-h[n])/(h[n+1]-h[n]);return l[n]+e*(l[n+1]-l[n])})}}return o=[s,f],x},x.mode=function(t){return arguments.length?(n=t,_(),x):n},x.range=function(t,n){return m(t),x},x.out=function(t){return l=t,x},x.spread=function(t){return arguments.length?(r=t,x):r},x.correctLightness=function(t){return null==t&&(t=!0),h=t,_(),y=h?function(t){for(var n=w(0,!0).lab()[0],e=w(1,!0).lab()[0],r=n>e,o=w(t,!0).lab()[0],i=n+(e-n)*t,a=o-i,u=0,c=1,l=20;Math.abs(a)>.01&&l-- >0;)r&&(a*=-1),a<0?(u=t,t+=.5*(c-t)):(c=t,t+=.5*(u-t)),a=(o=w(t,!0).lab()[0])-i;return t}:function(t){return t},x},x.padding=function(t){return null!=t?("number"===ee(t)&&(t=[t,t]),a=t,x):a},x.colors=function(n,e){arguments.length<2&&(e="hex");var r=[];if(0===arguments.length)r=c.slice(0);else if(1===n)r=[x(.5)];else if(n>1){var i=o[0],a=o[1]-i;r=ie(0,n,!1).map((function(t){return x(i+t/(n-1)*a)}))}else{t=[];var l=[];if(u&&u.length>2)for(var s=1,f=u.length,h=1<=f;h?s<f:s>f;h?s++:s--)l.push(.5*(u[s-1]+u[s]));else l=o;r=l.map((function(t){return x(t)}))}return g[e]&&(r=r.map((function(t){return t[e]()}))),r},x.cache=function(t){return null!=t?(d=t,x):d},x.gamma=function(t){return null!=t?(v=t,x):v},x.nodata=function(t){return null!=t?(e=g(t),x):e},x};function ie(t,n,e){for(var r=[],o=t<n,i=e?o?n+1:n-1:n,a=t;o?a<i:a>i;o?a++:a--)r.push(a);return r}var ae=function t(n){var e,r,o,i,a,u,c;if(2===(n=n.map((function(t){return new p(t)}))).length)e=n.map((function(t){return t.lab()})),a=e[0],u=e[1],i=function(t){var n=[0,1,2].map((function(n){return a[n]+t*(u[n]-a[n])}));return new p(n,"lab")};else if(3===n.length)r=n.map((function(t){return t.lab()})),a=r[0],u=r[1],c=r[2],i=function(t){var n=[0,1,2].map((function(n){return(1-t)*(1-t)*a[n]+2*(1-t)*t*u[n]+t*t*c[n]}));return new p(n,"lab")};else if(4===n.length){var l;o=n.map((function(t){return t.lab()})),a=o[0],u=o[1],c=o[2],l=o[3],i=function(t){var n=[0,1,2].map((function(n){return(1-t)*(1-t)*(1-t)*a[n]+3*(1-t)*(1-t)*t*u[n]+3*(1-t)*t*t*c[n]+t*t*t*l[n]}));return new p(n,"lab")}}else if(5===n.length){var s=t(n.slice(0,3)),f=t(n.slice(2,5));i=function(t){return t<.5?s(2*t):f(2*(t-.5))}}return i},ue=function t(n,e,r){if(!t[r])throw new Error("unknown blend mode "+r);return t[r](n,e)},ce=function(t){return function(n,e){var r=g(e).rgb(),o=g(n).rgb();return g.rgb(t(r,o))}},le=function(t){return function(n,e){var r=[];return r[0]=t(n[0],e[0]),r[1]=t(n[1],e[1]),r[2]=t(n[2],e[2]),r}};ue.normal=ce(le((function(t){return t}))),ue.multiply=ce(le((function(t,n){return t*n/255}))),ue.screen=ce(le((function(t,n){return 255*(1-(1-t/255)*(1-n/255))}))),ue.overlay=ce(le((function(t,n){return n<128?2*t*n/255:255*(1-2*(1-t/255)*(1-n/255))}))),ue.darken=ce(le((function(t,n){return t>n?n:t}))),ue.lighten=ce(le((function(t,n){return t>n?t:n}))),ue.dodge=ce(le((function(t,n){return 255===t||(t=n/255*255/(1-t/255))>255?255:t}))),ue.burn=ce(le((function(t,n){return 255*(1-(1-n/255)/(t/255))})));for(var se=ue,fe=u.type,he=u.clip_rgb,pe=u.TWOPI,de=Math.pow,ge=Math.sin,ve=Math.cos,me=Math.floor,ye=Math.random,be=Math.log,we=Math.pow,_e=Math.floor,xe=Math.abs,Me=function(t,n){void 0===n&&(n=null);var e={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===i(t)&&(t=Object.values(t)),t.forEach((function(t){n&&"object"===i(t)&&(t=t[n]),null==t||isNaN(t)||(e.values.push(t),e.sum+=t,t<e.min&&(e.min=t),t>e.max&&(e.max=t),e.count+=1)})),e.domain=[e.min,e.max],e.limits=function(t,n){return ke(e,t,n)},e},ke=function(t,n,e){void 0===n&&(n="equal"),void 0===e&&(e=7),"array"==i(t)&&(t=Me(t));var r=t.min,o=t.max,a=t.values.sort((function(t,n){return t-n}));if(1===e)return[r,o];var u=[];if("c"===n.substr(0,1)&&(u.push(r),u.push(o)),"e"===n.substr(0,1)){u.push(r);for(var c=1;c<e;c++)u.push(r+c/e*(o-r));u.push(o)}else if("l"===n.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*be(r),s=Math.LOG10E*be(o);u.push(r);for(var f=1;f<e;f++)u.push(we(10,l+f/e*(s-l)));u.push(o)}else if("q"===n.substr(0,1)){u.push(r);for(var h=1;h<e;h++){var p=(a.length-1)*h/e,d=_e(p);if(d===p)u.push(a[d]);else{var g=p-d;u.push(a[d]*(1-g)+a[d+1]*g)}}u.push(o)}else if("k"===n.substr(0,1)){var v,m=a.length,y=new Array(m),b=new Array(e),w=!0,_=0,x=null;(x=[]).push(r);for(var M=1;M<e;M++)x.push(r+M/e*(o-r));for(x.push(o);w;){for(var k=0;k<e;k++)b[k]=0;for(var A=0;A<m;A++)for(var S=a[A],E=Number.MAX_VALUE,O=void 0,j=0;j<e;j++){var $=xe(x[j]-S);$<E&&(E=$,O=j),b[O]++,y[A]=O}for(var N=new Array(e),z=0;z<e;z++)N[z]=null;for(var P=0;P<m;P++)null===N[v=y[P]]?N[v]=a[P]:N[v]+=a[P];for(var L=0;L<e;L++)N[L]*=1/b[L];w=!1;for(var T=0;T<e;T++)if(N[T]!==x[T]){w=!0;break}x=N,++_>200&&(w=!1)}for(var D={},C=0;C<e;C++)D[C]=[];for(var R=0;R<m;R++)D[v=y[R]].push(a[R]);for(var B=[],q=0;q<e;q++)B.push(D[q][0]),B.push(D[q][D[q].length-1]);B=B.sort((function(t,n){return t-n})),u.push(B[0]);for(var F=1;F<B.length;F+=2){var W=B[F];isNaN(W)||-1!==u.indexOf(W)||u.push(W)}}return u},Ae={analyze:Me,limits:ke},Se=Math.sqrt,Ee=Math.atan2,Oe=Math.abs,je=Math.cos,$e=Math.PI,Ne={cool:function(){return oe([g.hsl(180,1,.9),g.hsl(250,.7,.4)])},hot:function(){return oe(["#000","#f00","#ff0","#fff"]).mode("rgb")}},ze={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pe=0,Le=Object.keys(ze);Pe<Le.length;Pe+=1){var Te=Le[Pe];ze[Te.toLowerCase()]=ze[Te]}var De=ze;return g.average=function(t,n,e){void 0===n&&(n="lrgb"),void 0===e&&(e=null);var r=t.length;e||(e=Array.from(new Array(r)).map((function(){return 1})));var o=r/e.reduce((function(t,n){return t+n}));if(e.forEach((function(t,n){e[n]*=o})),t=t.map((function(t){return new p(t)})),"lrgb"===n)return ne(t,e);for(var i=t.shift(),a=i.get(n),u=[],c=0,l=0,s=0;s<a.length;s++)if(a[s]=(a[s]||0)*e[0],u.push(isNaN(a[s])?0:e[0]),"h"===n.charAt(s)&&!isNaN(a[s])){var f=a[s]/180*Kn;c+=Jn(f)*e[0],l+=Qn(f)*e[0]}var h=i.alpha()*e[0];t.forEach((function(t,r){var o=t.get(n);h+=t.alpha()*e[r+1];for(var i=0;i<a.length;i++)if(!isNaN(o[i]))if(u[i]+=e[r+1],"h"===n.charAt(i)){var s=o[i]/180*Kn;c+=Jn(s)*e[r+1],l+=Qn(s)*e[r+1]}else a[i]+=o[i]*e[r+1]}));for(var d=0;d<a.length;d++)if("h"===n.charAt(d)){for(var g=te(l/u[d],c/u[d])/Kn*180;g<0;)g+=360;for(;g>=360;)g-=360;a[d]=g}else a[d]=a[d]/u[d];return h/=r,new p(a,n).alpha(h>.99999?1:h,!0)},g.bezier=function(t){var n=ae(t);return n.scale=function(){return oe(n)},n},g.blend=se,g.cubehelix=function(t,n,e,r,o){void 0===t&&(t=300),void 0===n&&(n=-1.5),void 0===e&&(e=1),void 0===r&&(r=1),void 0===o&&(o=[0,1]);var i,a=0;"array"===fe(o)?i=o[1]-o[0]:(i=0,o=[o,o]);var u=function(u){var c=pe*((t+120)/360+n*u),l=de(o[0]+i*u,r),s=(0!==a?e[0]+u*a:e)*l*(1-l)/2,f=ve(c),h=ge(c);return g(he([255*(l+s*(-.14861*f+1.78277*h)),255*(l+s*(-.29227*f-.90649*h)),255*(l+s*(1.97294*f)),1]))};return u.start=function(n){return null==n?t:(t=n,u)},u.rotations=function(t){return null==t?n:(n=t,u)},u.gamma=function(t){return null==t?r:(r=t,u)},u.hue=function(t){return null==t?e:("array"===fe(e=t)?0==(a=e[1]-e[0])&&(e=e[1]):a=0,u)},u.lightness=function(t){return null==t?o:("array"===fe(t)?(o=t,i=t[1]-t[0]):(o=[t,t],i=0),u)},u.scale=function(){return g.scale(u)},u.hue(e),u},g.mix=g.interpolate=Wn,g.random=function(){for(var t="#",n=0;n<6;n++)t+="0123456789abcdef".charAt(me(16*ye()));return new p(t,"hex")},g.scale=oe,g.analyze=Ae.analyze,g.contrast=function(t,n){t=new p(t),n=new p(n);var e=t.luminance(),r=n.luminance();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},g.deltaE=function(t,n,e,r){void 0===e&&(e=1),void 0===r&&(r=1),t=new p(t),n=new p(n);for(var o=Array.from(t.lab()),i=o[0],a=o[1],u=o[2],c=Array.from(n.lab()),l=c[0],s=c[1],f=c[2],h=Se(a*a+u*u),d=Se(s*s+f*f),g=i<16?.511:.040975*i/(1+.01765*i),v=.0638*h/(1+.0131*h)+.638,m=h<1e-6?0:180*Ee(u,a)/$e;m<0;)m+=360;for(;m>=360;)m-=360;var y=m>=164&&m<=345?.56+Oe(.2*je($e*(m+168)/180)):.36+Oe(.4*je($e*(m+35)/180)),b=h*h*h*h,w=Se(b/(b+1900)),_=v*(w*y+1-w),x=h-d,M=a-s,k=u-f,A=(i-l)/(e*g),S=x/(r*v);return Se(A*A+S*S+(M*M+k*k-x*x)/(_*_))},g.distance=function(t,n,e){void 0===e&&(e="lab"),t=new p(t),n=new p(n);var r=t.get(e),o=n.get(e),i=0;for(var a in r){var u=(r[a]||0)-(o[a]||0);i+=u*u}return Math.sqrt(i)},g.limits=Ae.limits,g.valid=function(){for(var t=arguments,n=[],e=arguments.length;e--;)n[e]=t[e];try{return new(Function.prototype.bind.apply(p,[null].concat(n))),!0}catch(t){return!1}},g.scales=Ne,g.colors=wn,g.brewer=De,g}()}));function er(t){var n=t.colors.chartContentBaseColor||(nr.contrast(t.colors.background,"#000000")<5.5?"#f1f1f1":"#333333"),e={tickText:{secondary:Ke(t,"colors.bgBlendRatios.tickText.secondary",nr(t.colors.background).luminance()<.5?.6:.4),primary:Ke(t,"colors.bgBlendRatios.tickText.primary",.2)},series:Ke(t,"colors.bgBlendRatios.series",0),value:Ke(t,"colors.bgBlendRatios.value",.2),axis:Ke(t,"colors.bgBlendRatios.axis",0),gridline:Ke(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:nr.mix(n,t.colors.background,e.tickText.secondary).hex(),primary:nr.mix(n,t.colors.background,e.tickText.primary).hex()},series:nr.mix(n,t.colors.background,e.series).hex(),value:nr.mix(n,t.colors.background,e.value).hex(),axis:nr.mix(n,t.colors.background,e.axis).hex(),gridline:nr.mix(n,t.colors.background,e.gridline).hex(),fallbackBaseColor:n}}var rr=function(t){function n(n){t.call(this),Q(this,n,null,null,a,{})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(tt);function or(t){var n,e,r;return{c:function(){n=f("div"),y(e=h("svg"),"width","1"),y(e,"height","1"),y(e,"class","svelte-1k23k3"),y(n,"class","connector-line svelte-1k23k3"),y(n,"aria-hidden","true"),y(n,"style",r="transform: "+Ye(t[9],t[10]))},m:function(r,o){c(r,n,o),u(n,e),t[64](e)},p:function(t,e){1536&e[0]&&r!==(r="transform: "+Ye(t[9],t[10]))&&y(n,"style",r)},d:function(e){e&&l(n),t[64](null)}}}function ir(t){var n,e,r,o;return{c:function(){n=f("div"),e=h("svg"),y(r=h("path"),"class","helper-line svelte-1k23k3"),y(r,"d",o=t[28](t[0])),y(e,"width","1"),y(e,"height","1"),y(e,"class","svelte-1k23k3"),y(n,"class","helper svelte-1k23k3")},m:function(t,o){c(t,n,o),u(n,e),u(e,r)},p:function(t,n){268435457&n[0]&&o!==(o=t[28](t[0]))&&y(r,"d",o)},d:function(t){t&&l(n)}}}function ar(t){var n,e,r,o;return{c:function(){y(n=f("div"),"class","reference-point svelte-1k23k3"),y(n,"style",e="transform: "+t[24]()),w(n,"hollow",t[23])},m:function(e,i){c(e,n,i),r||(o=v(n,"mousedown",m(t[32])),r=!0)},p:function(t,r){16777216&r[0]&&e!==(e="transform: "+t[24]())&&y(n,"style",e),8388608&r[0]&&w(n,"hollow",t[23])},d:function(t){t&&l(n),r=!1,o()}}}function ur(t){var n,e;return{c:function(){y(n=f("div"),"class","offset-point svelte-1k23k3"),y(n,"style",e="transform: "+t[26]())},m:function(t,e){c(t,n,e)},p:function(t,r){67108864&r[0]&&e!==(e="transform: "+t[26]())&&y(n,"style",e)},d:function(t){t&&l(n)}}}function cr(t){var n,e,r,o=tr(t[0].text)+"";return{c:function(){n=f("div"),y(e=f("span"),"class","export-text"),y(n,"class","shadow-text svelte-1k23k3"),y(n,"aria-hidden","true"),y(n,"style",r=t[21](t[0])),w(n,"dw-bold",t[0].bold),w(n,"italic",t[0].italic),w(n,"underline",t[0].underline)},m:function(t,r){c(t,n,r),u(n,e),e.innerHTML=o},p:function(t,i){1&i[0]&&o!==(o=tr(t[0].text)+"")&&(e.innerHTML=o),2097153&i[0]&&r!==(r=t[21](t[0]))&&y(n,"style",r),1&i[0]&&w(n,"dw-bold",t[0].bold),1&i[0]&&w(n,"italic",t[0].italic),1&i[0]&&w(n,"underline",t[0].underline)},d:function(t){t&&l(n)}}}function lr(t){var n;function e(t,n){return t[13]?hr:fr}var r=e(t),o=r(t);return{c:function(){n=f("span"),o.c(),y(n,"class","export-text")},m:function(t,e){c(t,n,e),o.m(n,null)},p:function(t,i){r===(r=e(t))&&o?o.p(t,i):(o.d(1),(o=r(t))&&(o.c(),o.m(n,null)))},d:function(t){t&&l(n),o.d()}}}function sr(t){var n;function e(t,n){return t[13]?dr:pr}var r=e(t),o=r(t);return{c:function(){o.c(),n=g()},m:function(t,e){o.m(t,e),c(t,n,e)},p:function(t,i){r===(r=e(t))&&o?o.p(t,i):(o.d(1),(o=r(t))&&(o.c(),o.m(n.parentNode,n)))},d:function(t){o.d(t),t&&l(n)}}}function fr(t){var n,e,r=tr(t[0].text)+"";return{c:function(){e=g(),n=new x(e)},m:function(t,o){n.m(r,t,o),c(t,e,o)},p:function(t,e){1&e[0]&&r!==(r=tr(t[0].text)+"")&&n.p(r)},d:function(t){t&&l(e),t&&n.d()}}}function hr(t){var n,e=t[6].num+"";return{c:function(){n=p(e)},m:function(t,e){c(t,n,e)},p:function(t,r){64&r[0]&&e!==(e=t[6].num+"")&&b(n,e)},d:function(t){t&&l(n)}}}function pr(t){var n;function e(t,n){return t[1]&&t[14]?vr:gr}var r=e(t),o=r(t);return{c:function(){n=f("div"),o.c(),y(n,"class","text-background svelte-1k23k3")},m:function(t,e){c(t,n,e),o.m(n,null)},p:function(t,i){r===(r=e(t))&&o?o.p(t,i):(o.d(1),(o=r(t))&&(o.c(),o.m(n,null)))},d:function(t){t&&l(n),o.d()}}}function dr(t){var n,e,r=t[6].num+"";return{c:function(){n=f("span"),e=p(r)},m:function(t,r){c(t,n,r),u(n,e)},p:function(t,n){64&n[0]&&r!==(r=t[6].num+"")&&b(e,r)},d:function(t){t&&l(n)}}}function gr(t){var n,e=tr(t[0].text)+"";return{c:function(){y(n=f("span"),"class","text-inner text-edit svelte-1k23k3")},m:function(r,o){c(r,n,o),n.innerHTML=e,t[67](n)},p:function(t,r){1&r[0]&&e!==(e=tr(t[0].text)+"")&&(n.innerHTML=e)},d:function(e){e&&l(n),t[67](null)}}}function vr(t){var n,e,r,i=tr(t[18])+"";return{c:function(){y(n=f("span"),"contenteditable",""),y(n,"class","text-inner text-edit svelte-1k23k3"),void 0===t[17]&&T((function(){return t[66].call(n)}))},m:function(o,a){c(o,n,a),n.innerHTML=i,t[65](n),void 0!==t[17]&&(n.innerHTML=t[17]),e||(r=[v(n,"input",t[66]),v(n,"input",t[33]),v(n,"blur",t[34])],e=!0)},p:function(t,e){262144&e[0]&&i!==(i=tr(t[18])+"")&&(n.innerHTML=i),131072&e[0]&&t[17]!==n.innerHTML&&(n.innerHTML=t[17])},d:function(i){i&&l(n),t[65](null),e=!1,o(r)}}}function mr(t){var n,e,r,o,i;function a(n){t[68](n)}function u(n){t[69](n)}function c(n){t[70](n)}var l={type:"text",annotation:t[0],index:t[7]};return void 0!==t[3]&&(l.noOffsetAtEventStart=t[3]),void 0!==t[4]&&(l.activeResizer=t[4]),void 0!==t[5]&&(l.resizing=t[5]),n=new gn({props:l}),j.push((function(){return U(n,"noOffsetAtEventStart",a)})),j.push((function(){return U(n,"activeResizer",u)})),j.push((function(){return U(n,"resizing",c)})),n.$on("selectAnnotation",t[71]),n.$on("setWidth",t[36]),{c:function(){V(n.$$.fragment)},m:function(t,e){Z(n,t,e),i=!0},p:function(t,i){var a={};1&i[0]&&(a.annotation=t[0]),128&i[0]&&(a.index=t[7]),!e&&8&i[0]&&(e=!0,a.noOffsetAtEventStart=t[3],D((function(){return e=!1}))),!r&&16&i[0]&&(r=!0,a.activeResizer=t[4],D((function(){return r=!1}))),!o&&32&i[0]&&(o=!0,a.resizing=t[5],D((function(){return o=!1}))),n.$set(a)},i:function(t){i||(H(n.$$.fragment,t),i=!0)},o:function(t){G(n.$$.fragment,t),i=!1},d:function(t){K(n,t)}}}function yr(t){var n,e,r,i,a,s,h,p,g,b,_,x,M,k;n=new rr({});var A=t[0].connectorLine&&t[0].connectorLine.enabled&&or(t),S=t[27]&&ir(t),E=t[22]&&ar(t),O=t[25]&&ur(t),j=t[0].bg&&t[12]&&!t[13]&&cr(t);function $(t,n){return t[8]?sr:lr}var N=$(t),z=N(t),P=t[8]&&!t[13]&&mr(t);return{c:function(){V(n.$$.fragment),e=d(),r=f("div"),A&&A.c(),i=d(),S&&S.c(),a=d(),E&&E.c(),s=d(),O&&O.c(),h=d(),j&&j.c(),p=d(),g=f("div"),z.c(),b=d(),P&&P.c(),y(g,"class","text svelte-1k23k3"),y(g,"style",_=t[20](t[0])),w(g,"dw-bold",t[0].bold||t[13]),w(g,"italic",t[0].italic&&!t[13]),w(g,"underline",t[0].underline&&!t[13]),w(g,"dw-circle",t[13]),w(g,"num",t[13]),y(r,"class","text-annotation svelte-1k23k3"),y(r,"role","listitem"),w(r,"hide",t[19]),w(r,"edit-mode",t[8]),w(r,"selected",t[14]),w(r,"editable",t[1]&&t[14]),w(r,"not-editable",!t[1]||!t[14]),w(r,"key",t[13]),w(r,"dragging",t[2]),w(r,"resizing",t[5])},m:function(o,l){Z(n,o,l),c(o,e,l),c(o,r,l),A&&A.m(r,null),u(r,i),S&&S.m(r,null),u(r,a),E&&E.m(r,null),u(r,s),O&&O.m(r,null),u(r,h),j&&j.m(r,null),u(r,p),u(r,g),z.m(g,null),u(g,b),P&&P.m(g,null),t[72](g),x=!0,M||(k=[v(window,"keydown",t[35]),v(g,"mousedown",m(t[29])),v(g,"click",t[30]),v(g,"contextmenu",t[31])],M=!0)},p:function(t,n){t[0].connectorLine&&t[0].connectorLine.enabled?A?A.p(t,n):((A=or(t)).c(),A.m(r,i)):A&&(A.d(1),A=null),t[27]?S?S.p(t,n):((S=ir(t)).c(),S.m(r,a)):S&&(S.d(1),S=null),t[22]?E?E.p(t,n):((E=ar(t)).c(),E.m(r,s)):E&&(E.d(1),E=null),t[25]?O?O.p(t,n):((O=ur(t)).c(),O.m(r,h)):O&&(O.d(1),O=null),t[0].bg&&t[12]&&!t[13]?j?j.p(t,n):((j=cr(t)).c(),j.m(r,p)):j&&(j.d(1),j=null),N===(N=$(t))&&z?z.p(t,n):(z.d(1),(z=N(t))&&(z.c(),z.m(g,b))),t[8]&&!t[13]?P?(P.p(t,n),8448&n[0]&&H(P,1)):((P=mr(t)).c(),H(P,1),P.m(g,null)):P&&(I(),G(P,1,1,(function(){P=null})),Y()),(!x||1048577&n[0]&&_!==(_=t[20](t[0])))&&y(g,"style",_),8193&n[0]&&w(g,"dw-bold",t[0].bold||t[13]),8193&n[0]&&w(g,"italic",t[0].italic&&!t[13]),8193&n[0]&&w(g,"underline",t[0].underline&&!t[13]),8192&n[0]&&w(g,"dw-circle",t[13]),8192&n[0]&&w(g,"num",t[13]),524288&n[0]&&w(r,"hide",t[19]),256&n[0]&&w(r,"edit-mode",t[8]),16384&n[0]&&w(r,"selected",t[14]),16386&n[0]&&w(r,"editable",t[1]&&t[14]),16386&n[0]&&w(r,"not-editable",!t[1]||!t[14]),8192&n[0]&&w(r,"key",t[13]),4&n[0]&&w(r,"dragging",t[2]),32&n[0]&&w(r,"resizing",t[5])},i:function(t){x||(H(n.$$.fragment,t),H(P),x=!0)},o:function(t){G(n.$$.fragment,t),G(P),x=!1},d:function(i){K(n,i),i&&l(e),i&&l(r),A&&A.d(),S&&S.d(),E&&E.d(),O&&O.d(),j&&j.d(),z.d(),P&&P.d(),t[72](null),M=!1,o(k)}}}function br(t,n,e){var r,o,i,a,u,c,l,s,f,h,p,d,g,v,m,y,b,w,_,x,M,k,O,$,N,P=n.annotation;void 0===P&&(P={});var T=n.dataToPx,D=n.pxToData,C=n.mirrorX;void 0===C&&(C=!1);var R,B,q=n.theme,F=n.cm,W=n.visWidth,I=n.isMobileWidth,Y=n.key,H=0,G=0,X=0,U=0;function V(){var t=Ze(P.dy,P.dx)+90;return P.dx<0&&(t+=180),function(t){switch(!0){case t>337.5||t<=22.5:return"bc";case t>22.5&&t<=67.5:return"bl";case t>67.5&&t<=112.5:return"ml";case t>112.5&&t<=157.5:return"tl";case t>157.5&&t<=202.5:return"tc";case t>202.5&&t<=247.5:return"tr";case t>247.5&&t<=292.5:return"mr";case t>292.5&&t<=337.5:return"br";default:return"mc"}}(t)}function Z(t){var n=p(P),e=n[0],r=n[1];return H>e-t&&H<e+X+t&&G>r-t&&G<r+U+t}function K(){if(!h)return 4;var t=V();if(t.includes("c")||t.includes("m"))return 0;var n=(X*Math.sqrt(2)-X)/2;return-Math.sqrt(Math.pow(n,2)/2)}A((function(){function t(){R&&(e(50,X=R.offsetWidth),e(51,U=R.offsetHeight),function(){if(P.connectorLine&&P.connectorLine.enabled){var t=ln(B);t.selectAll("*").remove();var n=P.connectorLine,e=n.circle,r=n.circleRadius,o=n.stroke,a=n.inheritColor,u=n.targetPadding,c=p(P),l=c[0],f=c[1],d=l-H,g=f-G,v=a&&s&&!h?s:Ke(q,"typography.chart.color",i),m={curveLeft:C?"curveRight":"curveLeft",curveRight:C?"curveLeft":"curveRight",straight:"straight"},b=$n(Object.assign({},P.connectorLine,{circle:e,circleRadius:r,source:{x:d,y:g,width:X,height:U},sourcePadding:K(),targetPadding:h?0:u,strokeWidth:h?1:o,color:v,type:m[P.connectorLine.type]}));t.call(b);var w=t.select(".callout-line").select("path").attr("d");(function(t,n){var e=t.replace("M","").replace("Q","").trim().replace(/ /g,",").split(","),r=Math.max(Math.abs(Number(e[0])),Math.abs(Number(e[1])))-n;return isNaN(r)&&(r=0),r})(w,u)<10||Z(5)||function(t,n,e){if(t&&e){var r=n.indexOf("M ")+"M ".length,o=n.indexOf(" ",r),i=n.substring(r,o).split(",").map((function(t){return parseInt(t,10)}));return Math.pow(i[0]-0,2)+Math.pow(i[1]-0,2)<Math.pow(e,2)}}(e,w,r)?(t.selectAll("*").remove(),y&&tt("updateEditorState",{hideConnectorLine:!0})):y&&tt("updateEditorState",{hideConnectorLine:!1})}}())}et?t():(L(),z).then(t)}));var J,Q,tt=S(),nt=n.index,et=n.editMode,rt=n.isEditable,ot=n.editorState,it=n.moveX,at=n.moveY,ut=n.dragging,ct=n.noOffsetAtEventStart,lt=n.forceOffsetDrag,st=n.forceAnchorDrag,ft=n.forceAnchorDragTemp,ht=n.activeResizer,pt=n.resizing,dt=P.text;return t.$$set=function(t){"annotation"in t&&e(0,P=t.annotation),"dataToPx"in t&&e(41,T=t.dataToPx),"pxToData"in t&&e(42,D=t.pxToData),"mirrorX"in t&&e(43,C=t.mirrorX),"theme"in t&&e(44,q=t.theme),"cm"in t&&e(45,F=t.cm),"visWidth"in t&&e(46,W=t.visWidth),"isMobileWidth"in t&&e(47,I=t.isMobileWidth),"key"in t&&e(6,Y=t.key),"index"in t&&e(7,nt=t.index),"editMode"in t&&e(8,et=t.editMode),"isEditable"in t&&e(1,rt=t.isEditable),"editorState"in t&&e(48,ot=t.editorState),"moveX"in t&&e(37,it=t.moveX),"moveY"in t&&e(38,at=t.moveY),"dragging"in t&&e(2,ut=t.dragging),"noOffsetAtEventStart"in t&&e(3,ct=t.noOffsetAtEventStart),"forceOffsetDrag"in t&&e(39,lt=t.forceOffsetDrag),"forceAnchorDrag"in t&&e(40,st=t.forceAnchorDrag),"forceAnchorDragTemp"in t&&e(49,ft=t.forceAnchorDragTemp),"activeResizer"in t&&e(4,ht=t.activeResizer),"resizing"in t&&e(5,pt=t.resizing)},t.$$.update=function(){var n,A;if(8192&t.$$.dirty[1]&&e(52,r={mobile:Ke(q,"style.chart.mobileAnnotations",{}),desktop:Ke(q,"style.chart.textAnnotations",{})}),8192&t.$$.dirty[1]&&e(12,o=Ke(q,"colors.background","#ffffff")),8192&t.$$.dirty[1]&&e(53,i=er(q).fallbackBaseColor),4096&t.$$.dirty[0]|2097152&t.$$.dirty[1]&&e(54,a=Ke(r.mobile,"icons.background",Ue(o,.7))),6291456&t.$$.dirty[1]&&e(55,u=Ke(r.mobile,"icons.outline","1px solid "+i)),2097152&t.$$.dirty[1]&&e(56,c=r.desktop.color),4096&t.$$.dirty[1]&&e(57,l=C?-1:1),1&t.$$.dirty[0]&&e(0,P.dx=+P.dx||0,P),1&t.$$.dirty[0]&&e(0,P.dy=+P.dy||0,P),128&t.$$.dirty[0]|131072&t.$$.dirty[1]&&e(14,y=1===ot.selectedTextAnnotations.length&&ot.selectedTextAnnotations[0]===nt),16397&t.$$.dirty[0]|67375040&t.$$.dirty[1]&&y&&ut&&(it||at)){if(ct&&!lt||st||ft){var S=T(P.x,P.y),E=S[0],j=S[1],z=D(E+=it,j+=at),L=z[0],R=z[1];e(0,P.x=L,P),e(0,P.y=R,P)}else e(0,P.dx+=it*l,P),e(0,P.dy+=at,P);lt&&ct&&!P.connectorLine.enabled&&!Z(20)&&(e(0,P.connectorLine.enabled=!0,P),e(0,P.connectorLine.type="curveLeft",P)),e(37,it=0),e(38,at=0)}if(16441&t.$$.dirty[0]|40128&t.$$.dirty[1]&&y&&pt&&(it||at)){var B=it/W*100,K=0;if(P.align.includes("c")?(K+=it/2,"l"===ht&&(B=-B)):P.align.includes(C?"r":"l")?"l"===ht&&(K+=it,B=-B):P.align.includes(C?"l":"r")&&("l"===ht&&(B=-B),"r"===ht&&(K+=it)),ct){var gt=T(P.x,P.y),vt=gt[0],mt=D(vt+=K,gt[1]),yt=mt[0],bt=mt[1];e(0,P.x=yt,P),e(0,P.y=bt,P)}else e(0,P.dx+=K,P);e(0,P.width+=B,P),e(0,P.width=Math.max(5,P.width),P),e(37,it=0)}1&t.$$.dirty[0]|33570816&t.$$.dirty[1]&&e(58,s=P.color?F(P.color):c),1&t.$$.dirty[0]|65536&t.$$.dirty[1]&&e(19,f=Xe(P)||!(!He((A=P).showMobile)||!1!==A.showDesktop||I)||Ge(P)&&I),64&t.$$.dirty[0]&&e(13,h=Y&&Y.render),1&t.$$.dirty[0]|1024&t.$$.dirty[1]&&e(9,(n=T(P.x,P.y),H=n[0],G=n[1],n),H,(e(10,G),e(41,T),e(0,P),e(14,y),e(2,ut),e(37,it),e(38,at),e(3,ct),e(39,lt),e(40,st),e(49,ft),e(42,D),e(57,l),e(5,pt),e(46,W),e(4,ht),e(43,C),e(48,ot),e(7,nt))),1&t.$$.dirty[0]&&e(60,b=0===P.dx&&0===P.dy),9728&t.$$.dirty[0]|605556736&t.$$.dirty[1]&&e(59,p=function(t){var n,e=[H,G],r=e[0],o=e[1],i=t.align;h||(r+=t.dx*l,o+=t.dy),h&&!b&&(r=(n=function(t,n){var e=P.connectorLine.circle?Math.max(0,P.connectorLine.circleRadius):0,r=20+e,o=(25+e)*l,i=V(),a={br:[-r,-r],bc:[-o,0],bl:[-r,r],mr:[0,-o],mc:[-o-.5*U,0],ml:[0,o],tr:[r,-r],tc:[o,0],tl:[r,r]}[i],u=a[0];return[t+=a[1],n+=u]}(r,o))[0],o=n[1],i="mc");var a={l:C?"r":"l",r:C?"l":"r",c:"c"}[i.charAt(1)],u=i.charAt(0);return[r-=X*{l:0,c:.5,r:1}[a],o-=U*{t:0,m:.5,b:1}[u]]}),268435456&t.$$.dirty[1]&&e(61,d=function(t){var n=p(t);return Ye(n[0],n[1])}),8192&t.$$.dirty[0]|1233125376&t.$$.dirty[1]|1&t.$$.dirty[2]&&e(20,v=function(t){var n=[];return h?(n.push("border: "+u),n.push("background-color: "+a)):(n.push.apply(n,g(t)),s&&n.push("color: "+s)),n.push("transform: "+d(t)),n.join("; ")}),4096&t.$$.dirty[0]|1073741824&t.$$.dirty[1]|1&t.$$.dirty[2]&&e(21,m=function(t){var n=[];return n.push.apply(n,g(t)),n.push("text-shadow: "+function(t,n,e){var r=[],o=de(-t,t+1);return o.forEach((function(t){o.forEach((function(o){(t||o)&&r.push(t+"px "+o+"px "+(t&&o?0:n)+"px "+e)}))})),r.join(", ")}(2,2,o)),n.push("transform: "+d(t)),n.join("; ")}),2050&t.$$.dirty[0]&&!rt&&J&&J.blur(),26112&t.$$.dirty[0]|1572864&t.$$.dirty[1]&&y&&tt("updateEditorState",{selectedAnnotationProps:{x:H,y:G,width:X,height:U,mobileFallback:h}}),1&t.$$.dirty[0]&&e(63,w="mc"===P.align),24832&t.$$.dirty[0]|536870912&t.$$.dirty[1]|2&t.$$.dirty[2]&&e(22,_=et&&y&&!h&&!(b&&w)),24832&t.$$.dirty[0]|536870912&t.$$.dirty[1]&&e(23,x=et&&y&&!h&&!b),1536&t.$$.dirty[0]&&e(24,M=function(){var t=[H,G],n=t[0],e=t[1];return Ye(n-=2.5,e-=2.5)}),24832&t.$$.dirty[0]|536870912&t.$$.dirty[1]|2&t.$$.dirty[2]&&e(25,k=et&&y&&!h&&!b&&!w),1537&t.$$.dirty[0]|67108864&t.$$.dirty[1]&&e(26,O=function(){var t=[H,G],n=t[0],e=t[1];return n-=2.5,e-=2.5,Ye(n+=P.dx*l,e+=P.dy)}),1&t.$$.dirty[0]&&(document.activeElement.classList.contains("text-edit")||(e(17,Q=tr(P.text)),e(18,dt=P.text))),24833&t.$$.dirty[0]|536870912&t.$$.dirty[1]&&e(27,$=et&&y&&!P.connectorLine.enabled&&!b&&!h),1536&t.$$.dirty[0]|67108864&t.$$.dirty[1]&&e(28,N=function(t){var n=[H,G],e=n[0],r=n[1];return"M "+e+","+r+" L"+(e+t.dx*l)+","+(r+t.dy)})},e(62,g=function(t){var n=[];return t.width&&n.push("width: "+function(t){return W*(t.width/100)+"px"}(t)),n.push("font-size: "+(t.size||14)+"px"),n.push("min-height: "+(t.size||14)+"px"),n.push("text-align: "+function(t){return t.align?{l:C?"right":"left",c:"center",r:C?"left":"right"}[t.align.charAt(1)]:"center"}(t)),n}),[P,rt,ut,ct,ht,pt,Y,nt,et,H,G,J,o,h,y,R,B,Q,dt,f,v,m,_,x,M,k,O,$,N,function(t){if(et){sn(),tt("selectAnnotation",{type:"text",index:nt});var n="true"===t.target.contentEditable||"true"===t.target.parentNode.contentEditable;h||n&&y||(e(37,it=0),e(38,at=0),e(2,ut=!0),e(39,lt=t.ctrlKey),lt&&tt("updateEditorState",{forceOffsetDrag:!0}),e(3,ct=0===P.dx&&0===P.dy))}},function(t){et&&t.preventDefault()},function(t){et&&t.preventDefault()},function(){et&&(sn(),tt("selectAnnotation",{type:"text",index:nt}),e(2,ut=!0),e(40,st=!0))},function(){e(0,P.text=Q.slice&&"&nbsp;"===Q.slice(-6)&&"&nbsp;&nbsp;"!==Q.slice(-12)?Q.slice(0,-6)+" ":Q,P),tt("update")},function(){sn()},function(t){if(et&&!h){var n="ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key;if("Escape"===t.key&&y&&rt)J.blur(),e(1,rt=!1);else if("Escape"===t.key&&y)tt("selectAnnotation",null);else if(n&&y&&!rt){t.preventDefault();var r="ArrowLeft"===t.key?-1:"ArrowRight"===t.key?1:0,o="ArrowUp"===t.key?-1:"ArrowDown"===t.key?1:0;if(t.ctrlKey)e(0,P.dx+=r*l,P),e(0,P.dy+=o,P);else{var i=T(P.x,P.y),a=i[0],u=i[1],c=D(a+=r,u+=o),s=c[0],f=c[1];e(0,P.x=s,P),e(0,P.y=f,P)}tt("update")}}},function(){e(0,P.width=X/W*100,P)},it,at,lt,st,T,D,C,q,F,W,I,ot,ft,X,U,r,i,a,u,c,l,s,p,b,d,g,w,function(t){j[t?"unshift":"push"]((function(){e(16,B=t)}))},function(t){j[t?"unshift":"push"]((function(){e(11,J=t)}))},function(){Q=this.innerHTML,e(17,Q),e(0,P),e(14,y),e(2,ut),e(37,it),e(38,at),e(3,ct),e(39,lt),e(40,st),e(49,ft),e(41,T),e(42,D),e(57,l),e(5,pt),e(46,W),e(4,ht),e(43,C),e(48,ot),e(7,nt)},function(t){j[t?"unshift":"push"]((function(){e(11,J=t)}))},function(t){e(3,ct=t)},function(t){e(4,ht=t)},function(t){e(5,pt=t)},function(n){E(t,n)},function(t){j[t?"unshift":"push"]((function(){e(15,R=t)}))}]}var wr=function(t){function n(n){t.call(this),Q(this,n,br,yr,a,{annotation:0,dataToPx:41,pxToData:42,mirrorX:43,theme:44,cm:45,visWidth:46,isMobileWidth:47,key:6,index:7,editMode:8,isEditable:1,editorState:48,moveX:37,moveY:38,dragging:2,noOffsetAtEventStart:3,forceOffsetDrag:39,forceAnchorDrag:40,forceAnchorDragTemp:49,activeResizer:4,resizing:5},[-1,-1,-1])}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(tt);function _r(t){var n,e,r,o,i,a,u=t[3]&&Mr(t);return{c:function(){n=f("div"),o=d(),u&&u.c(),i=g(),y(n,"class",e="range-annotation dw-rect range "+t[0].type+" svelte-jvyzro"),y(n,"style",r=t[6](t[0]))},m:function(t,e){c(t,n,e),c(t,o,e),u&&u.m(t,e),c(t,i,e),a=!0},p:function(t,o){(!a||1&o&&e!==(e="range-annotation dw-rect range "+t[0].type+" svelte-jvyzro"))&&y(n,"class",e),(!a||65&o&&r!==(r=t[6](t[0])))&&y(n,"style",r),t[3]?u?(u.p(t,o),8&o&&H(u,1)):((u=Mr(t)).c(),H(u,1),u.m(i.parentNode,i)):u&&(I(),G(u,1,1,(function(){u=null})),Y())},i:function(t){a||(H(u),a=!0)},o:function(t){G(u),a=!1},d:function(t){t&&l(n),t&&l(o),u&&u.d(t),t&&l(i)}}}function xr(t){var n,e,r,o,i,a,u=t[3]&&kr(t);return{c:function(){n=f("div"),u&&u.c(),y(n,"class",e="range-annotation dw-line line "+t[0].type+" svelte-jvyzro"),y(n,"style",r=t[7](t[0])),w(n,"edit-mode",t[3]),w(n,"no-edit-mode",!t[3]),w(n,"selected",t[5])},m:function(e,r){c(e,n,r),u&&u.m(n,null),o=!0,i||(a=v(n,"mousedown",m(t[22])),i=!0)},p:function(t,i){t[3]?u?(u.p(t,i),8&i&&H(u,1)):((u=kr(t)).c(),H(u,1),u.m(n,null)):u&&(I(),G(u,1,1,(function(){u=null})),Y()),(!o||1&i&&e!==(e="range-annotation dw-line line "+t[0].type+" svelte-jvyzro"))&&y(n,"class",e),(!o||129&i&&r!==(r=t[7](t[0])))&&y(n,"style",r),9&i&&w(n,"edit-mode",t[3]),9&i&&w(n,"no-edit-mode",!t[3]),33&i&&w(n,"selected",t[5])},i:function(t){o||(H(u),o=!0)},o:function(t){G(u),o=!1},d:function(t){t&&l(n),u&&u.d(),i=!1,a()}}}function Mr(t){var n,e,r,o,i,a,s,h,p,g,b;function _(n){t[26](n)}function x(n){t[27](n)}var M={type:"range",annotation:t[0],index:t[4],orientation:t[0].type};return void 0!==t[2]&&(M.activeResizer=t[2]),void 0!==t[1]&&(M.resizing=t[1]),o=new gn({props:M}),j.push((function(){return U(o,"activeResizer",_)})),j.push((function(){return U(o,"resizing",x)})),o.$on("selectAnnotation",t[28]),{c:function(){n=f("div"),(e=f("div")).innerHTML='<div class="dot svelte-jvyzro"></div>',r=d(),V(o.$$.fragment),y(e,"class","dot-drag svelte-jvyzro"),y(n,"style",s=t[6](t[0])),y(n,"class",h="range-annotation edit-mode range "+t[0].type+" svelte-jvyzro"),w(n,"edit-mode",t[3]),w(n,"no-edit-mode",!t[3]),w(n,"selected",t[5])},m:function(i,a){c(i,n,a),u(n,e),u(n,r),Z(o,n,null),p=!0,g||(b=v(e,"mousedown",m(t[9])),g=!0)},p:function(t,e){var r={};1&e&&(r.annotation=t[0]),16&e&&(r.index=t[4]),1&e&&(r.orientation=t[0].type),!i&&4&e&&(i=!0,r.activeResizer=t[2],D((function(){return i=!1}))),!a&&2&e&&(a=!0,r.resizing=t[1],D((function(){return a=!1}))),o.$set(r),(!p||65&e&&s!==(s=t[6](t[0])))&&y(n,"style",s),(!p||1&e&&h!==(h="range-annotation edit-mode range "+t[0].type+" svelte-jvyzro"))&&y(n,"class",h),9&e&&w(n,"edit-mode",t[3]),9&e&&w(n,"no-edit-mode",!t[3]),33&e&&w(n,"selected",t[5])},i:function(t){p||(H(o.$$.fragment,t),p=!0)},o:function(t){G(o.$$.fragment,t),p=!1},d:function(t){t&&l(n),K(o),g=!1,b()}}}function kr(t){var n,e,r,o;function i(n){t[23](n)}function a(n){t[24](n)}var u={annotation:t[0],index:t[4],orientation:t[0].type};return void 0!==t[2]&&(u.activeResizer=t[2]),void 0!==t[1]&&(u.resizing=t[1]),n=new gn({props:u}),j.push((function(){return U(n,"activeResizer",i)})),j.push((function(){return U(n,"resizing",a)})),n.$on("selectAnnotation",t[25]),{c:function(){V(n.$$.fragment)},m:function(t,e){Z(n,t,e),o=!0},p:function(t,o){var i={};1&o&&(i.annotation=t[0]),16&o&&(i.index=t[4]),1&o&&(i.orientation=t[0].type),!e&&4&o&&(e=!0,i.activeResizer=t[2],D((function(){return e=!1}))),!r&&2&o&&(r=!0,i.resizing=t[1],D((function(){return r=!1}))),n.$set(i)},i:function(t){o||(H(n.$$.fragment,t),o=!0)},o:function(t){G(n.$$.fragment,t),o=!1},d:function(t){K(n,t)}}}function Ar(t){var n,e,r,o,i,a,u=[xr,_r],s=[];function f(t,n){return"line"===t[0].display?0:1}return n=f(t),e=s[n]=u[n](t),{c:function(){e.c(),r=g()},m:function(e,u){s[n].m(e,u),c(e,r,u),o=!0,i||(a=v(window,"keydown",t[8]),i=!0)},p:function(t,o){var i=o[0],a=n;(n=f(t))===a?s[n].p(t,i):(I(),G(s[a],1,1,(function(){s[a]=null})),Y(),(e=s[n])?e.p(t,i):(e=s[n]=u[n](t)).c(),H(e,1),e.m(r.parentNode,r))},i:function(t){o||(H(e),o=!0)},o:function(t){G(e),o=!1},d:function(t){s[n].d(t),t&&l(r),i=!1,a()}}}function Sr(t,n,e){var r,o,i,a,u,c,l,s=n.annotation,f=n.dataToPx,h=n.pxToData,p=n.editorState,d=n.editMode,g=n.index,v=n.moveX,m=n.moveY,y=n.resizing,b=n.dragging,w=n.activeResizer,_=n.forceAnchorDragTemp,x=n.cm,M=S();return t.$$set=function(t){"annotation"in t&&e(0,s=t.annotation),"dataToPx"in t&&e(13,f=t.dataToPx),"pxToData"in t&&e(14,h=t.pxToData),"editorState"in t&&e(15,p=t.editorState),"editMode"in t&&e(3,d=t.editMode),"index"in t&&e(4,g=t.index),"moveX"in t&&e(10,v=t.moveX),"moveY"in t&&e(11,m=t.moveY),"resizing"in t&&e(1,y=t.resizing),"dragging"in t&&e(12,b=t.dragging),"activeResizer"in t&&e(2,w=t.activeResizer),"forceAnchorDragTemp"in t&&e(16,_=t.forceAnchorDragTemp),"cm"in t&&e(17,x=t.cm)},t.$$.update=function(){if(32784&t.$$.dirty&&e(5,r=1===p.selectedRangeAnnotations.length&&p.selectedRangeAnnotations[0]===g),93223&t.$$.dirty&&r&&y&&(v||m))if(["l","r"].includes(w)){var n,d=f(s.x0,0)[0],M=f(s.x1,0)[0];"l"===w&&"line"===s.display?n="x0":"l"===w?n=d>M?"x1":"x0":"r"===w&&(n=d>M?"x0":"x1");var k=f(s[n],0)[0],A=f(s["x1"===n?"x0":"x1"],0)[0];k-A>0!=k+v-A>0&&e(2,w="l"===w?"r":"l");var S=h(k+=v,0)[0];if(e(0,s[n]=S,s),_){var E=h(A-=v,0)[0];e(0,s["x1"===n?"x0":"x1"]=E,s)}e(10,v=0)}else{var O,j=f(0,s.y0)[1],$=f(0,s.y1)[1];"t"===w&&"line"===s.display?O="y0":"t"===w?O=j<$?"y0":"y1":"b"===w&&(O=j<$?"y1":"y0");var N=f(0,s[O]),z=N[1],P=f(0,s["y1"===O?"y0":"y1"])[1];z-P>0!=z+m-P>0&&e(2,w="t"===w?"b":"t"),z+=m;var L=h(N[0],z),T=(L[0],L[1]);e(0,s[O]=T,s),e(11,m=0)}if(31777&t.$$.dirty&&r&&b&&(v||m))if("x"===s.type){var D=f(s.x0,0),C=D[0],R=(D[1],f(s.x1,0)),B=R[0];R[1],B+=v;var q=h(C+=v,0),F=q[0],W=(q[1],h(B,0)),I=W[0];W[1],e(0,s.x0=F,s),e(0,s.x1=I,s),e(10,v=0)}else{var Y=f(0,s.y0),H=(Y[0],Y[1]),G=f(0,s.y1),X=(G[0],G[1]);X+=m;var U=h(0,H+=m),V=(U[0],U[1]),Z=h(0,X),K=(Z[0],Z[1]);e(0,s.y0=V,s),e(0,s.y1=K,s),e(11,m=0)}8193&t.$$.dirty&&e(18,o="x"===s.type?f(s.x0,0)[0]:f(0,s.y0)[1]),8193&t.$$.dirty&&e(19,i="x"===s.type?f(s.x1,0)[0]:f(0,s.y1)[1]),786432&t.$$.dirty&&e(20,a=Math.min(o,i)),786432&t.$$.dirty&&e(21,u=Math.max(o,i)),3276800&t.$$.dirty&&e(6,c=function(t){var n=t.color,e=t.opacity,r=t.type,o=[];return o.push("background-color: "+x(Ue(n,e/100))),o.push(("x"===r?"left":"top")+": "+a+"px"),o.push(("x"===r?"width":"height")+": "+(u-a)+"px"),o.join("; ")}),262144&t.$$.dirty&&e(7,l=function(t){var n=[];n.push(("x"===t.type?"left":"top")+": "+(o-t.strokeWidth/2)+"px");var e=Ne(t.color),r=t.opacity/100;return n.push("border-color: rgba("+e.r+", "+e.g+", "+e.b+", "+r+")"),"x"===t.type?n.push("border-left-width: "+(t.strokeWidth||1)+"px"):n.push("border-top-width: "+(t.strokeWidth||1)+"px"),"dashed"===t.strokeType?n.push("border-style: dashed"):"dotted"===t.strokeType?n.push("border-style: dotted"):n.push("border-style: solid"),n.join("; ")})},[s,y,w,d,g,r,c,l,function(t){d&&"Escape"===t.key&&r&&M("selectAnnotation",null)},function(){d&&(M("selectAnnotation",{type:"range",index:g}),e(12,b=!0))},v,m,b,f,h,p,_,x,o,i,a,u,function(n){E(t,n)},function(t){e(2,w=t),e(5,r),e(1,y),e(10,v),e(11,m),e(13,f),e(0,s),e(14,h),e(16,_),e(15,p),e(4,g),e(12,b)},function(t){e(1,y=t)},function(n){E(t,n)},function(t){e(2,w=t),e(5,r),e(1,y),e(10,v),e(11,m),e(13,f),e(0,s),e(14,h),e(16,_),e(15,p),e(4,g),e(12,b)},function(t){e(1,y=t)},function(n){E(t,n)}]}var Er=function(t){function n(n){t.call(this),Q(this,n,Sr,Ar,a,{annotation:0,dataToPx:13,pxToData:14,editorState:15,editMode:3,index:4,moveX:10,moveY:11,resizing:1,dragging:12,activeResizer:2,forceAnchorDragTemp:16,cm:17})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(tt);function Or(t){if(!t||"object"!=Ht(t))return t;try{return JSON.parse(JSON.stringify(t))}catch(n){return t}}var jr=X.document;function $r(t,n,e){var r=t.slice();return r[71]=n[e],r[73]=e,r}function Nr(t,n,e){var r=t.slice();return r[71]=n[e],r[73]=e,r}function zr(t){var n,e,r,o,i,a,u,c,l,s,f;function h(n){t[46](n)}function p(n){t[47](n)}function d(n){t[48](n)}function g(n){t[49](n)}function v(n){t[50](n)}function m(n){t[51](n)}function y(n){t[52](n)}function b(n){t[53](n)}function w(n){t[54](n)}var _={annotation:t[71],dataToPx:t[1],pxToData:t[2],theme:t[3],cm:t[4],mirrorX:t[7],visWidth:t[5],isMobileWidth:t[16],index:t[26].length-1-t[73],editMode:t[8],editorState:t[0],forceAnchorDragTemp:t[23],key:t[17][t[26].length-1-t[73]]};return void 0!==t[20]&&(_.noOffsetAtEventStart=t[20]),void 0!==t[25]&&(_.isEditable=t[25]),void 0!==t[12]&&(_.dragging=t[12]),void 0!==t[22]&&(_.forceAnchorDrag=t[22]),void 0!==t[21]&&(_.forceOffsetDrag=t[21]),void 0!==t[10]&&(_.moveX=t[10]),void 0!==t[11]&&(_.moveY=t[11]),void 0!==t[13]&&(_.resizing=t[13]),void 0!==t[24]&&(_.activeResizer=t[24]),n=new wr({props:_}),j.push((function(){return U(n,"noOffsetAtEventStart",h)})),j.push((function(){return U(n,"isEditable",p)})),j.push((function(){return U(n,"dragging",d)})),j.push((function(){return U(n,"forceAnchorDrag",g)})),j.push((function(){return U(n,"forceOffsetDrag",v)})),j.push((function(){return U(n,"moveX",m)})),j.push((function(){return U(n,"moveY",y)})),j.push((function(){return U(n,"resizing",b)})),j.push((function(){return U(n,"activeResizer",w)})),n.$on("selectAnnotation",t[29]),n.$on("updateEditorState",t[30]),n.$on("update",t[55]),{c:function(){V(n.$$.fragment)},m:function(t,e){Z(n,t,e),f=!0},p:function(t,f){var h={};67108864&f[0]&&(h.annotation=t[71]),2&f[0]&&(h.dataToPx=t[1]),4&f[0]&&(h.pxToData=t[2]),8&f[0]&&(h.theme=t[3]),16&f[0]&&(h.cm=t[4]),128&f[0]&&(h.mirrorX=t[7]),32&f[0]&&(h.visWidth=t[5]),65536&f[0]&&(h.isMobileWidth=t[16]),67108864&f[0]&&(h.index=t[26].length-1-t[73]),256&f[0]&&(h.editMode=t[8]),1&f[0]&&(h.editorState=t[0]),8388608&f[0]&&(h.forceAnchorDragTemp=t[23]),67239936&f[0]&&(h.key=t[17][t[26].length-1-t[73]]),!e&&1048576&f[0]&&(e=!0,h.noOffsetAtEventStart=t[20],D((function(){return e=!1}))),!r&&33554432&f[0]&&(r=!0,h.isEditable=t[25],D((function(){return r=!1}))),!o&&4096&f[0]&&(o=!0,h.dragging=t[12],D((function(){return o=!1}))),!i&&4194304&f[0]&&(i=!0,h.forceAnchorDrag=t[22],D((function(){return i=!1}))),!a&&2097152&f[0]&&(a=!0,h.forceOffsetDrag=t[21],D((function(){return a=!1}))),!u&&1024&f[0]&&(u=!0,h.moveX=t[10],D((function(){return u=!1}))),!c&&2048&f[0]&&(c=!0,h.moveY=t[11],D((function(){return c=!1}))),!l&&8192&f[0]&&(l=!0,h.resizing=t[13],D((function(){return l=!1}))),!s&&16777216&f[0]&&(s=!0,h.activeResizer=t[24],D((function(){return s=!1}))),n.$set(h)},i:function(t){f||(H(n.$$.fragment,t),f=!0)},o:function(t){G(n.$$.fragment,t),f=!1},d:function(t){K(n,t)}}}function Pr(t){var n,e,r,o,i,a,u;function c(n){t[57](n)}function l(n){t[58](n)}function s(n){t[59](n)}function f(n){t[60](n)}function h(n){t[61](n)}var p={cm:t[4],annotation:t[71],dataToPx:t[1],pxToData:t[2],visWidth:t[5],editMode:t[8],editorState:t[0],forceAnchorDragTemp:t[23],index:t[27].length-1-t[73]};return void 0!==t[12]&&(p.dragging=t[12]),void 0!==t[10]&&(p.moveX=t[10]),void 0!==t[11]&&(p.moveY=t[11]),void 0!==t[13]&&(p.resizing=t[13]),void 0!==t[24]&&(p.activeResizer=t[24]),n=new Er({props:p}),j.push((function(){return U(n,"dragging",c)})),j.push((function(){return U(n,"moveX",l)})),j.push((function(){return U(n,"moveY",s)})),j.push((function(){return U(n,"resizing",f)})),j.push((function(){return U(n,"activeResizer",h)})),n.$on("selectAnnotation",t[29]),{c:function(){V(n.$$.fragment)},m:function(t,e){Z(n,t,e),u=!0},p:function(t,u){var c={};16&u[0]&&(c.cm=t[4]),134217728&u[0]&&(c.annotation=t[71]),2&u[0]&&(c.dataToPx=t[1]),4&u[0]&&(c.pxToData=t[2]),32&u[0]&&(c.visWidth=t[5]),256&u[0]&&(c.editMode=t[8]),1&u[0]&&(c.editorState=t[0]),8388608&u[0]&&(c.forceAnchorDragTemp=t[23]),134217728&u[0]&&(c.index=t[27].length-1-t[73]),!e&&4096&u[0]&&(e=!0,c.dragging=t[12],D((function(){return e=!1}))),!r&&1024&u[0]&&(r=!0,c.moveX=t[10],D((function(){return r=!1}))),!o&&2048&u[0]&&(o=!0,c.moveY=t[11],D((function(){return o=!1}))),!i&&8192&u[0]&&(i=!0,c.resizing=t[13],D((function(){return i=!1}))),!a&&16777216&u[0]&&(a=!0,c.activeResizer=t[24],D((function(){return a=!1}))),n.$set(c)},i:function(t){u||(H(n.$$.fragment,t),u=!0)},o:function(t){G(n.$$.fragment,t),u=!1},d:function(t){K(n,t)}}}function Lr(t){var n,e,r;return{c:function(){y(n=f("div"),"class",e="create-rect "+t[0].createMode+" svelte-1mncyl"),y(n,"style",r=t[28]())},m:function(t,e){c(t,n,e)},p:function(t,o){1&o[0]&&e!==(e="create-rect "+t[0].createMode+" svelte-1mncyl")&&y(n,"class",e),268435456&o[0]&&r!==(r=t[28]())&&y(n,"style",r)},d:function(t){t&&l(n)}}}function Tr(t){var n,e,r,i,a,h,p,g,m;T(t[45]);for(var b=t[26],_=[],x=0;x<b.length;x+=1)_[x]=zr(Nr(t,b,x));for(var M=function(t){return G(_[t],1,1,(function(){_[t]=null}))},k=t[27],A=[],S=0;S<k.length;S+=1)A[S]=Pr($r(t,k,S));var E=function(t){return G(A[t],1,1,(function(){A[t]=null}))},O=t[8]&&t[14]&&Lr(t);return{c:function(){n=d(),e=f("div"),r=f("div");for(var o=0;o<_.length;o+=1)_[o].c();i=d(),a=f("div");for(var u=0;u<A.length;u+=1)A[u].c();h=d(),O&&O.c(),y(r,"class","text-annotations"),y(r,"aria-label",t[6]),y(r,"role","list"),y(a,"class","range-annotations svelte-1mncyl"),y(e,"class","annotations-inner svelte-1mncyl"),w(e,"editing",t[15]),w(e,"create-mode",t[0].createMode),w(e,"creating",t[14])},m:function(o,l){c(o,n,l),c(o,e,l),u(e,r);for(var s=0;s<_.length;s+=1)_[s].m(r,null);t[56](r),u(e,i),u(e,a);for(var f=0;f<A.length;f+=1)A[f].m(a,null);var d;u(e,h),O&&O.m(e,null),t[62](e),p=!0,g||(m=[v(window,"keydown",t[31]),v(window,"mousedown",t[32]),v(window,"mousemove",t[33]),v(window,"mouseup",t[34]),v(window,"resize",t[45]),v(jr.body,"mouseleave",t[35]),v(e,"mousedown",(d=t[36],function(t){return t.preventDefault(),d.call(this,t)}))],g=!0)},p:function(t,n){if(1743994303&n[0]){var o;for(b=t[26],o=0;o<b.length;o+=1){var i=Nr(t,b,o);_[o]?(_[o].p(i,n),H(_[o],1)):(_[o]=zr(i),_[o].c(),H(_[o],1),_[o].m(r,null))}for(I(),o=b.length;o<_.length;o+=1)M(o);Y()}if((!p||64&n[0])&&y(r,"aria-label",t[6]),696270135&n[0]){var u;for(k=t[27],u=0;u<k.length;u+=1){var c=$r(t,k,u);A[u]?(A[u].p(c,n),H(A[u],1)):(A[u]=Pr(c),A[u].c(),H(A[u],1),A[u].m(a,null))}for(I(),u=k.length;u<A.length;u+=1)E(u);Y()}t[8]&&t[14]?O?O.p(t,n):((O=Lr(t)).c(),O.m(e,null)):O&&(O.d(1),O=null),32768&n[0]&&w(e,"editing",t[15]),1&n[0]&&w(e,"create-mode",t[0].createMode),16384&n[0]&&w(e,"creating",t[14])},i:function(t){if(!p){for(var n=0;n<b.length;n+=1)H(_[n]);for(var e=0;e<k.length;e+=1)H(A[e]);p=!0}},o:function(t){_=_.filter(Boolean);for(var n=0;n<_.length;n+=1)G(_[n]);A=A.filter(Boolean);for(var e=0;e<A.length;e+=1)G(A[e]);p=!1},d:function(r){r&&l(n),r&&l(e),s(_,r),t[56](null),s(A,r),O&&O.d(),t[62](null),g=!1,o(m)}}}function Dr(t,n,e){var r,o,i,a,u,c,l,s=n.textAnnotations;void 0===s&&(s=[]);var f=n.rangeAnnotations;void 0===f&&(f=[]);var h=n.dataToPx,p=n.pxToData,d=n.theme,g=n.cm;void 0===g&&(g=function(t){return t});var v=n.visWidth,m=n.annotationKeysSel,y=n.ariaLabel;void 0===y&&(y="");var b=n.rtl;void 0===b&&(b=!1);var w,_,x=n.mirrorX;void 0===x&&(x=!1);var M=n.editMode;void 0===M&&(M=!1);var O,$=n.editorState;void 0===$&&($={defaults:{},selectedTextAnnotations:[],selectedRangeAnnotations:[],createMode:!1,hideConnectorLine:!1,forceOffsetDrag:!1,pxToData:null,selectedAnnotationProps:{x:null,y:null,width:null,height:null,mobileFallback:!1}}),A((function(){$&&O&&(e(0,$.width=O.offsetWidth,$),e(0,$.height=O.offsetHeight,$))}));var N,z,P,L,T,D=0,C=0,R=!1,B=!1,q=!1,F=0,W=0,I=!1,Y=!1;function H(){e(20,N=!1),e(21,z=!1),e(22,P=!1),e(23,L=!1),e(0,$.forceOffsetDrag=!1,$),e(12,R=!1),B=!1,e(13,q=!1)}function G(){e(10,D=0),e(11,C=0),e(41,F=0),e(42,W=0),e(14,I=!1),e(0,$.createMode=!1,$)}var X,U=S();X=function(){M&&U("update")},k().$$.before_update.push(X);var V=!1,Z=document.querySelector(".dw-chart-body");return t.$$set=function(t){"textAnnotations"in t&&e(37,s=t.textAnnotations),"rangeAnnotations"in t&&e(38,f=t.rangeAnnotations),"dataToPx"in t&&e(1,h=t.dataToPx),"pxToData"in t&&e(2,p=t.pxToData),"theme"in t&&e(3,d=t.theme),"cm"in t&&e(4,g=t.cm),"visWidth"in t&&e(5,v=t.visWidth),"annotationKeysSel"in t&&e(39,m=t.annotationKeysSel),"ariaLabel"in t&&e(6,y=t.ariaLabel),"rtl"in t&&e(40,b=t.rtl),"mirrorX"in t&&e(7,x=t.mirrorX),"editMode"in t&&e(8,M=t.editMode),"editorState"in t&&e(0,$=t.editorState)},t.$$.update=function(){if(64&t.$$.dirty[1]&&e(26,r=[].concat(s).reverse()),128&t.$$.dirty[1]&&e(27,o=[].concat(f).reverse()),512&t.$$.dirty[0]&&e(16,i=w<=450),8&t.$$.dirty[0]&&e(43,a=er(d).fallbackBaseColor),65536&t.$$.dirty[0]|64&t.$$.dirty[1]&&e(44,u=function(){var t=0;return s.map((function(n){var e=i&&n.mobileFallback&&!Ge(n)&&!Xe(n);return e&&t++,{render:e,num:e?t:null}}))}),8192&t.$$.dirty[1]&&e(17,c=u()),196608&t.$$.dirty[0]|4928&t.$$.dirty[1]&&(m.classed("hide",!0).html(""),m.classed("dir-rtl",b),i)){var n=!1;s.forEach((function(t,e){var r=c[e];r.render&&(n=!0,m.append("div.key").html('<div  style="border: 1px solid '+a+'" class="num dw-circle dw-bold"><span class="export-text">'+r.num+'</span></div><span class="text export-text">'+tr(t.text)+"</span>"))})),m.classed("hide",!n)}5&t.$$.dirty[0]&&$&&e(0,$.pxToData=p,$),3&t.$$.dirty[0]&&$&&e(0,$.dataToPx=h,$),3073&t.$$.dirty[0]|3072&t.$$.dirty[1]&&e(28,l=function(){var t=[];if("text"===$.createMode){if(Math.abs(D)<1)return;return t.push("top: "+(C>0?W:W+C)+"px"),t.push("height: "+(C>0?C:-C)+"px"),t.push("left: "+(D>0?F:F+D)+"px"),t.push("width: "+(D>0?D:-D)+"px"),t.join("; ")}if("range"===$.createMode){if(Math.abs(D)<1&&Math.abs(C)<1)return;Math.abs(C)>Math.abs(D)?(t.push("top: "+(C<0?W+C:W)+"px"),t.push("left: 0px"),t.push("width: 100%"),t.push("height: "+Math.abs(C)+"px")):(t.push("top: 0px"),t.push("left: "+(D<0?F+D:F)+"px"),t.push("height: 100%"),t.push("width: "+Math.abs(D)+"px"))}return t.join("; ")}),61440&t.$$.dirty[0]&&(e(15,V=R||q||I),Z&&(V?Z.classList.add("editing-annotations"):Z.classList.remove("editing-annotations")))},[$,h,p,d,g,v,y,x,M,w,D,C,R,q,I,V,i,c,_,O,N,z,P,L,T,Y,r,o,l,function(t){if(null===t.detail)return e(0,$.selectedTextAnnotations=[],$),e(0,$.selectedRangeAnnotations=[],$),void e(25,Y=!1);if("text"===t.detail.type){var n=$.selectedTextAnnotations,r=n.length>1;(n[0]!==t.detail.index||r)&&(e(25,Y=!1),e(0,$.selectedTextAnnotations=[t.detail.index],$),e(0,$.selectedRangeAnnotations=[],$))}else e(0,$.selectedRangeAnnotations=[t.detail.index],$),e(0,$.selectedTextAnnotations=[],$)},function(t){var n=Object.entries(t.detail)[0],r=n[0],o=n[1];e(0,$[r]=o,$)},function(t){M&&"Escape"===t.key&&I&&G()},function(){M&&(e(0,$.selectedTextAnnotations=[],$),e(0,$.selectedRangeAnnotations=[],$))},function(t){M&&((R||I||q&&["l","r"].includes(T))&&(e(10,D+=t.movementX),t.movementX&&(e(25,Y=!1),B=!0)),(R||I||q&&["t","b"].includes(T))&&(e(11,C+=t.movementY),t.movementY&&(e(25,Y=!1),B=!0)),e(23,L=!1),t.ctrlKey&&!N&&e(23,L=!0))},function(t){M&&(B||e(25,Y=t.target.classList.contains("text-edit")||t.target.parentNode.classList&&t.target.parentNode.classList.contains("text-edit")),H(),I&&(function(){if("text"===$.createMode){var t=p(F,W),n=t[0],r=t[1],o=function(t,n){var e=t*(x?-1:1)<0,r=n<0;return e&&r?"br":e&&!r?"tr":!e&&r?"bl":"tl"}(D,C),a=Math.abs(D/v*100),u=Object.assign({},Or($.defaults.text),{x:n,y:r,align:o,width:a});Math.abs(D)<10&&Math.abs(C)<10&&(u.width=25,u.align="mc",u.dy=W<100?50:-50,u.connectorLine.enabled=!0),i&&(u.mobileFallback=!1),s.unshift(u),e(37,s)}else if("range"===$.createMode){var c=p(F,W),l=c[0],h=c[1],d=p(F+D,W+C),g=d[0],m=d[1],y=Math.abs(D)>Math.abs(C)?"x":"y",b="range";("x"===y&&Math.abs(D)<10||"y"===y&&Math.abs(C)<10)&&(b="line");var w=Object.assign({},Or($.defaults[b]),{type:y,display:b,x0:l,x1:g,y0:h,y1:m});f.unshift(w),e(38,f)}}(),function(){if("text"===$.createMode){if(e(0,$.selectedTextAnnotations=[0],$),e(0,$.selectedRangeAnnotations=[],$),u()[0].render)return;e(25,Y=!0),setTimeout((function(){var t=s.length-1,n=_.querySelectorAll(".text-annotation")[t].querySelector(".text-edit");n.focus(),function(t){var n=document.createRange();n.selectNodeContents(t);var e=window.getSelection();e.removeAllRanges(),e.addRange(n)}(n)}))}"range"===$.createMode&&(e(0,$.selectedTextAnnotations=[],$),e(0,$.selectedRangeAnnotations=[0],$))}(),G()))},function(){M&&(R||q)&&H()},function(t){M&&$.createMode&&(e(14,I=!0),e(41,F=t.offsetX),e(42,W=t.offsetY))},s,f,m,b,F,W,a,u,function(){e(9,w=window.innerWidth)},function(t){e(20,N=t)},function(t){e(25,Y=t)},function(t){e(12,R=t)},function(t){e(22,P=t)},function(t){e(21,z=t)},function(t){e(10,D=t)},function(t){e(11,C=t)},function(t){e(13,q=t)},function(t){e(24,T=t)},function(n){E(t,n)},function(t){j[t?"unshift":"push"]((function(){e(18,_=t)}))},function(t){e(12,R=t)},function(t){e(10,D=t)},function(t){e(11,C=t)},function(t){e(13,q=t)},function(t){e(24,T=t)},function(t){j[t?"unshift":"push"]((function(){e(19,O=t)}))}]}return function(t){function n(n){t.call(this),Q(this,n,Dr,Tr,a,{textAnnotations:37,rangeAnnotations:38,dataToPx:1,pxToData:2,theme:3,cm:4,visWidth:5,annotationKeysSel:39,ariaLabel:6,rtl:40,mirrorX:7,editMode:8,editorState:0},[-1,-1,-1])}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(tt)}()}));bt.prototype.translate=bo,bt.prototype.append=_o,bt.prototype.insert=Mo,bt.prototype.parent=ko,bt.prototype.selectAppend=Ao,bt.prototype.tspans=So,bt.prototype.appendMany=Eo,bt.prototype.at=jo,bt.prototype.st=No,bt.prototype.prop=bt.prototype.property;var zl=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,Pl=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,Ll="<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>";function Tl(t,n){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0&&t.indexOf(">")<0)return t;if(t=function(t,n){n=(((void 0!==n?n||"":Ll)+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var e=t,r=t;for(;;)if(r=(e=r).replace(Pl,"").replace(zl,(function(t,e){return n.indexOf("<"+e.toLowerCase()+">")>-1?t:""})),e===r)return r}(t,n),"undefined"==typeof document)return t;var e=document.createElement("div");e.innerHTML="<span>".concat(t,"</span>");for(var r=e.childNodes[0].querySelectorAll("*"),o=0;o<r.length;o++){if("a"===r[o].nodeName.toLowerCase()){"_self"!==r[o].getAttribute("target")&&r[o].setAttribute("target","_blank"),r[o].setAttribute("rel","nofollow noopener noreferrer");var i=(r[o].getAttribute("href")||"").toLowerCase().replace(/[^a-z0-9 -/:?=]/g,"").trim();(i.startsWith("javascript:")||i.startsWith("vbscript:")||i.startsWith("data:"))&&r[o].setAttribute("href","")}for(var a=[],u=0;u<r[o].attributes.length;u++){var c=r[o].attributes[u];c.specified&&"on"===c.name.substr(0,2)&&a.push(c.name)}a.forEach((function(t){return r[o].removeAttribute(t)}))}return e.childNodes[0].innerHTML}}function Dl(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700,e=!1,r=!0;return{set:function(o){e!==o&&setTimeout((function(){r=!1,t(e)}),r?n:0),e=o},clear:function(){e=null,r=!0,t(null)},get:function(){return e}}}var Cl=e((function(t,n){
/**
	   * chroma.js - JavaScript library for color conversions
	   *
	   * Copyright (c) 2011-2019, Gregor Aisch
	   * All rights reserved.
	   *
	   * Redistribution and use in source and binary forms, with or without
	   * modification, are permitted provided that the following conditions are met:
	   *
	   * 1. Redistributions of source code must retain the above copyright notice, this
	   * list of conditions and the following disclaimer.
	   *
	   * 2. Redistributions in binary form must reproduce the above copyright notice,
	   * this list of conditions and the following disclaimer in the documentation
	   * and/or other materials provided with the distribution.
	   *
	   * 3. The name Gregor Aisch may not be used to endorse or promote products
	   * derived from this software without specific prior written permission.
	   *
	   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
	   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
	   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
	   * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
	   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
	   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
	   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
	   * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
	   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
	   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	   *
	   * -------------------------------------------------------
	   *
	   * chroma.js includes colors from colorbrewer2.org, which are released under
	   * the following license:
	   *
	   * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
	   * and The Pennsylvania State University.
	   *
	   * Licensed under the Apache License, Version 2.0 (the "License");
	   * you may not use this file except in compliance with the License.
	   * You may obtain a copy of the License at
	   * http://www.apache.org/licenses/LICENSE-2.0
	   *
	   * Unless required by applicable law or agreed to in writing,
	   * software distributed under the License is distributed on an
	   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	   * either express or implied. See the License for the specific
	   * language governing permissions and limitations under the License.
	   *
	   * ------------------------------------------------------
	   *
	   * Named colors are taken from X11 Color Names.
	   * http://www.w3.org/TR/css3-color/#svg-color
	   *
	   * @preserve
	   */
t.exports=function(){for(var t=function(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=1),t<n?n:t>e?e:t},n=function(n){n._clipped=!1,n._unclipped=n.slice(0);for(var e=0;e<=3;e++)e<3?((n[e]<0||n[e]>255)&&(n._clipped=!0),n[e]=t(n[e],0,255)):3===e&&(n[e]=t(n[e],0,1));return n},e={},r=0,o=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<o.length;r+=1){var i=o[r];e["[object "+i+"]"]=i.toLowerCase()}var a=function(t){return e[Object.prototype.toString.call(t)]||"object"},u=function(t,n){return void 0===n&&(n=null),t.length>=3?Array.prototype.slice.call(t):"object"==a(t[0])&&n?n.split("").filter((function(n){return void 0!==t[0][n]})).map((function(n){return t[0][n]})):t[0]},c=function(t){if(t.length<2)return null;var n=t.length-1;return"string"==a(t[n])?t[n].toLowerCase():null},l=Math.PI,s={clip_rgb:n,limit:t,type:a,unpack:u,last:c,PI:l,TWOPI:2*l,PITHIRD:l/3,DEG2RAD:l/180,RAD2DEG:180/l},f={format:{},autodetect:[]},h=s.last,p=s.clip_rgb,d=s.type,g=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=this;if("object"===d(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=h(t),o=!1;if(!r){o=!0,f.sorted||(f.autodetect=f.autodetect.sort((function(t,n){return n.p-t.p})),f.sorted=!0);for(var i=0,a=f.autodetect;i<a.length;i+=1){var u=a[i];if(r=u.test.apply(u,t))break}}if(!f.format[r])throw new Error("unknown format: "+t);var c=f.format[r].apply(null,o?t:t.slice(0,-1));e._rgb=p(c),3===e._rgb.length&&e._rgb.push(1)};g.prototype.toString=function(){return"function"==d(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var v=g,m=function t(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return new(Function.prototype.bind.apply(t.Color,[null].concat(n)))};m.Color=v,m.version="2.1.2";var y=m,b=s.unpack,w=Math.max,_=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=b(t,"rgb"),r=e[0],o=e[1],i=e[2],a=1-w(r/=255,w(o/=255,i/=255)),u=a<1?1/(1-a):0;return[(1-r-a)*u,(1-o-a)*u,(1-i-a)*u,a]},x=s.unpack,M=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=(t=x(t,"cmyk"))[0],r=t[1],o=t[2],i=t[3],a=t.length>4?t[4]:1;return 1===i?[0,0,0,a]:[e>=1?0:255*(1-e)*(1-i),r>=1?0:255*(1-r)*(1-i),o>=1?0:255*(1-o)*(1-i),a]},k=s.unpack,A=s.type;v.prototype.cmyk=function(){return _(this._rgb)},y.cmyk=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(v,[null].concat(t,["cmyk"])))},f.format.cmyk=M,f.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=k(t,"cmyk"),"array"===A(t)&&4===t.length)return"cmyk"}});var S=s.unpack,E=s.last,O=function(t){return Math.round(100*t)/100},j=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=S(t,"hsla"),r=E(t)||"lsa";return e[0]=O(e[0]||0),e[1]=O(100*e[1])+"%",e[2]=O(100*e[2])+"%","hsla"===r||e.length>3&&e[3]<1?(e[3]=e.length>3?e[3]:1,r="hsla"):e.length=3,r+"("+e.join(",")+")"},$=s.unpack,N=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=(t=$(t,"rgba"))[0],r=t[1],o=t[2];e/=255,r/=255,o/=255;var i,a,u=Math.min(e,r,o),c=Math.max(e,r,o),l=(c+u)/2;return c===u?(i=0,a=Number.NaN):i=l<.5?(c-u)/(c+u):(c-u)/(2-c-u),e==c?a=(r-o)/(c-u):r==c?a=2+(o-e)/(c-u):o==c&&(a=4+(e-r)/(c-u)),(a*=60)<0&&(a+=360),t.length>3&&void 0!==t[3]?[a,i,l,t[3]]:[a,i,l]},z=s.unpack,P=s.last,L=Math.round,T=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=z(t,"rgba"),r=P(t)||"rgb";return"hsl"==r.substr(0,3)?j(N(e),r):(e[0]=L(e[0]),e[1]=L(e[1]),e[2]=L(e[2]),("rgba"===r||e.length>3&&e[3]<1)&&(e[3]=e.length>3?e[3]:1,r="rgba"),r+"("+e.slice(0,"rgb"===r?3:4).join(",")+")")},D=s.unpack,C=Math.round,R=function(){for(var t,n=[],e=arguments.length;e--;)n[e]=arguments[e];var r,o,i,a=(n=D(n,"hsl"))[0],u=n[1],c=n[2];if(0===u)r=o=i=255*c;else{var l=[0,0,0],s=[0,0,0],f=c<.5?c*(1+u):c+u-c*u,h=2*c-f,p=a/360;l[0]=p+1/3,l[1]=p,l[2]=p-1/3;for(var d=0;d<3;d++)l[d]<0&&(l[d]+=1),l[d]>1&&(l[d]-=1),6*l[d]<1?s[d]=h+6*(f-h)*l[d]:2*l[d]<1?s[d]=f:3*l[d]<2?s[d]=h+(f-h)*(2/3-l[d])*6:s[d]=h;r=(t=[C(255*s[0]),C(255*s[1]),C(255*s[2])])[0],o=t[1],i=t[2]}return n.length>3?[r,o,i,n[3]]:[r,o,i,1]},B=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,q=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,F=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,W=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,I=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Y=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,H=Math.round,G=function(t){var n;if(t=t.toLowerCase().trim(),f.format.named)try{return f.format.named(t)}catch(t){}if(n=t.match(B)){for(var e=n.slice(1,4),r=0;r<3;r++)e[r]=+e[r];return e[3]=1,e}if(n=t.match(q)){for(var o=n.slice(1,5),i=0;i<4;i++)o[i]=+o[i];return o}if(n=t.match(F)){for(var a=n.slice(1,4),u=0;u<3;u++)a[u]=H(2.55*a[u]);return a[3]=1,a}if(n=t.match(W)){for(var c=n.slice(1,5),l=0;l<3;l++)c[l]=H(2.55*c[l]);return c[3]=+c[3],c}if(n=t.match(I)){var s=n.slice(1,4);s[1]*=.01,s[2]*=.01;var h=R(s);return h[3]=1,h}if(n=t.match(Y)){var p=n.slice(1,4);p[1]*=.01,p[2]*=.01;var d=R(p);return d[3]=+n[4],d}};G.test=function(t){return B.test(t)||q.test(t)||F.test(t)||W.test(t)||I.test(t)||Y.test(t)};var X=G,U=s.type;v.prototype.css=function(t){return T(this._rgb,t)},y.css=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(v,[null].concat(t,["css"])))},f.format.css=X,f.autodetect.push({p:5,test:function(t){for(var n=[],e=arguments.length-1;e-- >0;)n[e]=arguments[e+1];if(!n.length&&"string"===U(t)&&X.test(t))return"css"}});var V=s.unpack;f.format.gl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=V(t,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e},y.gl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(v,[null].concat(t,["gl"])))},v.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var Z=s.unpack,K=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e,r=Z(t,"rgb"),o=r[0],i=r[1],a=r[2],u=Math.min(o,i,a),c=Math.max(o,i,a),l=c-u,s=100*l/255,f=u/(255-l)*100;return 0===l?e=Number.NaN:(o===c&&(e=(i-a)/l),i===c&&(e=2+(a-o)/l),a===c&&(e=4+(o-i)/l),(e*=60)<0&&(e+=360)),[e,s,f]},J=s.unpack,Q=Math.floor,tt=function(){for(var t,n,e,r,o,i,a=[],u=arguments.length;u--;)a[u]=arguments[u];var c,l,s,f=(a=J(a,"hcg"))[0],h=a[1],p=a[2];p*=255;var d=255*h;if(0===h)c=l=s=p;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var g=Q(f/=60),v=f-g,m=p*(1-h),y=m+d*(1-v),b=m+d*v,w=m+d;switch(g){case 0:c=(t=[w,b,m])[0],l=t[1],s=t[2];break;case 1:c=(n=[y,w,m])[0],l=n[1],s=n[2];break;case 2:c=(e=[m,w,b])[0],l=e[1],s=e[2];break;case 3:c=(r=[m,y,w])[0],l=r[1],s=r[2];break;case 4:c=(o=[b,m,w])[0],l=o[1],s=o[2];break;case 5:c=(i=[w,m,y])[0],l=i[1],s=i[2]}}return[c,l,s,a.length>3?a[3]:1]},nt=s.unpack,et=s.type;v.prototype.hcg=function(){return K(this._rgb)},y.hcg=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(v,[null].concat(t,["hcg"])))},f.format.hcg=tt,f.autodetect.push({p:1,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=nt(t,"hcg"),"array"===et(t)&&3===t.length)return"hcg"}});var rt=s.unpack,ot=s.last,it=Math.round,at=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=rt(t,"rgba"),r=e[0],o=e[1],i=e[2],a=e[3],u=ot(t)||"auto";void 0===a&&(a=1),"auto"===u&&(u=a<1?"rgba":"rgb");var c="000000"+((r=it(r))<<16|(o=it(o))<<8|(i=it(i))).toString(16);c=c.substr(c.length-6);var l="0"+it(255*a).toString(16);switch(l=l.substr(l.length-2),u.toLowerCase()){case"rgba":return"#"+c+l;case"argb":return"#"+l+c;default:return"#"+c}},ut=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ct=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,lt=function(t){if(t.match(ut)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n=parseInt(t,16);return[n>>16,n>>8&255,255&n,1]}if(t.match(ct)){5!==t.length&&9!==t.length||(t=t.substr(1)),4===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var e=parseInt(t,16);return[e>>24&255,e>>16&255,e>>8&255,Math.round((255&e)/255*100)/100]}throw new Error("unknown hex color: "+t)},st=s.type;v.prototype.hex=function(t){return at(this._rgb,t)},y.hex=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(v,[null].concat(t,["hex"])))},f.format.hex=lt,f.autodetect.push({p:4,test:function(t){for(var n=[],e=arguments.length-1;e-- >0;)n[e]=arguments[e+1];if(!n.length&&"string"===st(t)&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});var ft=s.unpack,ht=s.TWOPI,pt=Math.min,dt=Math.sqrt,gt=Math.acos,vt=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e,r=ft(t,"rgb"),o=r[0],i=r[1],a=r[2],u=pt(o/=255,i/=255,a/=255),c=(o+i+a)/3,l=c>0?1-u/c:0;return 0===l?e=NaN:(e=(o-i+(o-a))/2,e/=dt((o-i)*(o-i)+(o-a)*(i-a)),e=gt(e),a>i&&(e=ht-e),e/=ht),[360*e,l,c]},mt=s.unpack,yt=s.limit,bt=s.TWOPI,wt=s.PITHIRD,_t=Math.cos,xt=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e,r,o,i=(t=mt(t,"hsi"))[0],a=t[1],u=t[2];return isNaN(i)&&(i=0),isNaN(a)&&(a=0),i>360&&(i-=360),i<0&&(i+=360),(i/=360)<1/3?r=1-((o=(1-a)/3)+(e=(1+a*_t(bt*i)/_t(wt-bt*i))/3)):i<2/3?o=1-((e=(1-a)/3)+(r=(1+a*_t(bt*(i-=1/3))/_t(wt-bt*i))/3)):e=1-((r=(1-a)/3)+(o=(1+a*_t(bt*(i-=2/3))/_t(wt-bt*i))/3)),[255*(e=yt(u*e*3)),255*(r=yt(u*r*3)),255*(o=yt(u*o*3)),t.length>3?t[3]:1]},Mt=s.unpack,kt=s.type;v.prototype.hsi=function(){return vt(this._rgb)},y.hsi=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(v,[null].concat(t,["hsi"])))},f.format.hsi=xt,f.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Mt(t,"hsi"),"array"===kt(t)&&3===t.length)return"hsi"}});var At=s.unpack,St=s.type;v.prototype.hsl=function(){return N(this._rgb)},y.hsl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(v,[null].concat(t,["hsl"])))},f.format.hsl=R,f.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=At(t,"hsl"),"array"===St(t)&&3===t.length)return"hsl"}});var Et=s.unpack,Ot=Math.min,jt=Math.max,$t=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e,r,o,i=(t=Et(t,"rgb"))[0],a=t[1],u=t[2],c=Ot(i,a,u),l=jt(i,a,u),s=l-c;return o=l/255,0===l?(e=Number.NaN,r=0):(r=s/l,i===l&&(e=(a-u)/s),a===l&&(e=2+(u-i)/s),u===l&&(e=4+(i-a)/s),(e*=60)<0&&(e+=360)),[e,r,o]},Nt=s.unpack,zt=Math.floor,Pt=function(){for(var t,n,e,r,o,i,a=[],u=arguments.length;u--;)a[u]=arguments[u];var c,l,s,f=(a=Nt(a,"hsv"))[0],h=a[1],p=a[2];if(p*=255,0===h)c=l=s=p;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var d=zt(f/=60),g=f-d,v=p*(1-h),m=p*(1-h*g),y=p*(1-h*(1-g));switch(d){case 0:c=(t=[p,y,v])[0],l=t[1],s=t[2];break;case 1:c=(n=[m,p,v])[0],l=n[1],s=n[2];break;case 2:c=(e=[v,p,y])[0],l=e[1],s=e[2];break;case 3:c=(r=[v,m,p])[0],l=r[1],s=r[2];break;case 4:c=(o=[y,v,p])[0],l=o[1],s=o[2];break;case 5:c=(i=[p,v,m])[0],l=i[1],s=i[2]}}return[c,l,s,a.length>3?a[3]:1]},Lt=s.unpack,Tt=s.type;v.prototype.hsv=function(){return $t(this._rgb)},y.hsv=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(v,[null].concat(t,["hsv"])))},f.format.hsv=Pt,f.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Lt(t,"hsv"),"array"===Tt(t)&&3===t.length)return"hsv"}});var Dt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Ct=s.unpack,Rt=Math.pow,Bt=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=Ct(t,"rgb"),r=e[0],o=e[1],i=e[2],a=Wt(r,o,i),u=a[0],c=a[1],l=116*c-16;return[l<0?0:l,500*(u-c),200*(c-a[2])]},qt=function(t){return(t/=255)<=.04045?t/12.92:Rt((t+.055)/1.055,2.4)},Ft=function(t){return t>Dt.t3?Rt(t,1/3):t/Dt.t2+Dt.t0},Wt=function(t,n,e){return t=qt(t),n=qt(n),e=qt(e),[Ft((.4124564*t+.3575761*n+.1804375*e)/Dt.Xn),Ft((.2126729*t+.7151522*n+.072175*e)/Dt.Yn),Ft((.0193339*t+.119192*n+.9503041*e)/Dt.Zn)]},It=Bt,Yt=s.unpack,Ht=Math.pow,Gt=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e,r,o,i=(t=Yt(t,"lab"))[0],a=t[1],u=t[2];return r=(i+16)/116,e=isNaN(a)?r:r+a/500,o=isNaN(u)?r:r-u/200,r=Dt.Yn*Ut(r),e=Dt.Xn*Ut(e),o=Dt.Zn*Ut(o),[Xt(3.2404542*e-1.5371385*r-.4985314*o),Xt(-.969266*e+1.8760108*r+.041556*o),Xt(.0556434*e-.2040259*r+1.0572252*o),t.length>3?t[3]:1]},Xt=function(t){return 255*(t<=.00304?12.92*t:1.055*Ht(t,1/2.4)-.055)},Ut=function(t){return t>Dt.t1?t*t*t:Dt.t2*(t-Dt.t0)},Vt=Gt,Zt=s.unpack,Kt=s.type;v.prototype.lab=function(){return It(this._rgb)},y.lab=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(v,[null].concat(t,["lab"])))},f.format.lab=Vt,f.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=Zt(t,"lab"),"array"===Kt(t)&&3===t.length)return"lab"}});var Jt=s.unpack,Qt=s.RAD2DEG,tn=Math.sqrt,nn=Math.atan2,en=Math.round,rn=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=Jt(t,"lab"),r=e[0],o=e[1],i=e[2],a=tn(o*o+i*i),u=(nn(i,o)*Qt+360)%360;return 0===en(1e4*a)&&(u=Number.NaN),[r,a,u]},on=s.unpack,an=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=on(t,"rgb"),r=e[0],o=e[1],i=e[2],a=It(r,o,i),u=a[0],c=a[1],l=a[2];return rn(u,c,l)},un=s.unpack,cn=s.DEG2RAD,ln=Math.sin,sn=Math.cos,fn=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=un(t,"lch"),r=e[0],o=e[1],i=e[2];return isNaN(i)&&(i=0),[r,sn(i*=cn)*o,ln(i)*o]},hn=s.unpack,pn=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=(t=hn(t,"lch"))[0],r=t[1],o=t[2],i=fn(e,r,o),a=i[0],u=i[1],c=i[2],l=Vt(a,u,c);return[l[0],l[1],l[2],t.length>3?t[3]:1]},dn=s.unpack,gn=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=dn(t,"hcl").reverse();return pn.apply(void 0,e)},vn=s.unpack,mn=s.type;v.prototype.lch=function(){return an(this._rgb)},v.prototype.hcl=function(){return an(this._rgb).reverse()},y.lch=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(v,[null].concat(t,["lch"])))},y.hcl=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(v,[null].concat(t,["hcl"])))},f.format.lch=pn,f.format.hcl=gn,["lch","hcl"].forEach((function(t){return f.autodetect.push({p:2,test:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];if(n=vn(n,t),"array"===mn(n)&&3===n.length)return t}})}));var yn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},bn=s.type;v.prototype.name=function(){for(var t=at(this._rgb,"rgb"),n=0,e=Object.keys(yn);n<e.length;n+=1){var r=e[n];if(yn[r]===t)return r.toLowerCase()}return t},f.format.named=function(t){if(t=t.toLowerCase(),yn[t])return lt(yn[t]);throw new Error("unknown color name: "+t)},f.autodetect.push({p:5,test:function(t){for(var n=[],e=arguments.length-1;e-- >0;)n[e]=arguments[e+1];if(!n.length&&"string"===bn(t)&&yn[t.toLowerCase()])return"named"}});var wn=s.unpack,_n=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=wn(t,"rgb");return(e[0]<<16)+(e[1]<<8)+e[2]},xn=s.type,Mn=function(t){if("number"==xn(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},kn=s.type;v.prototype.num=function(){return _n(this._rgb)},y.num=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(v,[null].concat(t,["num"])))},f.format.num=Mn,f.autodetect.push({p:5,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(1===t.length&&"number"===kn(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var An=s.unpack,Sn=s.type,En=Math.round;v.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(En)},v.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map((function(n,e){return e<3?!1===t?n:En(n):n}))},y.rgb=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(v,[null].concat(t,["rgb"])))},f.format.rgb=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var e=An(t,"rgba");return void 0===e[3]&&(e[3]=1),e},f.autodetect.push({p:3,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=An(t,"rgba"),"array"===Sn(t)&&(3===t.length||4===t.length&&"number"==Sn(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var On=Math.log,jn=function(t){var n,e,r,o=t/100;return o<66?(n=255,e=-155.25485562709179-.44596950469579133*(e=o-2)+104.49216199393888*On(e),r=o<20?0:.8274096064007395*(r=o-10)-254.76935184120902+115.67994401066147*On(r)):(n=351.97690566805693+.114206453784165*(n=o-55)-40.25366309332127*On(n),e=325.4494125711974+.07943456536662342*(e=o-50)-28.0852963507957*On(e),r=255),[n,e,r,1]},$n=s.unpack,Nn=Math.round,zn=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var e,r=$n(t,"rgb"),o=r[0],i=r[2],a=1e3,u=4e4,c=.4;u-a>c;){var l=jn(e=.5*(u+a));l[2]/l[0]>=i/o?u=e:a=e}return Nn(e)};v.prototype.temp=v.prototype.kelvin=v.prototype.temperature=function(){return zn(this._rgb)},y.temp=y.kelvin=y.temperature=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return new(Function.prototype.bind.apply(v,[null].concat(t,["temp"])))},f.format.temp=f.format.kelvin=f.format.temperature=jn;var Pn=s.type;v.prototype.alpha=function(t,n){return void 0===n&&(n=!1),void 0!==t&&"number"===Pn(t)?n?(this._rgb[3]=t,this):new v([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},v.prototype.clipped=function(){return this._rgb._clipped||!1},v.prototype.darken=function(t){void 0===t&&(t=1);var n=this,e=n.lab();return e[0]-=Dt.Kn*t,new v(e,"lab").alpha(n.alpha(),!0)},v.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},v.prototype.darker=v.prototype.darken,v.prototype.brighter=v.prototype.brighten,v.prototype.get=function(t){var n=t.split("."),e=n[0],r=n[1],o=this[e]();if(r){var i=e.indexOf(r);if(i>-1)return o[i];throw new Error("unknown channel "+r+" in mode "+e)}return o};var Ln=s.type,Tn=Math.pow,Dn=1e-7,Cn=20;v.prototype.luminance=function(t){if(void 0!==t&&"number"===Ln(t)){if(0===t)return new v([0,0,0,this._rgb[3]],"rgb");if(1===t)return new v([255,255,255,this._rgb[3]],"rgb");var n=this.luminance(),e="rgb",r=Cn,o=function n(o,i){var a=o.interpolate(i,.5,e),u=a.luminance();return Math.abs(t-u)<Dn||!r--?a:u>t?n(o,a):n(a,i)},i=(n>t?o(new v([0,0,0]),this):o(this,new v([255,255,255]))).rgb();return new v(i.concat([this._rgb[3]]))}return Rn.apply(void 0,this._rgb.slice(0,3))};var Rn=function(t,n,e){return.2126*(t=Bn(t))+.7152*(n=Bn(n))+.0722*(e=Bn(e))},Bn=function(t){return(t/=255)<=.03928?t/12.92:Tn((t+.055)/1.055,2.4)},qn={},Fn=s.type,Wn=function(t,n,e){void 0===e&&(e=.5);for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var i=r[0]||"lrgb";if(qn[i]||r.length||(i=Object.keys(qn)[0]),!qn[i])throw new Error("interpolation mode "+i+" is not defined");return"object"!==Fn(t)&&(t=new v(t)),"object"!==Fn(n)&&(n=new v(n)),qn[i](t,n,e).alpha(t.alpha()+e*(n.alpha()-t.alpha()))};v.prototype.mix=v.prototype.interpolate=function(t,n){void 0===n&&(n=.5);for(var e=[],r=arguments.length-2;r-- >0;)e[r]=arguments[r+2];return Wn.apply(void 0,[this,t,n].concat(e))},v.prototype.premultiply=function(t){void 0===t&&(t=!1);var n=this._rgb,e=n[3];return t?(this._rgb=[n[0]*e,n[1]*e,n[2]*e,e],this):new v([n[0]*e,n[1]*e,n[2]*e,e],"rgb")},v.prototype.saturate=function(t){void 0===t&&(t=1);var n=this,e=n.lch();return e[1]+=Dt.Kn*t,e[1]<0&&(e[1]=0),new v(e,"lch").alpha(n.alpha(),!0)},v.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var In=s.type;v.prototype.set=function(t,n,e){void 0===e&&(e=!1);var r=t.split("."),o=r[0],i=r[1],a=this[o]();if(i){var u=o.indexOf(i);if(u>-1){if("string"==In(n))switch(n.charAt(0)){case"+":case"-":a[u]+=+n;break;case"*":a[u]*=+n.substr(1);break;case"/":a[u]/=+n.substr(1);break;default:a[u]=+n}else{if("number"!==In(n))throw new Error("unsupported value for Color.set");a[u]=n}var c=new v(a,o);return e?(this._rgb=c._rgb,this):c}throw new Error("unknown channel "+i+" in mode "+o)}return a};var Yn=function(t,n,e){var r=t._rgb,o=n._rgb;return new v(r[0]+e*(o[0]-r[0]),r[1]+e*(o[1]-r[1]),r[2]+e*(o[2]-r[2]),"rgb")};qn.rgb=Yn;var Hn=Math.sqrt,Gn=Math.pow,Xn=function(t,n,e){var r=t._rgb,o=r[0],i=r[1],a=r[2],u=n._rgb,c=u[0],l=u[1],s=u[2];return new v(Hn(Gn(o,2)*(1-e)+Gn(c,2)*e),Hn(Gn(i,2)*(1-e)+Gn(l,2)*e),Hn(Gn(a,2)*(1-e)+Gn(s,2)*e),"rgb")};qn.lrgb=Xn;var Un=function(t,n,e){var r=t.lab(),o=n.lab();return new v(r[0]+e*(o[0]-r[0]),r[1]+e*(o[1]-r[1]),r[2]+e*(o[2]-r[2]),"lab")};qn.lab=Un;var Vn=function(t,n,e,r){var o,i,a,u,c,l,s,f,h,p,d,g;return"hsl"===r?(a=t.hsl(),u=n.hsl()):"hsv"===r?(a=t.hsv(),u=n.hsv()):"hcg"===r?(a=t.hcg(),u=n.hcg()):"hsi"===r?(a=t.hsi(),u=n.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",a=t.hcl(),u=n.hcl()),"h"===r.substr(0,1)&&(c=(o=a)[0],s=o[1],h=o[2],l=(i=u)[0],f=i[1],p=i[2]),isNaN(c)||isNaN(l)?isNaN(c)?isNaN(l)?g=Number.NaN:(g=l,1!=h&&0!=h||"hsv"==r||(d=f)):(g=c,1!=p&&0!=p||"hsv"==r||(d=s)):g=c+e*(l>c&&l-c>180?l-(c+360):l<c&&c-l>180?l+360-c:l-c),void 0===d&&(d=s+e*(f-s)),new v([g,d,h+e*(p-h)],r)},Zn=function(t,n,e){return Vn(t,n,e,"lch")};qn.lch=Zn,qn.hcl=Zn;var Kn=function(t,n,e){var r=t.num(),o=n.num();return new v(r+e*(o-r),"num")};qn.num=Kn;var Jn=function(t,n,e){return Vn(t,n,e,"hcg")};qn.hcg=Jn;var Qn=function(t,n,e){return Vn(t,n,e,"hsi")};qn.hsi=Qn;var te=function(t,n,e){return Vn(t,n,e,"hsl")};qn.hsl=te;var ne=function(t,n,e){return Vn(t,n,e,"hsv")};qn.hsv=ne;var ee=s.clip_rgb,re=Math.pow,oe=Math.sqrt,ie=Math.PI,ae=Math.cos,ue=Math.sin,ce=Math.atan2,le=function(t,n,e){void 0===n&&(n="lrgb"),void 0===e&&(e=null);var r=t.length;e||(e=Array.from(new Array(r)).map((function(){return 1})));var o=r/e.reduce((function(t,n){return t+n}));if(e.forEach((function(t,n){e[n]*=o})),t=t.map((function(t){return new v(t)})),"lrgb"===n)return se(t,e);for(var i=t.shift(),a=i.get(n),u=[],c=0,l=0,s=0;s<a.length;s++)if(a[s]=(a[s]||0)*e[0],u.push(isNaN(a[s])?0:e[0]),"h"===n.charAt(s)&&!isNaN(a[s])){var f=a[s]/180*ie;c+=ae(f)*e[0],l+=ue(f)*e[0]}var h=i.alpha()*e[0];t.forEach((function(t,r){var o=t.get(n);h+=t.alpha()*e[r+1];for(var i=0;i<a.length;i++)if(!isNaN(o[i]))if(u[i]+=e[r+1],"h"===n.charAt(i)){var s=o[i]/180*ie;c+=ae(s)*e[r+1],l+=ue(s)*e[r+1]}else a[i]+=o[i]*e[r+1]}));for(var p=0;p<a.length;p++)if("h"===n.charAt(p)){for(var d=ce(l/u[p],c/u[p])/ie*180;d<0;)d+=360;for(;d>=360;)d-=360;a[p]=d}else a[p]=a[p]/u[p];return h/=r,new v(a,n).alpha(h>.99999?1:h,!0)},se=function(t,n){for(var e=t.length,r=[0,0,0,0],o=0;o<t.length;o++){var i=t[o],a=n[o]/e,u=i._rgb;r[0]+=re(u[0],2)*a,r[1]+=re(u[1],2)*a,r[2]+=re(u[2],2)*a,r[3]+=u[3]*a}return r[0]=oe(r[0]),r[1]=oe(r[1]),r[2]=oe(r[2]),r[3]>.9999999&&(r[3]=1),new v(ee(r))},fe=s.type,he=Math.pow,pe=function(t){var n="rgb",e=y("#ccc"),r=0,o=[0,1],i=[],a=[0,0],u=!1,c=[],l=!1,s=0,f=1,h=!1,p={},d=!0,g=1,v=function(t){if((t=t||["#fff","#000"])&&"string"===fe(t)&&y.brewer&&y.brewer[t.toLowerCase()]&&(t=y.brewer[t.toLowerCase()]),"array"===fe(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var n=0;n<t.length;n++)t[n]=y(t[n]);i.length=0;for(var e=0;e<t.length;e++)i.push(e/(t.length-1))}return x(),c=t},m=function(t){if(null!=u){for(var n=u.length-1,e=0;e<n&&t>=u[e];)e++;return e-1}return 0},b=function(t){return t},w=function(t){return t},_=function(t,r){var o,l;if(null==r&&(r=!1),isNaN(t)||null===t)return e;l=r?t:u&&u.length>2?m(t)/(u.length-2):f!==s?(t-s)/(f-s):1,l=w(l),r||(l=b(l)),1!==g&&(l=he(l,g)),l=a[0]+l*(1-a[0]-a[1]),l=Math.min(1,Math.max(0,l));var h=Math.floor(1e4*l);if(d&&p[h])o=p[h];else{if("array"===fe(c))for(var v=0;v<i.length;v++){var _=i[v];if(l<=_){o=c[v];break}if(l>=_&&v===i.length-1){o=c[v];break}if(l>_&&l<i[v+1]){l=(l-_)/(i[v+1]-_),o=y.interpolate(c[v],c[v+1],l,n);break}}else"function"===fe(c)&&(o=c(l));d&&(p[h]=o)}return o},x=function(){return p={}};v(t);var M=function(t){var n=y(_(t));return l&&n[l]?n[l]():n};return M.classes=function(t){if(null!=t){if("array"===fe(t))u=t,o=[t[0],t[t.length-1]];else{var n=y.analyze(o);u=0===t?[n.min,n.max]:y.limits(n,"e",t)}return M}return u},M.domain=function(t){if(!arguments.length)return o;s=t[0],f=t[t.length-1],i=[];var n=c.length;if(t.length===n&&s!==f)for(var e=0,r=Array.from(t);e<r.length;e+=1){var a=r[e];i.push((a-s)/(f-s))}else{for(var u=0;u<n;u++)i.push(u/(n-1));if(t.length>2){var l=t.map((function(n,e){return e/(t.length-1)})),h=t.map((function(t){return(t-s)/(f-s)}));h.every((function(t,n){return l[n]===t}))||(w=function(t){if(t<=0||t>=1)return t;for(var n=0;t>=h[n+1];)n++;var e=(t-h[n])/(h[n+1]-h[n]);return l[n]+e*(l[n+1]-l[n])})}}return o=[s,f],M},M.mode=function(t){return arguments.length?(n=t,x(),M):n},M.range=function(t,n){return v(t),M},M.out=function(t){return l=t,M},M.spread=function(t){return arguments.length?(r=t,M):r},M.correctLightness=function(t){return null==t&&(t=!0),h=t,x(),b=h?function(t){for(var n=_(0,!0).lab()[0],e=_(1,!0).lab()[0],r=n>e,o=_(t,!0).lab()[0],i=n+(e-n)*t,a=o-i,u=0,c=1,l=20;Math.abs(a)>.01&&l-- >0;)r&&(a*=-1),a<0?(u=t,t+=.5*(c-t)):(c=t,t+=.5*(u-t)),o=_(t,!0).lab()[0],a=o-i;return t}:function(t){return t},M},M.padding=function(t){return null!=t?("number"===fe(t)&&(t=[t,t]),a=t,M):a},M.colors=function(n,e){arguments.length<2&&(e="hex");var r=[];if(0===arguments.length)r=c.slice(0);else if(1===n)r=[M(.5)];else if(n>1){var i=o[0],a=o[1]-i;r=de(0,n,!1).map((function(t){return M(i+t/(n-1)*a)}))}else{t=[];var l=[];if(u&&u.length>2)for(var s=1,f=u.length,h=1<=f;h?s<f:s>f;h?s++:s--)l.push(.5*(u[s-1]+u[s]));else l=o;r=l.map((function(t){return M(t)}))}return y[e]&&(r=r.map((function(t){return t[e]()}))),r},M.cache=function(t){return null!=t?(d=t,M):d},M.gamma=function(t){return null!=t?(g=t,M):g},M.nodata=function(t){return null!=t?(e=y(t),M):e},M};function de(t,n,e){for(var r=[],o=t<n,i=e?o?n+1:n-1:n,a=t;o?a<i:a>i;o?a++:a--)r.push(a);return r}var ge=function t(n){var e,r,o,i,a,u,c;if(2===(n=n.map((function(t){return new v(t)}))).length)e=n.map((function(t){return t.lab()})),a=e[0],u=e[1],i=function(t){var n=[0,1,2].map((function(n){return a[n]+t*(u[n]-a[n])}));return new v(n,"lab")};else if(3===n.length)r=n.map((function(t){return t.lab()})),a=r[0],u=r[1],c=r[2],i=function(t){var n=[0,1,2].map((function(n){return(1-t)*(1-t)*a[n]+2*(1-t)*t*u[n]+t*t*c[n]}));return new v(n,"lab")};else if(4===n.length){var l;o=n.map((function(t){return t.lab()})),a=o[0],u=o[1],c=o[2],l=o[3],i=function(t){var n=[0,1,2].map((function(n){return(1-t)*(1-t)*(1-t)*a[n]+3*(1-t)*(1-t)*t*u[n]+3*(1-t)*t*t*c[n]+t*t*t*l[n]}));return new v(n,"lab")}}else if(5===n.length){var s=t(n.slice(0,3)),f=t(n.slice(2,5));i=function(t){return t<.5?s(2*t):f(2*(t-.5))}}return i},ve=function(t){var n=ge(t);return n.scale=function(){return pe(n)},n},me=function t(n,e,r){if(!t[r])throw new Error("unknown blend mode "+r);return t[r](n,e)},ye=function(t){return function(n,e){var r=y(e).rgb(),o=y(n).rgb();return y.rgb(t(r,o))}},be=function(t){return function(n,e){var r=[];return r[0]=t(n[0],e[0]),r[1]=t(n[1],e[1]),r[2]=t(n[2],e[2]),r}},we=function(t){return t},_e=function(t,n){return t*n/255},xe=function(t,n){return t>n?n:t},Me=function(t,n){return t>n?t:n},ke=function(t,n){return 255*(1-(1-t/255)*(1-n/255))},Ae=function(t,n){return n<128?2*t*n/255:255*(1-2*(1-t/255)*(1-n/255))},Se=function(t,n){return 255*(1-(1-n/255)/(t/255))},Ee=function(t,n){return 255===t||(t=n/255*255/(1-t/255))>255?255:t};me.normal=ye(be(we)),me.multiply=ye(be(_e)),me.screen=ye(be(ke)),me.overlay=ye(be(Ae)),me.darken=ye(be(xe)),me.lighten=ye(be(Me)),me.dodge=ye(be(Ee)),me.burn=ye(be(Se));for(var Oe=me,je=s.type,$e=s.clip_rgb,Ne=s.TWOPI,ze=Math.pow,Pe=Math.sin,Le=Math.cos,Te=function(t,n,e,r,o){void 0===t&&(t=300),void 0===n&&(n=-1.5),void 0===e&&(e=1),void 0===r&&(r=1),void 0===o&&(o=[0,1]);var i,a=0;"array"===je(o)?i=o[1]-o[0]:(i=0,o=[o,o]);var u=function(u){var c=Ne*((t+120)/360+n*u),l=ze(o[0]+i*u,r),s=(0!==a?e[0]+u*a:e)*l*(1-l)/2,f=Le(c),h=Pe(c);return y($e([255*(l+s*(-.14861*f+1.78277*h)),255*(l+s*(-.29227*f-.90649*h)),255*(l+s*(1.97294*f)),1]))};return u.start=function(n){return null==n?t:(t=n,u)},u.rotations=function(t){return null==t?n:(n=t,u)},u.gamma=function(t){return null==t?r:(r=t,u)},u.hue=function(t){return null==t?e:("array"===je(e=t)?0==(a=e[1]-e[0])&&(e=e[1]):a=0,u)},u.lightness=function(t){return null==t?o:("array"===je(t)?(o=t,i=t[1]-t[0]):(o=[t,t],i=0),u)},u.scale=function(){return y.scale(u)},u.hue(e),u},De="0123456789abcdef",Ce=Math.floor,Re=Math.random,Be=function(){for(var t="#",n=0;n<6;n++)t+=De.charAt(Ce(16*Re()));return new v(t,"hex")},qe=Math.log,Fe=Math.pow,We=Math.floor,Ie=Math.abs,Ye=function(t,n){void 0===n&&(n=null);var e={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===a(t)&&(t=Object.values(t)),t.forEach((function(t){n&&"object"===a(t)&&(t=t[n]),null==t||isNaN(t)||(e.values.push(t),e.sum+=t,t<e.min&&(e.min=t),t>e.max&&(e.max=t),e.count+=1)})),e.domain=[e.min,e.max],e.limits=function(t,n){return He(e,t,n)},e},He=function(t,n,e){void 0===n&&(n="equal"),void 0===e&&(e=7),"array"==a(t)&&(t=Ye(t));var r=t.min,o=t.max,i=t.values.sort((function(t,n){return t-n}));if(1===e)return[r,o];var u=[];if("c"===n.substr(0,1)&&(u.push(r),u.push(o)),"e"===n.substr(0,1)){u.push(r);for(var c=1;c<e;c++)u.push(r+c/e*(o-r));u.push(o)}else if("l"===n.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*qe(r),s=Math.LOG10E*qe(o);u.push(r);for(var f=1;f<e;f++)u.push(Fe(10,l+f/e*(s-l)));u.push(o)}else if("q"===n.substr(0,1)){u.push(r);for(var h=1;h<e;h++){var p=(i.length-1)*h/e,d=We(p);if(d===p)u.push(i[d]);else{var g=p-d;u.push(i[d]*(1-g)+i[d+1]*g)}}u.push(o)}else if("k"===n.substr(0,1)){var v,m=i.length,y=new Array(m),b=new Array(e),w=!0,_=0,x=null;(x=[]).push(r);for(var M=1;M<e;M++)x.push(r+M/e*(o-r));for(x.push(o);w;){for(var k=0;k<e;k++)b[k]=0;for(var A=0;A<m;A++)for(var S=i[A],E=Number.MAX_VALUE,O=void 0,j=0;j<e;j++){var $=Ie(x[j]-S);$<E&&(E=$,O=j),b[O]++,y[A]=O}for(var N=new Array(e),z=0;z<e;z++)N[z]=null;for(var P=0;P<m;P++)null===N[v=y[P]]?N[v]=i[P]:N[v]+=i[P];for(var L=0;L<e;L++)N[L]*=1/b[L];w=!1;for(var T=0;T<e;T++)if(N[T]!==x[T]){w=!0;break}x=N,++_>200&&(w=!1)}for(var D={},C=0;C<e;C++)D[C]=[];for(var R=0;R<m;R++)D[v=y[R]].push(i[R]);for(var B=[],q=0;q<e;q++)B.push(D[q][0]),B.push(D[q][D[q].length-1]);B=B.sort((function(t,n){return t-n})),u.push(B[0]);for(var F=1;F<B.length;F+=2){var W=B[F];isNaN(W)||-1!==u.indexOf(W)||u.push(W)}}return u},Ge={analyze:Ye,limits:He},Xe=function(t,n){t=new v(t),n=new v(n);var e=t.luminance(),r=n.luminance();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},Ue=Math.sqrt,Ve=Math.atan2,Ze=Math.abs,Ke=Math.cos,Je=Math.PI,Qe=function(t,n,e,r){void 0===e&&(e=1),void 0===r&&(r=1),t=new v(t),n=new v(n);for(var o=Array.from(t.lab()),i=o[0],a=o[1],u=o[2],c=Array.from(n.lab()),l=c[0],s=c[1],f=c[2],h=Ue(a*a+u*u),p=Ue(s*s+f*f),d=i<16?.511:.040975*i/(1+.01765*i),g=.0638*h/(1+.0131*h)+.638,m=h<1e-6?0:180*Ve(u,a)/Je;m<0;)m+=360;for(;m>=360;)m-=360;var y=m>=164&&m<=345?.56+Ze(.2*Ke(Je*(m+168)/180)):.36+Ze(.4*Ke(Je*(m+35)/180)),b=h*h*h*h,w=Ue(b/(b+1900)),_=g*(w*y+1-w),x=h-p,M=a-s,k=u-f,A=(i-l)/(e*d),S=x/(r*g);return Ue(A*A+S*S+(M*M+k*k-x*x)/(_*_))},tr=function(t,n,e){void 0===e&&(e="lab"),t=new v(t),n=new v(n);var r=t.get(e),o=n.get(e),i=0;for(var a in r){var u=(r[a]||0)-(o[a]||0);i+=u*u}return Math.sqrt(i)},nr=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];try{return new(Function.prototype.bind.apply(v,[null].concat(t))),!0}catch(t){return!1}},er={cool:function(){return pe([y.hsl(180,1,.9),y.hsl(250,.7,.4)])},hot:function(){return pe(["#000","#f00","#ff0","#fff"]).mode("rgb")}},rr={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},or=0,ir=Object.keys(rr);or<ir.length;or+=1){var ar=ir[or];rr[ar.toLowerCase()]=rr[ar]}var ur=rr;return y.average=le,y.bezier=ve,y.blend=Oe,y.cubehelix=Te,y.mix=y.interpolate=Wn,y.random=Be,y.scale=pe,y.analyze=Ge.analyze,y.contrast=Xe,y.deltaE=Qe,y.distance=tr,y.limits=Ge.limits,y.valid=nr,y.scales=er,y.colors=yn,y.brewer=ur,y}()}));var Rl="1.13.1",Bl="object"==("undefined"==typeof self?"undefined":Ht(self))&&self.self===self&&self||"object"==("undefined"==typeof global?"undefined":Ht(global))&&global.global===global&&global||Function("return this")()||{},ql=Array.prototype,Fl=Object.prototype,Wl="undefined"!=typeof Symbol?Symbol.prototype:null,Il=ql.push,Yl=ql.slice,Hl=Fl.toString,Gl=Fl.hasOwnProperty,Xl="undefined"!=typeof ArrayBuffer,Ul="undefined"!=typeof DataView,Vl=Array.isArray,Zl=Object.keys,Kl=Object.create,Jl=Xl&&ArrayBuffer.isView,Ql=isNaN,ts=isFinite,ns=!{toString:null}.propertyIsEnumerable("toString"),es=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],rs=Math.pow(2,53)-1;function os(t,n){return n=null==n?t.length-1:+n,function(){for(var e=Math.max(arguments.length-n,0),r=Array(e),o=0;o<e;o++)r[o]=arguments[o+n];switch(n){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var i=Array(n+1);for(o=0;o<n;o++)i[o]=arguments[o];return i[n]=r,t.apply(this,i)}}function is(t){var n=Ht(t);return"function"===n||"object"===n&&!!t}function as(t){return void 0===t}function us(t){return!0===t||!1===t||"[object Boolean]"===Hl.call(t)}function cs(t){var n="[object "+t+"]";return function(t){return Hl.call(t)===n}}var ls=cs("String"),ss=cs("Number"),fs=cs("Date"),hs=cs("RegExp"),ps=cs("Error"),ds=cs("Symbol"),gs=cs("ArrayBuffer"),vs=cs("Function"),ms=Bl.document&&Bl.document.childNodes;"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":Ht(Int8Array))&&"function"!=typeof ms&&(vs=function(t){return"function"==typeof t||!1});var ys=vs,bs=cs("Object"),ws=Ul&&bs(new DataView(new ArrayBuffer(8))),_s="undefined"!=typeof Map&&bs(new Map),xs=cs("DataView");var Ms=ws?function(t){return null!=t&&ys(t.getInt8)&&gs(t.buffer)}:xs,ks=Vl||cs("Array");function As(t,n){return null!=t&&Gl.call(t,n)}var Ss=cs("Arguments");!function(){Ss(arguments)||(Ss=function(t){return As(t,"callee")})}();var Es=Ss;function Os(t){return ss(t)&&Ql(t)}function js(t){return function(){return t}}function $s(t){return function(n){var e=t(n);return"number"==typeof e&&e>=0&&e<=rs}}function Ns(t){return function(n){return null==n?void 0:n[t]}}var zs=Ns("byteLength"),Ps=$s(zs),Ls=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var Ts=Xl?function(t){return Jl?Jl(t)&&!Ms(t):Ps(t)&&Ls.test(Hl.call(t))}:js(!1),Ds=Ns("length");function Cs(t,n){n=function(t){for(var n={},e=t.length,r=0;r<e;++r)n[t[r]]=!0;return{contains:function(t){return n[t]},push:function(e){return n[e]=!0,t.push(e)}}}(n);var e=es.length,r=t.constructor,o=ys(r)&&r.prototype||Fl,i="constructor";for(As(t,i)&&!n.contains(i)&&n.push(i);e--;)(i=es[e])in t&&t[i]!==o[i]&&!n.contains(i)&&n.push(i)}function Rs(t){if(!is(t))return[];if(Zl)return Zl(t);var n=[];for(var e in t)As(t,e)&&n.push(e);return ns&&Cs(t,n),n}function Bs(t){if(null==t)return!0;var n=Ds(t);return"number"==typeof n&&(ks(t)||ls(t)||Es(t))?0===n:0===Ds(Rs(t))}function qs(t,n){var e=Rs(n),r=e.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var a=e[i];if(n[a]!==o[a]||!(a in o))return!1}return!0}function Fs(t){return t instanceof Fs?t:this instanceof Fs?void(this._wrapped=t):new Fs(t)}function Ws(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,zs(t))}Fs.VERSION=Rl,Fs.prototype.value=function(){return this._wrapped},Fs.prototype.valueOf=Fs.prototype.toJSON=Fs.prototype.value,Fs.prototype.toString=function(){return String(this._wrapped)};var Is="[object DataView]";function Ys(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var o=Ht(t);return("function"===o||"object"===o||"object"==Ht(n))&&Hs(t,n,e,r)}function Hs(t,n,e,r){t instanceof Fs&&(t=t._wrapped),n instanceof Fs&&(n=n._wrapped);var o=Hl.call(t);if(o!==Hl.call(n))return!1;if(ws&&"[object Object]"==o&&Ms(t)){if(!Ms(n))return!1;o=Is}switch(o){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return Wl.valueOf.call(t)===Wl.valueOf.call(n);case"[object ArrayBuffer]":case Is:return Hs(Ws(t),Ws(n),e,r)}var i="[object Array]"===o;if(!i&&Ts(t)){if(zs(t)!==zs(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;i=!0}if(!i){if("object"!=Ht(t)||"object"!=Ht(n))return!1;var a=t.constructor,u=n.constructor;if(a!==u&&!(ys(a)&&a instanceof a&&ys(u)&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}r=r||[];for(var c=(e=e||[]).length;c--;)if(e[c]===t)return r[c]===n;if(e.push(t),r.push(n),i){if((c=t.length)!==n.length)return!1;for(;c--;)if(!Ys(t[c],n[c],e,r))return!1}else{var l,s=Rs(t);if(c=s.length,Rs(n).length!==c)return!1;for(;c--;)if(!As(n,l=s[c])||!Ys(t[l],n[l],e,r))return!1}return e.pop(),r.pop(),!0}function Gs(t,n){return Ys(t,n)}function Xs(t){if(!is(t))return[];var n=[];for(var e in t)n.push(e);return ns&&Cs(t,n),n}function Us(t){var n=Ds(t);return function(e){if(null==e)return!1;var r=Xs(e);if(Ds(r))return!1;for(var o=0;o<n;o++)if(!ys(e[t[o]]))return!1;return t!==Qs||!ys(e[Vs])}}var Vs="forEach",Zs=["clear","delete"],Ks=["get","has","set"],Js=Zs.concat(Vs,Ks),Qs=Zs.concat(Ks),tf=["add"].concat(Zs,Vs,"has"),nf=_s?Us(Js):cs("Map"),ef=_s?Us(Qs):cs("WeakMap"),rf=_s?Us(tf):cs("Set"),of=cs("WeakSet");function af(t){for(var n=Rs(t),e=n.length,r=Array(e),o=0;o<e;o++)r[o]=t[n[o]];return r}function uf(t){for(var n={},e=Rs(t),r=0,o=e.length;r<o;r++)n[t[e[r]]]=e[r];return n}function cf(t){var n=[];for(var e in t)ys(t[e])&&n.push(e);return n.sort()}function lf(t,n){return function(e){var r=arguments.length;if(n&&(e=Object(e)),r<2||null==e)return e;for(var o=1;o<r;o++)for(var i=arguments[o],a=t(i),u=a.length,c=0;c<u;c++){var l=a[c];n&&void 0!==e[l]||(e[l]=i[l])}return e}}var sf=lf(Xs),ff=lf(Rs),hf=lf(Xs,!0);function pf(t){if(!is(t))return{};if(Kl)return Kl(t);var n=function(){};n.prototype=t;var e=new n;return n.prototype=null,e}function df(t){return is(t)?ks(t)?t.slice():sf({},t):t}function gf(t){return ks(t)?t:[t]}function vf(t){return Fs.toPath(t)}function mf(t,n){for(var e=n.length,r=0;r<e;r++){if(null==t)return;t=t[n[r]]}return e?t:void 0}function yf(t,n,e){var r=mf(t,vf(n));return as(r)?e:r}function bf(t){return t}function wf(t){return t=ff({},t),function(n){return qs(n,t)}}function _f(t){return t=vf(t),function(n){return mf(n,t)}}function xf(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,o){return t.call(n,e,r,o)};case 4:return function(e,r,o,i){return t.call(n,e,r,o,i)}}return function(){return t.apply(n,arguments)}}function Mf(t,n,e){return null==t?bf:ys(t)?xf(t,n,e):is(t)&&!ks(t)?wf(t):_f(t)}function kf(t,n){return Mf(t,n,1/0)}function Af(t,n,e){return Fs.iteratee!==kf?Fs.iteratee(t,n):Mf(t,n,e)}function Sf(){}function Ef(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))}Fs.toPath=gf,Fs.iteratee=kf;var Of=Date.now||function(){return(new Date).getTime()};function jf(t){var n=function(n){return t[n]},e="(?:"+Rs(t).join("|")+")",r=RegExp(e),o=RegExp(e,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,n):t}}var $f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Nf=jf($f),zf=jf(uf($f)),Pf=Fs.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Lf=/(.)^/,Tf={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Df=/\\|'|\r|\n|\u2028|\u2029/g;function Cf(t){return"\\"+Tf[t]}var Rf=/^\s*(\w|\$)+\s*$/;var Bf=0;function qf(t,n,e,r,o){if(!(r instanceof n))return t.apply(e,o);var i=pf(t.prototype),a=t.apply(i,o);return is(a)?a:i}var Ff=os((function(t,n){var e=Ff.placeholder;return function r(){for(var o=0,i=n.length,a=Array(i),u=0;u<i;u++)a[u]=n[u]===e?arguments[o++]:n[u];for(;o<arguments.length;)a.push(arguments[o++]);return qf(t,r,this,this,a)}}));Ff.placeholder=Fs;var Wf=os((function(t,n,e){if(!ys(t))throw new TypeError("Bind must be called on a function");var r=os((function(o){return qf(t,r,n,this,e.concat(o))}));return r})),If=$s(Ds);function Yf(t,n,e,r){if(r=r||[],n||0===n){if(n<=0)return r.concat(t)}else n=1/0;for(var o=r.length,i=0,a=Ds(t);i<a;i++){var u=t[i];if(If(u)&&(ks(u)||Es(u)))if(n>1)Yf(u,n-1,e,r),o=r.length;else for(var c=0,l=u.length;c<l;)r[o++]=u[c++];else e||(r[o++]=u)}return r}var Hf=os((function(t,n){var e=(n=Yf(n,!1,!1)).length;if(e<1)throw new Error("bindAll must be passed function names");for(;e--;){var r=n[e];t[r]=Wf(t[r],t)}return t}));var Gf=os((function(t,n,e){return setTimeout((function(){return t.apply(null,e)}),n)})),Xf=Ff(Gf,Fs,1);function Uf(t,n,e){var r,o,i,a,u,c=function c(){var l=Of()-o;n>l?r=setTimeout(c,n-l):(r=null,e||(a=t.apply(u,i)),r||(i=u=null))},l=os((function(l){return u=this,i=l,o=Of(),r||(r=setTimeout(c,n),e&&(a=t.apply(u,i))),a}));return l.cancel=function(){clearTimeout(r),r=i=u=null},l}function Vf(t){return function(){return!t.apply(this,arguments)}}function Zf(t,n){var e;return function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=null),e}}var Kf=Ff(Zf,2);function Jf(t,n,e){n=Af(n,e);for(var r,o=Rs(t),i=0,a=o.length;i<a;i++)if(n(t[r=o[i]],r,t))return r}function Qf(t){return function(n,e,r){e=Af(e,r);for(var o=Ds(n),i=t>0?0:o-1;i>=0&&i<o;i+=t)if(e(n[i],i,n))return i;return-1}}var th=Qf(1),nh=Qf(-1);function eh(t,n,e,r){for(var o=(e=Af(e,r,1))(n),i=0,a=Ds(t);i<a;){var u=Math.floor((i+a)/2);e(t[u])<o?i=u+1:a=u}return i}function rh(t,n,e){return function(r,o,i){var a=0,u=Ds(r);if("number"==typeof i)t>0?a=i>=0?i:Math.max(i+u,a):u=i>=0?Math.min(i+1,u):i+u+1;else if(e&&i&&u)return r[i=e(r,o)]===o?i:-1;if(o!=o)return(i=n(Yl.call(r,a,u),Os))>=0?i+a:-1;for(i=t>0?a:u-1;i>=0&&i<u;i+=t)if(r[i]===o)return i;return-1}}var oh=rh(1,th,eh),ih=rh(-1,nh);function ah(t,n,e){var r=(If(t)?th:Jf)(t,n,e);if(void 0!==r&&-1!==r)return t[r]}function uh(t,n,e){var r,o;if(n=xf(n,e),If(t))for(r=0,o=t.length;r<o;r++)n(t[r],r,t);else{var i=Rs(t);for(r=0,o=i.length;r<o;r++)n(t[i[r]],i[r],t)}return t}function ch(t,n,e){n=Af(n,e);for(var r=!If(t)&&Rs(t),o=(r||t).length,i=Array(o),a=0;a<o;a++){var u=r?r[a]:a;i[a]=n(t[u],u,t)}return i}function lh(t){var n=function(n,e,r,o){var i=!If(n)&&Rs(n),a=(i||n).length,u=t>0?0:a-1;for(o||(r=n[i?i[u]:u],u+=t);u>=0&&u<a;u+=t){var c=i?i[u]:u;r=e(r,n[c],c,n)}return r};return function(t,e,r,o){var i=arguments.length>=3;return n(t,xf(e,o,4),r,i)}}var sh=lh(1),fh=lh(-1);function hh(t,n,e){var r=[];return n=Af(n,e),uh(t,(function(t,e,o){n(t,e,o)&&r.push(t)})),r}function ph(t,n,e){n=Af(n,e);for(var r=!If(t)&&Rs(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(!n(t[a],a,t))return!1}return!0}function dh(t,n,e){n=Af(n,e);for(var r=!If(t)&&Rs(t),o=(r||t).length,i=0;i<o;i++){var a=r?r[i]:i;if(n(t[a],a,t))return!0}return!1}function gh(t,n,e,r){return If(t)||(t=af(t)),("number"!=typeof e||r)&&(e=0),oh(t,n,e)>=0}var vh=os((function(t,n,e){var r,o;return ys(n)?o=n:(n=vf(n),r=n.slice(0,-1),n=n[n.length-1]),ch(t,(function(t){var i=o;if(!i){if(r&&r.length&&(t=mf(t,r)),null==t)return;i=t[n]}return null==i?i:i.apply(t,e)}))}));function mh(t,n){return ch(t,_f(n))}function yh(t,n,e){var r,o,i=-1/0,a=-1/0;if(null==n||"number"==typeof n&&"object"!=Ht(t[0])&&null!=t)for(var u=0,c=(t=If(t)?t:af(t)).length;u<c;u++)null!=(r=t[u])&&r>i&&(i=r);else n=Af(n,e),uh(t,(function(t,e,r){((o=n(t,e,r))>a||o===-1/0&&i===-1/0)&&(i=t,a=o)}));return i}function bh(t,n,e){if(null==n||e)return If(t)||(t=af(t)),t[Ef(t.length-1)];var r=If(t)?df(t):af(t),o=Ds(r);n=Math.max(Math.min(n,o),0);for(var i=o-1,a=0;a<n;a++){var u=Ef(a,i),c=r[a];r[a]=r[u],r[u]=c}return r.slice(0,n)}function wh(t,n){return function(e,r,o){var i=n?[[],[]]:{};return r=Af(r,o),uh(e,(function(n,o){var a=r(n,o,e);t(i,n,a)})),i}}var _h=wh((function(t,n,e){As(t,e)?t[e].push(n):t[e]=[n]})),xh=wh((function(t,n,e){t[e]=n})),Mh=wh((function(t,n,e){As(t,e)?t[e]++:t[e]=1})),kh=wh((function(t,n,e){t[e?0:1].push(n)}),!0),Ah=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Sh(t,n,e){return n in e}var Eh=os((function(t,n){var e={},r=n[0];if(null==t)return e;ys(r)?(n.length>1&&(r=xf(r,n[1])),n=Xs(t)):(r=Sh,n=Yf(n,!1,!1),t=Object(t));for(var o=0,i=n.length;o<i;o++){var a=n[o],u=t[a];r(u,a,t)&&(e[a]=u)}return e})),Oh=os((function(t,n){var e,r=n[0];return ys(r)?(r=Vf(r),n.length>1&&(e=n[1])):(n=ch(Yf(n,!1,!1),String),r=function(t,e){return!gh(n,e)}),Eh(t,r,e)}));function jh(t,n,e){return Yl.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))}function $h(t,n,e){return null==t||t.length<1?null==n||e?void 0:[]:null==n||e?t[0]:jh(t,t.length-n)}function Nh(t,n,e){return Yl.call(t,null==n||e?1:n)}var zh=os((function(t,n){return n=Yf(n,!0,!0),hh(t,(function(t){return!gh(n,t)}))})),Ph=os((function(t,n){return zh(t,n)}));function Lh(t,n,e,r){us(n)||(r=e,e=n,n=!1),null!=e&&(e=Af(e,r));for(var o=[],i=[],a=0,u=Ds(t);a<u;a++){var c=t[a],l=e?e(c,a,t):c;n&&!e?(a&&i===l||o.push(c),i=l):e?gh(i,l)||(i.push(l),o.push(c)):gh(o,c)||o.push(c)}return o}var Th=os((function(t){return Lh(Yf(t,!0,!0))}));function Dh(t){for(var n=t&&yh(t,Ds).length||0,e=Array(n),r=0;r<n;r++)e[r]=mh(t,r);return e}var Ch=os(Dh);function Rh(t,n){return t._chain?Fs(n).chain():n}function Bh(t){return uh(cf(t),(function(n){var e=Fs[n]=t[n];Fs.prototype[n]=function(){var t=[this._wrapped];return Il.apply(t,arguments),Rh(this,e.apply(Fs,t))}})),Fs}uh(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var n=ql[t];Fs.prototype[t]=function(){var e=this._wrapped;return null!=e&&(n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0]),Rh(this,e)}})),uh(["concat","join","slice"],(function(t){var n=ql[t];Fs.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=n.apply(t,arguments)),Rh(this,t)}}));var qh=Bh(Object.freeze({__proto__:null,VERSION:Rl,restArguments:os,isObject:is,isNull:function(t){return null===t},isUndefined:as,isBoolean:us,isElement:function(t){return!(!t||1!==t.nodeType)},isString:ls,isNumber:ss,isDate:fs,isRegExp:hs,isError:ps,isSymbol:ds,isArrayBuffer:gs,isDataView:Ms,isArray:ks,isFunction:ys,isArguments:Es,isFinite:function(t){return!ds(t)&&ts(t)&&!isNaN(parseFloat(t))},isNaN:Os,isTypedArray:Ts,isEmpty:Bs,isMatch:qs,isEqual:Gs,isMap:nf,isWeakMap:ef,isSet:rf,isWeakSet:of,keys:Rs,allKeys:Xs,values:af,pairs:function(t){for(var n=Rs(t),e=n.length,r=Array(e),o=0;o<e;o++)r[o]=[n[o],t[n[o]]];return r},invert:uf,functions:cf,methods:cf,extend:sf,extendOwn:ff,assign:ff,defaults:hf,create:function(t,n){var e=pf(t);return n&&ff(e,n),e},clone:df,tap:function(t,n){return n(t),t},get:yf,has:function(t,n){for(var e=(n=vf(n)).length,r=0;r<e;r++){var o=n[r];if(!As(t,o))return!1;t=t[o]}return!!e},mapObject:function(t,n,e){n=Af(n,e);for(var r=Rs(t),o=r.length,i={},a=0;a<o;a++){var u=r[a];i[u]=n(t[u],u,t)}return i},identity:bf,constant:js,noop:Sf,toPath:gf,property:_f,propertyOf:function(t){return null==t?Sf:function(n){return yf(t,n)}},matcher:wf,matches:wf,times:function(t,n,e){var r=Array(Math.max(0,t));n=xf(n,e,1);for(var o=0;o<t;o++)r[o]=n(o);return r},random:Ef,now:Of,escape:Nf,unescape:zf,templateSettings:Pf,template:function(t,n,e){!n&&e&&(n=e),n=hf({},n,Fs.templateSettings);var r=RegExp([(n.escape||Lf).source,(n.interpolate||Lf).source,(n.evaluate||Lf).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(r,(function(n,e,r,a,u){return i+=t.slice(o,u).replace(Df,Cf),o=u+n.length,e?i+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),n})),i+="';\n";var a,u=n.variable;if(u){if(!Rf.test(u))throw new Error("variable is not a bare identifier: "+u)}else i="with(obj||{}){\n"+i+"}\n",u="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{a=new Function(u,"_",i)}catch(t){throw t.source=i,t}var c=function(t){return a.call(this,t,Fs)};return c.source="function("+u+"){\n"+i+"}",c},result:function(t,n,e){var r=(n=vf(n)).length;if(!r)return ys(e)?e.call(t):e;for(var o=0;o<r;o++){var i=null==t?void 0:t[n[o]];void 0===i&&(i=e,o=r),t=ys(i)?i.call(t):i}return t},uniqueId:function(t){var n=++Bf+"";return t?t+n:n},chain:function(t){var n=Fs(t);return n._chain=!0,n},iteratee:kf,partial:Ff,bind:Wf,bindAll:Hf,memoize:function(t,n){var e=function e(r){var o=e.cache,i=""+(n?n.apply(this,arguments):r);return As(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return e.cache={},e},delay:Gf,defer:Xf,throttle:function(t,n,e){var r,o,i,a,u=0;e||(e={});var c=function(){u=!1===e.leading?0:Of(),r=null,a=t.apply(o,i),r||(o=i=null)},l=function(){var l=Of();u||!1!==e.leading||(u=l);var s=n-(l-u);return o=this,i=arguments,s<=0||s>n?(r&&(clearTimeout(r),r=null),u=l,a=t.apply(o,i),r||(o=i=null)):r||!1===e.trailing||(r=setTimeout(c,s)),a};return l.cancel=function(){clearTimeout(r),u=0,r=o=i=null},l},debounce:Uf,wrap:function(t,n){return Ff(n,t)},negate:Vf,compose:function(){var t=arguments,n=t.length-1;return function(){for(var e=n,r=t[n].apply(this,arguments);e--;)r=t[e].call(this,r);return r}},after:function(t,n){return function(){if(--t<1)return n.apply(this,arguments)}},before:Zf,once:Kf,findKey:Jf,findIndex:th,findLastIndex:nh,sortedIndex:eh,indexOf:oh,lastIndexOf:ih,find:ah,detect:ah,findWhere:function(t,n){return ah(t,wf(n))},each:uh,forEach:uh,map:ch,collect:ch,reduce:sh,foldl:sh,inject:sh,reduceRight:fh,foldr:fh,filter:hh,select:hh,reject:function(t,n,e){return hh(t,Vf(Af(n)),e)},every:ph,all:ph,some:dh,any:dh,contains:gh,includes:gh,include:gh,invoke:vh,pluck:mh,where:function(t,n){return hh(t,wf(n))},max:yh,min:function(t,n,e){var r,o,i=1/0,a=1/0;if(null==n||"number"==typeof n&&"object"!=Ht(t[0])&&null!=t)for(var u=0,c=(t=If(t)?t:af(t)).length;u<c;u++)null!=(r=t[u])&&r<i&&(i=r);else n=Af(n,e),uh(t,(function(t,e,r){((o=n(t,e,r))<a||o===1/0&&i===1/0)&&(i=t,a=o)}));return i},shuffle:function(t){return bh(t,1/0)},sample:bh,sortBy:function(t,n,e){var r=0;return n=Af(n,e),mh(ch(t,(function(t,e,o){return{value:t,index:r++,criteria:n(t,e,o)}})).sort((function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return-1}return t.index-n.index})),"value")},groupBy:_h,indexBy:xh,countBy:Mh,partition:kh,toArray:function(t){return t?ks(t)?Yl.call(t):ls(t)?t.match(Ah):If(t)?ch(t,bf):af(t):[]},size:function(t){return null==t?0:If(t)?t.length:Rs(t).length},pick:Eh,omit:Oh,first:$h,head:$h,take:$h,initial:jh,last:function(t,n,e){return null==t||t.length<1?null==n||e?void 0:[]:null==n||e?t[t.length-1]:Nh(t,Math.max(0,t.length-n))},rest:Nh,tail:Nh,drop:Nh,compact:function(t){return hh(t,Boolean)},flatten:function(t,n){return Yf(t,n,!1)},without:Ph,uniq:Lh,unique:Lh,union:Th,intersection:function(t){for(var n=[],e=arguments.length,r=0,o=Ds(t);r<o;r++){var i=t[r];if(!gh(n,i)){var a;for(a=1;a<e&&gh(arguments[a],i);a++);a===e&&n.push(i)}}return n},difference:zh,unzip:Dh,transpose:Dh,zip:Ch,object:function(t,n){for(var e={},r=0,o=Ds(t);r<o;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e},range:function(t,n,e){null==n&&(n=t||0,t=0),e||(e=n<t?-1:1);for(var r=Math.max(Math.ceil((n-t)/e),0),o=Array(r),i=0;i<r;i++,t+=e)o[i]=t;return o},chunk:function(t,n){if(null==n||n<1)return[];for(var e=[],r=0,o=t.length;r<o;)e.push(Yl.call(t,r,r+=n));return e},mixin:Bh,default:Fs}));function Fh(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";return ss(t)?"".concat(t).concat(n):t}qh._=qh;var Wh={horizontal:90,vertical:0,"diagonal-up":135,"diagonal-down":45},Ih={right:"left",left:"right"};function Yh(t,n,e){var r,i=n.highlight,a=n.swatches,u=n.fontWeight,c=n.reverse,l=n.itemMarginBottom,f=n.itemMarginRight,h=n.swatchBorderRadius,p=n.swatchWidth,d=n.swatchHeight,g=n.swatchLabelDistance,v=n.useSwatchColorForText,m=n.backgroundColor,y=n.rtl;t.st(Oh({paddingTop:n.paddingTop,paddingBottom:n.paddingBottom,textAlign:y&&Ih[n.textAlign||"left"]||n.textAlign,width:n.width,height:n.height},(function(t){return null==t})));var b=t.append("div.legend-categories").st(Oh({color:n.color,fontFamily:n.fontFamily,fontSize:n.fontSize,fontWeight:u,letterSpacing:Fh(n.letterSpacing,"px"),lineHeight:Fh(n.lineHeight,"px"),textTransform:n.textTransform},(function(t){return null==t}))),w=Dl((function(t){null!==t?(i&&(b.classed("highlighted",!0),x.classed("highlight",(function(n){return n.key===t.key}))),e("mouseenter",t)):(i&&(b.classed("highlighted",!1),x.classed("highlight",!1)),e("mouseleave"))})),_=c?a.slice(0).reverse():a,x=b.appendMany("div.legend-swatch",_).attr("aria-hidden",!0).st(o({marginBottom:l},y?"marginLeft":"marginRight",f)).on("mouseenter",(function(t){return w.set(t)}));b.on("mouseleave",w.clear);var M=x.append("div.legend-no-break"),k="50%"===h?"dw-circle":"export-rect";M.filter((function(t){return!t.pattern})).append("div.legend-color.".concat(k)).st((o(r={width:function(t){return t.width||p},height:d},y?"marginLeft":"marginRight",g),o(r,"borderRadius",h),o(r,"background",(function(t){return t.color})),r));var A=M.filter((function(t){return!!t.pattern})).append("svg").attr("width",p).attr("height",d).style("vertical-align","middle").style("margin-".concat(y?"left":"right"),g+"px").style("border-radius",h);function S(t){return t.pattern.lineGap+t.pattern.strokeWidth}function E(t){var n=t.trim().indexOf(" "),e=t.trim().indexOf("-");return n<0&&e<0?t:e<0||n<e?t.substr(0,n):t.substr(0,e+1)}return A.append("defs").append("pattern").attr("id",(function(t,n){return"color-legend-fill-pattern-".concat(n)})).attr("patternTransform",(function(t){return"rotate(".concat(180-Wh[t.pattern.type]," 0 0)")})).attr("patternUnits","userSpaceOnUse").attr("height",(function(t){return S(t)})).attr("width",(function(t){return S(t)})).append("line").attr("x1",(function(t){return S(t)/2})).attr("y1",0).attr("x2",(function(t){return S(t)/2})).attr("y2",(function(t){return S(t)})).attr("stroke",(function(t){return t.color})).attr("stroke-width",(function(t){return t.pattern.strokeWidth})),A.append("rect").attr("width",p).attr("height",d).attr("fill",(function(t,n){return"url(#color-legend-fill-pattern-".concat(n,")")})),M.append("div.legend-label").html((function(t){return Tl(E(t.label))})),x.append("div.legend-label").html((function(t){return Tl((n=t.label,e=E(n),n.substr(e.length)));var n,e})),v&&b.selectAll(".legend-label").style("color",(function(t){return function(t,n,e){var r=Cl(t).lch(),o=s(r,3),i=o[0],a=o[1],u=o[2],c=Cl(n).lch()[0];if(Cl.contrast(t,n)>=e)return t;var l=Cl.contrast("#000000",n),f=Cl.contrast("#ffffff",n),h=c>i&&l>=e||c<=i&&f<e;return h?p(0,i,10):p(i,100,10);function p(t,r,o){var i=.5*(t+r),c=Cl.lch([i,a,u]),l=Cl.contrast(c,n);return Math.abs(l-e)<.2||!o?c.hex():l<e&&h||l>e&&!h?p(t,i,o-1):p(i,r,o-1)}}(t.color,m,4.5)})),{highlight:function(t){b.classed("highlighted",!!t),t?x.classed("highlight",(function(n){return n.key===t})):x.classed("highlight",!1)}}}function Hh(t){if("function"==typeof t.colors){var n=[t.limits[0],t.limits[t.limits.length-1]].map(t.format),e=s(n,2),r=e[0],o=e[1];return"Continuous color legend".concat(t.title?', titled "'.concat(t.title,'"'):"",", ranging from ").concat(r," to ").concat(o,".")}if(!t.swatches)return"";var i=[t.swatches[0].label,t.swatches[t.swatches.length-1].label].map((function(t){return t.replace("<","less than").replace("â¥","greater or equal than")})),a=s(i,2),u=a[0],c=a[1];return"Color legend with ".concat(t.swatches.length," steps ").concat(t.title?', titled "'.concat(t.title,'"'):"",", ranging from ").concat(u," to ").concat(c,".")}function Gh(t){var n=t.swatches.map((function(t){return t.label})),e=n.length<=5?"".concat(n.slice(0,-1).join(", "),", and ").concat(n[n.length-1]):"".concat(n.slice(0,3).join(", "),", ending with ").concat(n[n.length-1],".");return"Category legend with ".concat(t.swatches.length," items").concat(t.title?', titled "'.concat(t.title,'"'):"",". The items are ").concat(e)}function Xh(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!n)return t;for(var r=Array.isArray(n)?n:n.split("."),o=t,i=0;i<r.length&&null!=o;i++)o=o[r[i]];return null==o?e:o}function Uh(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Vh(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Uh(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Uh(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var Zh={title:"",horizontal:!0,reverse:!1,highlight:!1,rtl:!1,swatchWidth:20,swatchHeight:20,itemMarginBottom:3,itemMarginRight:10,swatchBorderRadius:0,swatchLabelDistance:3,paddingTop:0,paddingBottom:10,textAlign:"left",backgroundColor:"#ffffff",useSwatchColorForText:!1};function Kh(t){if(!t)return{};var n=Xh(t,"style.chart.legend",{});return Oh(Vh({swatchWidth:Xh(n,"swatch.width",14),swatchHeight:Xh(n,"swatch.height",14),swatchBorderRadius:Xh(n,"swatch.borderRadius"),swatchLabelDistance:Xh(n,"swatch.marginRight"),itemMarginRight:Xh(n,"text.marginRight"),itemMarginBottom:Xh(n,"rowSpacing"),paddingBottom:Xh(n,"padding.bottom"),paddingTop:Xh(n,"padding.top"),textAlign:Xh(n,"alignment"),useSwatchColorForText:Xh(n,"text.useSwatchColor",!1),backgroundColor:Xh(t,"colors.background","#ffffff")},Xh(t,"style.chart.labels.legend",{})),(function(t){return null==t}))}function Jh(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Qh(t,n){if("svg"===t.nodeName.toLowerCase()||t.ownerSVGElement)throw new Error("can only render in HTML elements");var e,r=function(t){return Vh(Vh(Vh({},Zh),{},{width:"100%",height:"auto",swatches:[{color:"#dd0000",label:"A red swatch",key:"red"},{color:"#0033dd",label:"A blue swatch",key:"blue"}]},Kh(t.theme)),t)}(n),i={},a=wt(t).append("div.category-legend").classed("dir-rtl",r.rtl).classed("horizontal",r.horizontal).classed("vertical",!r.horizontal);return r.title&&a.append("div.legend-title.label").attr("aria-hidden",!0).append("span").html(Tl(r.title)),e=Yh(a,r,(function(t,n){i[t]&&i[t].length&&i[t].forEach((function(t){"function"==typeof t&&t(n)}))})),a.at({role:"graphics-legend","aria-label":Gh(r)}),e=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Jh(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Jh(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({container:a,on:function(t,n){return"function"!=typeof n||"string"!=typeof t||(i[t]||(i[t]=[]),i[t].push(n)),e}},e)}function tp(){var t=window.navigator.userAgent;return/MSIE|Trident/.test(t)}var np=function(t){var n=Ht(t);return null!=t&&("object"==n||"function"==n)},ep="object"==Ht(t)&&t&&t.Object===Object&&t,rp="object"==("undefined"==typeof self?"undefined":Ht(self))&&self&&self.Object===Object&&self,op=ep||rp||Function("return this")(),ip=function(){return op.Date.now()},ap=/\s/;var up=function(t){for(var n=t.length;n--&&ap.test(t.charAt(n)););return n},cp=/^\s+/;var lp=function(t){return t?t.slice(0,up(t)+1).replace(cp,""):t},sp=op.Symbol,fp=Object.prototype,hp=fp.hasOwnProperty,pp=fp.toString,dp=sp?sp.toStringTag:void 0;var gp=function(t){var n=hp.call(t,dp),e=t[dp];try{t[dp]=void 0;var r=!0}catch(t){}var o=pp.call(t);return r&&(n?t[dp]=e:delete t[dp]),o},vp=Object.prototype.toString;var mp=function(t){return vp.call(t)},yp=sp?sp.toStringTag:void 0;var bp=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":yp&&yp in Object(t)?gp(t):mp(t)};var wp=function(t){return null!=t&&"object"==Ht(t)};var _p=function(t){return"symbol"==Ht(t)||wp(t)&&"[object Symbol]"==bp(t)},xp=/^[-+]0x[0-9a-f]+$/i,Mp=/^0b[01]+$/i,kp=/^0o[0-7]+$/i,Ap=parseInt;var Sp=function(t){if("number"==typeof t)return t;if(_p(t))return NaN;if(np(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=np(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=lp(t);var e=Mp.test(t);return e||kp.test(t)?Ap(t.slice(2),e?2:8):xp.test(t)?NaN:+t},Ep=Math.max,Op=Math.min;var jp=function(t,n,e){var r,o,i,a,u,c,l=0,s=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(n){var e=r,i=o;return r=o=void 0,l=n,a=t.apply(i,e)}function d(t){return l=t,u=setTimeout(v,n),s?p(t):a}function g(t){var e=t-c;return void 0===c||e>=n||e<0||f&&t-l>=i}function v(){var t=ip();if(g(t))return m(t);u=setTimeout(v,function(t){var e=n-(t-c);return f?Op(e,i-(t-l)):e}(t))}function m(t){return u=void 0,h&&r?p(t):(r=o=void 0,a)}function y(){var t=ip(),e=g(t);if(r=arguments,o=this,c=t,e){if(void 0===u)return d(c);if(f)return clearTimeout(u),u=setTimeout(v,n),p(c)}return void 0===u&&(u=setTimeout(v,n)),a}return n=Sp(n)||0,np(e)&&(s=!!e.leading,i=(f="maxWait"in e)?Ep(Sp(e.maxWait)||0,n):i,h="trailing"in e?!!e.trailing:h),y.cancel=function(){void 0!==u&&clearTimeout(u),l=0,r=c=o=u=void 0},y.flush=function(){return void 0===u?a:m(ip())},y},$p=[],Np=!1;function zp(){if($p.length){var t=$p.map((function(t){try{return t.measure&&t.measure()}catch(t){return t}}));$p.forEach((function(n,e){try{n.update&&n.update(t[e])}catch(n){}})),$p=[],Np=!1}}function Pp(t){$p.push(t),Np||(Np=!0,requestAnimationFrame(zp))}function Lp(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Tp(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Lp(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Lp(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var Dp={categories:Yh,continuous:function(t,n,e){for(var r=n.colors,o=n.limits,i=n.format,a=n.labels,u=n.horizontal,c=n.width,l=n.height,s=n.rulerSize,f=n.swatchLabelDistance,h=n.highlight,p=n.rtl,d=p&&u?!n.reverse:n.reverse,g=3===o.length,v=t.parent().append("defs"),m=[],y=0;y<17;y++)m.push(y/16);var b="g-".concat(Math.floor(1e6*Math.random()).toString(32));v.append("linearGradient").attr("id",b).attr(u?"y2":"x2",0).attr(u?"x2":"y2",1).appendMany("stop",m).attr("offset",(function(t){return"".concat(100*t,"%")})).attr("stop-color",d?function(t){return j(1-t)}:j),t.append("rect").at({width:u?c:s,height:u?s:l}).style("fill","url(#".concat(b,")"));var w=(a||o.map(i)).slice(0),_=o.slice(0);d&&(w.reverse(),_.reverse());var x=tp();t.append("g.labels").attr("aria-hidden",!0).translate(u?[0,s+f+(x?8:0)]:[p?-f:s+f,0]).appendMany("text",w).attr("class",(function(t,n){return 0===n?"min":1===n&&g?"center":"max"})).translate(u?function(t,n){return[c*n/(g?2:1),0]}:function(t,n){return[0,l*n/(g?2:1)]}).tspans((function(t){return t.split("<br>")}));var M=t.append("g.highlight").attr("aria-hidden","true");M.append("path.triangle").translate(u?[0,s+7]:[p?-7:s+7,0]).attr("d",u?"M-5,0 L 5,0 L 0,-7 Z":p?"M0,5 L7,0 L 0,-5 Z":"M0,-5 L-7,0 L 0,5 Z"),M.append("g.text").translate(u?[0,s+12+(x?8:0)]:[p?-12:s+12,0]).append("text.buffer").parent().append("text");var k=M.selectAll("text"),A=Dl((function(n){if(null!==n){if(h){t.classed("highlighted",!0),M.style("transform","translate(".concat((u?[n*c,0]:[0,n*l]).map((function(t){return t+"px"})),")")),M.translate(u?[n*c,0]:[0,n*l]);var r=E(n);k.text(i(r))}e("mouseenter",{min:E(n*(d?1.1:.9)),max:E(n*(d?.9:1.1))})}else h&&t.classed("highlighted",!1),e("mouseleave")}));if(t.parent().on("mouseenter",(function(){t.parent().classed("no-transition",!0)})),t.parent().on("mousemove",(function(){var n=Mt(t.node())[u?0:1]/(u?c:l);A.set(Math.min(1,Math.max(0,n)))})),t.parent().on("mouseleave",(function(){A.clear(),t.parent().classed("no-transition",!1)})),!u&&p){var S=t.node().getBoundingClientRect();t.translate([S.width-s,0])}return{highlight:function(n){null!=n?(t.parent().classed("no-transition",!t.classed("highlighted")),t.classed("highlighted",!0),M.style("transform","translate(".concat((u?[O(n)*c,0]:[0,O(n)*l]).map((function(t){return t+"px"})),")")),M.translate(u?[O(n)*c,0]:[0,O(n)*l]),k.text(i(n))):t.classed("highlighted",!1)}};function E(t){return g?t<.5?_[0]+2*t*(_[1]-_[0]):_[1]+2*(t-.5)*(_[2]-_[1]):_[0]+t*(_[1]-_[0])}function O(t){return g?t<_[1]?.5*(t-_[0])/(_[1]-_[0]):.5+.5*(t-_[1])/(_[2]-_[1]):(t-_[0])/(_[1]-_[0])}function j(t){var n=g?t<=.5?2*t*(o[1]-o[0])+o[0]:2*(t-.5)*(o[2]-o[1])+o[1]:t*(o[1]-o[0])+o[0];return r(n)}},ruler:function(t,n,e){var r=n.colors,o=n.format,i=n.breaks,a=n.width,u=n.height,c=n.rulerSize,l=n.tickLength,s=n.tickWidth,f=n.tickColor,h=n.horizontal,p=n.rulerLabelDistance,d=n.highlight,g=n.rtl,v=g&&h?!n.reverse:n.reverse,m=[],y=r.map((function(t,n){return{color:t,min:0===n?-1/0:+i[n],max:n===r.length-1?1/0:+i[n+1],label:n===(v?r.length-1:0)?"":"".concat(o(i[v?n+1:n]))}}));v&&y.reverse();var b=h?Math.floor(a/r.length)-1:c,w=h?c:Math.floor(u/r.length)-1,_=t.appendMany("g.swatch",y).attr("aria-hidden",!0).translate(h?function(t,n){return[n*(b+s),0]}:function(t,n){return[0,n*(w+s)]}),x=Dl((function(n){null!==n?(d&&(t.classed("highlighted",!0),_.classed("highlight",(function(t){return n===t}))),e("mouseenter",n)):(d&&(t.classed("highlighted",!1),_.classed("highlight",!1)),e("mouseleave"))}));if(_.on("mouseenter",(function(t){return x.set(t)})),t.parent().on("mouseleave",x.clear),_.append("rect").at({width:b,height:w}).style("fill",(function(t){return t.color})),_.append("text").translate(h?[0,w+p+l+(tp()?8:0)]:[g?-(l+p):b+p+l,0]).text((function(t){return t.label})),l>0&&_.filter((function(t,n){return n>0})).append("path.tick").style("stroke-width",s).style("stroke",f).attr("d",function(){var t=h?0:.5*-s,n=(h?w:b)+l,e=!h&&g?-1:1,r=h?"v":"h";return"M".concat(h?.5*-s:g?b:0,",").concat(t).concat(r).concat(e*n)}()),h){var M=jp((function(){k&&(_.selectAll("text").st({textAnchor:g?"start":"end",dominantBaseline:"central"}).at({transform:"translate(0, ".concat(w+p+l,") rotate(-90)")}),m.forEach((function(t){return t()})))}),20),k=!1;_.selectAll("text").each((function(){var t=this;Pp({measure:function(){return t.getBoundingClientRect()},update:function(t){t.width>b+2&&(k=!0,M())}})}))}if(!h&&g){var A=t.node().getBoundingClientRect();_.translate((function(t,n){return[A.width-b,n*(w+s)]}))}return{highlight:function(n){null!=n?(t.classed("highlighted",!0),_.classed("highlight",(function(t){return n>=t.min&&n<t.max}))):(t.classed("highlighted",!1),_.classed("highlight",!1))},onupdate:function(t){m.push(t)}}},ranges:function(t,n,e){var r=n.colors,o=n.format,i=n.labels,a=n.breaks,u=n.width,c=n.swatchWidth,l=n.swatchHeight,s=n.itemMarginBottom,f=n.swatchBorderRadius,h=n.swatchLabelDistance,p=n.rulerSize,d=n.horizontal,g=n.highlight,v=n.rtl,m=[],y=v&&d?!n.reverse:n.reverse,b=r.map((function(t,n){return{color:t,min:0===n?-1/0:+a[n],max:n===r.length-1?1/0:+a[n+1],label:i?i[n]:0===n?"< ".concat(o(a[1])):n===r.length-1?"â¥ ".concat(o(a[n])):"".concat(o(a[n]),"â").concat(o(a[n+1]))}})),w=d?Math.floor(u/r.length)-1:c,_=d?p:l;y&&b.reverse();var x=t.appendMany("g.swatch",b).attr("aria-hidden",!0).translate(d?function(t,n){return[n*(w+1),0]}:function(t,n){return[0,n*(_+s)]}).on("mouseenter",(function(t){return M.set(t)})),M=Dl((function(n){null!==n?(g&&(t.classed("highlighted",!0),x.classed("highlight",(function(t){return n===t}))),e("mouseenter",n)):(g&&(t.classed("highlighted",!1),x.classed("highlight",!1)),e("mouseleave"))}));if(t.parent().on("mouseleave",M.clear),x.append("rect").at({width:w,height:_,rx:Math.min(f,.5*_),ry:Math.min(f,.5*w)}).style("fill",(function(t){return t.color})).parent().append("text").translate(d?[.5*w,_+h]:[w+h,.5*_]).text((function(t){return t.label})),d){var k=jp((function(){if(A){var e=t.parent(),r=e.parent();e.remove(),r.classed("ranges",!1).classed("color-legend",!1).classed("category-legend",!0).classed("categories",!0),v&&b.reverse(),Yh(r,Tp(Tp({},n),{},{swatches:b,reverse:!1})),m.forEach((function(t){return t()}))}}),20),A=!1;x.selectAll("text").each((function(){var t=this;Pp({measure:function(){return t.getBoundingClientRect()},update:function(t){t.width>w+2&&(A=!0,k())}})}))}return{highlight:function(n){null!=n?(t.classed("highlighted",!0),x.classed("highlight",(function(t){return n>=t.min&&n<t.max}))):(t.classed("highlighted",!1),x.classed("highlight",!1))},onupdate:function(t){m.push(t)}}},winner:function(t,n){var e=n.colors,r=n.format,o=n.breaks,i=n.labels,a=n.width,u=n.height,c=n.rulerSize,l=n.tickLength,s=n.tickWidth,f=n.horizontal,h=n.itemMarginBottom,p=n.swatchLabelDistance,d=n.rtl,g=f&&d?!n.reverse:n.reverse,v=i.map((function(t){return{label:t,swatches:e[t].map((function(n,i){return{color:n,label:(g?i===e[t].length-1:0===i)?"":"".concat(r(o[g?i+1:i]))}}))}}));v[v.length-1].isLast=!0;var m=o.length-1,y=f?Math.floor(a/(m+3))-1:c,b=f?c:Math.floor(u/(m+3))-1,w=f?(y+s)*m:y*v.length+h*(v.length-1),_=t.appendMany("g.group",v).attr("aria-hidden",!0).translate((function(t,n){return f?[0,(b+h)*n]:[(y+h)*n,0]}));_.append("text.label").attr("transform",f?"translate(".concat([d?-p:w+p,.5*b+1],")"):"translate(".concat([.5*y,(b+s)*m+p],") rotate(-90)")).text((function(t){return t.label}));var x=_.appendMany("g.swatch",(function(t){return g?t.swatches.slice(0).reverse():t.swatches})).translate(f?function(t,n){return[n*(y+s),0]}:function(t,n){return[0,n*(b+s)]});if(x.append("rect").at({width:y,height:b}).style("fill",(function(t){return t.color})),_.filter((function(t){return t.isLast})).selectAll("g.swatch").append("text").translate(f?[0,b+p+l]:[d?-y*m:y+p+l,0]).text((function(t){return t.label})),l>0&&x.append("path.tick").style("stroke-width",s).attr("d","M".concat(f?"-".concat(Math.ceil(.5*s),",0"):"0,-".concat(Math.ceil(.5*s))).concat(f?"v":"h").concat((f?b:y)+l)),d){var M=t.node().getBoundingClientRect();_.translate((function(t,n){return f?[M.width-w,(b+h)*n]:[M.width-w+(y+h)*n,0]}))}return{highlight:function(){}}}};function Cp(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Rp(t,n){if("svg"===t.nodeName.toLowerCase()||t.ownerSVGElement)throw new Error("can only render in HTML elements");var e,r=function(t){var n,e,r,o,i=Xh(t,"theme.style.chart.legend",{});return Vh(Vh(Vh(Vh({},Zh),{},{width:100,height:200,colors:["white","yellow","red"],breaks:!1,limits:!1,ruler:!1,labels:!1,format:function(t){return String(+t.toFixed(2))},rulerLabelDistance:3,rulerSize:13,tickLength:0,tickWidth:1,tickColor:"#222"},Kh(t.theme)),t.theme?Oh({rulerSize:Xh(i,"ruler.thickness",13),tickWidth:Xh(i,"ruler.tickWidth",1),tickLength:Xh(i,"ruler.tickLength",0),tickColor:Xh(i,"ruler.tickColor",(n=t.theme,e=Xh(n,"colors.background","#ffffff"),r=Xh(n,"colors.chartContentBaseColor",Cl.contrast(e,"#000000")<5.5?"#f1f1f1":"#333333"),o={tickText:{secondary:Xh(n,"colors.bgBlendRatios.tickText.secondary",Cl(e).luminance()<.5?.6:.4),primary:Xh(n,"colors.bgBlendRatios.tickText.primary",.2)},series:Xh(n,"colors.bgBlendRatios.series",0),value:Xh(n,"colors.bgBlendRatios.value",.2),axis:Xh(n,"colors.bgBlendRatios.axis",0),gridline:Xh(n,"colors.bgBlendRatios.gridline",.82)},{tickText:{secondary:Cl.mix(r,e,o.tickText.secondary).hex(),primary:Cl.mix(r,e,o.tickText.primary).hex()},series:Cl.mix(r,e,o.series).hex(),value:Cl.mix(r,e,o.value).hex(),axis:Cl.mix(r,e,o.axis).hex(),gridline:Cl.mix(r,e,o.gridline).hex(),fallbackBaseColor:r}).fallbackBaseColor),rulerLabelDistance:Xh(i,"ruler.labelDistance.".concat(t.horizontal?"horizontal":"vertical"),3)},(function(t){return null==t})):{}),t)}(n),i={},a=Array.isArray(r.colors)&&!r.ruler&&!r.horizontal,u=wt(t).append("div.".concat(a?"category":"color","-legend")).classed("dir-rtl",r.rtl).classed("horizontal",r.horizontal).classed("vertical",!r.horizontal);r.title&&u.append("div.title.legend-title.label").attr("aria-hidden",!0).style("max-width",r.width+"px").append("span").html(Tl(r.title));var c=a?null:u.append("svg").at({width:r.width,height:r.height}),l=a?null:c.append("g");if("function"==typeof r.colors)u.classed("continuous",!0),e=Dp.continuous(l,r,h);else if(Array.isArray(r.colors)){var s=r.ruler?"ruler":a?"categories":"ranges";u.classed(s,!0),r.swatches=function(t){var n=t.colors,e=t.labels,r=t.breaks,o=t.format;return n.map((function(t,i){return{color:t,min:0===i?-1/0:+r[i],max:i===n.length-1?1/0:+r[i+1],label:e?e[i]:0===i?"< ".concat(o(r[1])):i===n.length-1?"â¥ ".concat(o(r[i])):"".concat(o(r[i]),"â").concat(o(r[i+1]))}}))}(r),e=Dp[s](a?u:l,r,h)}else u.classed("winner",!0),e=Dp.winner(l,r,h);function f(){var t=l.node().getBoundingClientRect();c.attr("height",t.height).attr("width",t.width)}function h(t,n){i[t]&&i[t].length&&i[t].forEach((function(t){"function"==typeof t&&t(n)}))}return u.at({role:"graphics-legend","aria-label":Hh(r)}),f(),e.onupdate&&e.onupdate(f),e=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Cp(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Cp(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({container:u,on:function(t,n){return"function"!=typeof n||"string"!=typeof t||(i[t]||(i[t]=[]),i[t].push(n)),e}},e)}function Bp(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function qp(t,n,e){if(e=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Bp(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Bp(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({format:"0.[00]",prepend:"",append:"",minusChar:"â",plusMinusChar:"Â±",multiply:1},e),void 0===n||isNaN(n)||""===n||null===n)return"";var r=e,i=r.append,a=r.prepend,u=r.minusChar,c=r.plusMinusChar,l=r.multiply,s=e.format;s.includes("%")&&Number.isFinite(n)&&(n*=.01),n*=l;var f=s.indexOf("(")>-1,h=s.indexOf(";")>-1;s=s.replace(/;/g,",");var p=t(f?n:Math.abs(n)).format(s);if(h){var d=t.options.currentLocale,g=t.locales[d].delimiters.thousands,v=s.includes("%")?n/.01:n;p=Math.abs(v)<1e4?p.replace(g,""):p}return a&&!f&&n<0&&Fp.has(a.trim().toLowerCase())?"".concat(u).concat(a).concat(p.replace("+","")).concat(i):a&&n>=0&&Fp.has(a.trim().toLowerCase())&&s.includes("+")?"".concat(0===n?c:"+").concat(a).concat(p.replace("+","")).concat(i):0===n&&s.includes("+")?"".concat(a).concat(p.replace("+",c)).concat(i):n<0&&!f?"".concat(a).concat(u).concat(p.replace("+","")).concat(i):"".concat(a).concat(p).concat(i)}var Fp=new Set(["à¸¿","â¿","Â¢","$","â¬","eur","Â£","gbp","Â¥","yen","usd","cad","us$","ca$","can$"]);function Wp(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Ip(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Wp(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Wp(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function Yp(t){var n,e=t.vis;this.update=function(t){var r=t.container,o=t.colorScale,i=t.map,a=e.theme(),u=e.size(),c=e.colorMap(),l=e.chart().getMetadata("data.column-format",{}),s=e.libraries().numeral,f=$l({width:u[0],settings:e.get("legend"),column:{type:e.axes(!0).values.type(),name:e.axes(!0).values.name()},cs:{limits:o._limits,colors:o._colors,labels:o._labels,stops:o._stops},zoomable:e.get("zoomable"),zoomBtnPos:e.get("zoom-button-pos"),hideRegions:e.get("hide-empty-regions"),colorscale:e.get("colorscale",{}),colorSim:e.colorMode()||"normal",darkMode:e.darkMode()});if(!Gs(f,n)&&(n=f,wt(r).select(".map-key").remove(),e.get("legend.enabled",!0)&&(!o._limits||void 0!==o._limits[0]))){var h="text"===e.axes(!0).values.type(),p=u[0]<450,d=e.get("legend.interactive"),g=e.get("legend.position","mt"),v="div.map-key.export-rect.map-key-"+g+(["mt","mb"].includes(g)?"":".map-key-inside"),m="mt"===g?wt(r).insert(v,".map-outer"):wt(r).append(v),y="m"===g.charAt(0);m.classed("mobile",p),d&&m.style("pointer-events","all"),y||m.style("b"===g.charAt(0)?"bottom":"top",e.get("legend.offsetTop",0)+"%").style("r"===g.charAt(1)?"right":"left",e.get("legend.offsetLeft",0)+"%");var b,w,_={title:e.get("legend.title"),highlight:d,width:p?u[0]-10:220,horizontal:p||y||"horizontal"===e.get("legend.orientation","horizontal"),reverse:!h&&e.get("legend.reverse",!1),theme:a,rtl:"rtl"===e.textDirection},x="discrete"===e.get("colorscale.mode")&&"ruler"!==e.get("legend.labels")&&!_.horizontal,M=e.get("legend.hideItems",[]),k=!h&&o._colors&&"ruler"!==e.get("legend.labels")&&("m"===e.get("legend.position","br").charAt(0)||x);if(p||y?!y||p||"number"!==e.axes(!0).values.type()||"continuous"!==e.get("colorscale.mode")&&"ruler"!==e.get("legend.labels")||(_.width=e.get("legend.size",200)):_[_.horizontal||h||x?"width":"height"]=e.get("legend.size",170),"number"===e.axes(!0).values.type()){var A=jl(a,"typography.chart.minusCharacter","â"),S=jl(a,"typography.chart.plusMinusCharacter","Â±"),E=e.get("legend.labelFormat","0.[00]"),O=l[e.axes().values]||{},j=O["number-prepend"]||"",$=O["number-append"]||"",N=Math.pow(10,-O["number-divisor"]||0);w=function(t){return qp(s,t,{format:E,multiply:N,prepend:j,append:$,minusChar:A,plusMinusChar:S})}}if(h){var z=jl(a,"colors.categories",[[]])[e.get("colorscale.palette",0)],P=e.get("colorscale.map",{}),L=e.get("colorscale.categoryOrder",[]),T=e.get("colorscale.categoryLabels",{}),D=0;(_=Ip(Ip({},_),{},{swatches:Lh(o._labels.sort((function(t,n){return L.indexOf(t)-L.indexOf(n)})).map((function(t,n){var e=null!=T[t]?T[t]:t,r=P[t]?c(P[t]):z[D++];return{key:"".concat(r,"///").concat(e),label:e,value:t,index:n,color:r}})),(function(t){return t.key})).sort((function(t,n){return t.index-n.index})).filter((function(t){return t.label}))})).horizontal||(_.height="auto",_.paddingBottom=0),b=Qh(m.node(),_)}else if(k){var C="discrete"===e.get("colorscale.mode")&&"custom"===e.get("legend.labels")&&e.get("legend.customLabels",[]);_=Ip(Ip({},_),{},{swatches:o._stops.slice(1).map((function(t,n){return{key:"class-".concat(n),color:o._colors[n],index:n,min:0===n?-1/0:+o._stops[n],max:n===o._stops.length-2?1/0:+o._stops[n+1],label:C?C[n]:0===n?"<&nbsp;".concat(w(t)):n<o._colors.length-1?"".concat(w(o._stops[n]),"â").concat(w(t)):"â¥&nbsp;".concat(w(o._stops[n]))}}))}),"custom"===e.get("legend.labels")&&(_.swatches=_.swatches.filter((function(t,n){return!M.includes(n)}))),_.horizontal||(_.height="auto",_.paddingBottom=0),b=Qh(m.node(),_)}else{_=Ip(Ip({},_),{},{limits:o._limits,breaks:o._stops,ruler:"ruler"===e.get("legend.labels"),colors:o._colors||o,format:w}),"categories"===e.get("colorscale.mode")?_.labels=o._labels:"continuous"===e.get("colorscale.mode")&&"custom"===e.get("legend.labels")?(_.labels=[e.get("legend.labelMin",""),e.get("legend.labelMax","")],""!==e.get("colorscale.rangeCenter")&&void 0!==e.get("colorscale.rangeCenter")&&_.labels.splice(1,0,e.get("legend.labelCenter",""))):"discrete"===e.get("colorscale.mode")&&"custom"===e.get("legend.labels")&&(_.labels=e.get("legend.customLabels",[]).filter((function(t,n){return!M.includes(n)})),_.colors=_.colors.filter((function(t,n){return!M.includes(n)})),_.breaks=_.breaks.filter((function(t,n){return 0===n||n===_.breaks.length-1||!M.includes(n-1)}))),b=Rp(m.node(),_);var R=m.select(".color-legend").node();i.setBottomMargin(p&&R&&R.clientHeight||0)}if(d){b.on("mouseenter",(function(t){i.highlight(t)})),b.on("mouseleave",(function(){i.highlight(null)}));var B=e.axes(!0).values,q=e.get("colorscale.categoryLabels",{});i.onHighlight=function(t){if(!t)return b.highlight();var n=t.data?t.data[B.name()]:t.properties._cluster?t.properties._val2:t.properties[B.name()];if(k){var e=o._stops.filter((function(t,e){return e===o._stops.length-2||0===e?t<=n:t<n})).length-1;n="class-".concat(e)}b.highlight("text"===B.type()?"".concat(t.fill||t.properties._color,"///").concat(q[n]||n):n)}}if("d3-maps-symbols"===e.meta.id&&e.darkMode()&&e.get("blend-multiply",!1)){var F=_.swatches?b.container.selectAll(".legend-color"):_.ruler?b.container.selectAll(".swatch rect"):b.container.selectAll("rect"),W=F.clone().classed("export-rect",!1);if(F.style("mix-blend-mode","screen"),W.style(_.swatches?"background":"fill",i.regionFill),_.swatches){if(!F.nodes().length)return;var I=e.chart().getElementBounds(F.nodes()[0]).left-e.chart().getElementBounds(W.nodes()[0]).left;W.st({"margin-left":"".concat(I,"px"),position:"relative","z-index":-1})}else W.lower()}}}}var Hp=.45;function Gp(t){var n=t.theme,e=t.type,r=t.layers,o=t.forceSVG,i=t.cm,a=jl(n,"colors.background","#ffffff"),u="d3-maps-choropleth"===e,c=u?a:i("#888"),l=u?jl(n,"vis.d3-maps-choropleth.noDataFill",i("#dddddd")):jl(n,"vis.d3-maps-symbols.regionFill",i("#f3f3f3")),s=r.find((function(t){return"bg"===t.id})),f=r.find((function(t){return"region"===t.id})),h=r.filter((function(t){return"border"===t.type&&"outlines"!==t.id})),p=r.find((function(t){return"outlines"===t.id}));if(s){var d={color:i(u?"#eeeeed":"#f8f8f8"),opacity:u?.5:1},g=m("backgroundLayer.color",d.color),v=m("backgroundLayer.opacity",d.opacity);o?s.selection.st({fill:g,opacity:v}):s.style={fill:Xp(g,v)}}return f&&(o?f.selection.attr("fill",l):f.style={fill:l}),h.forEach((function(t){var n={stroke:m("borders.".concat(t.id,".stroke"),c),lineWidth:m("borders.".concat(t.id,".scale"),t.defaultStyle.lineWidth),strokeDasharray:m("borders.".concat(t.id,".strokeDasharray"),t.defaultStyle.strokeDasharray),opacity:t.defaultStyle.opacity};o?(t.selection.st(n),t.style=n):t.style={stroke:Xp(n.stroke,n.opacity),lineWidth:n.lineWidth*Hp,dash:n.strokeDasharray?n.strokeDasharray.split(",").map((function(t){return Number(t)*Hp})):null}})),p&&(p.style={lineWidth:jl(n,"vis.d3-maps-choropleth.borders.hoverOutline.scale",p.defaultStyle.lineWidth)}),l;function m(t,r){return jl(n,"vis.".concat(e,".").concat(t),jl(n,"vis.d3-maps-core.".concat(t),r))}}function Xp(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=gn(t);return e.opacity=n,e.formatRgb()}var Up="M -1,0 a 1,1 0 1,0 2,0 a 1,1 0 1,0 -2,0 Z",Vp="M-0.88622,-0.88622L0.88622,-0.88622L0.88622,0.88622L-0.88622,0.88622Z";function Zp(t,n,e){return"left"===e?0:"right"===e?n-t:(n-t)/2}function Kp(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Jp(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Kp(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Kp(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function Qp(t){return String(t||"").toLowerCase().replace(/\u00AD/g,"").replace(/[-\u2015\u2014\u2013\u2012\u23BC\u2212]+/g,"-").replace(/[ \u00A0\u1680\u2002-\u200B\u202F\u205F\u3000]+/g," ").trim()}function td(t){return Number(t)}function nd(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var o,i,a,u,c,l,s,f,h,p=t._root,d={data:r},g=t._x0,v=t._y0,m=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=n>=(i=(g+m)/2))?g=i:m=i,(s=e>=(a=(v+y)/2))?v=a:y=a,o=p,!(p=p[f=s<<1|l]))return o[f]=d,t;if(u=+t._x.call(null,p.data),c=+t._y.call(null,p.data),n===u&&e===c)return d.next=p,o?o[f]=d:t._root=d,t;do{o=o?o[f]=new Array(4):t._root=new Array(4),(l=n>=(i=(g+m)/2))?g=i:m=i,(s=e>=(a=(v+y)/2))?v=a:y=a}while((f=s<<1|l)==(h=(c>=a)<<1|u>=i));return o[h]=p,o[f]=d,t}function ed(t,n,e,r,o){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=o}function rd(t){return t[0]}function od(t){return t[1]}function id(t,n,e){var r=new ad(null==n?rd:n,null==e?od:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function ad(t,n,e,r,o,i){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function ud(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}bt.prototype.at=jo,bt.prototype.append=_o,bt.prototype.translate=bo,bt.prototype.tspans=So,Sl.extend(El),Sl.extend(Ol),Sl.extend((function(t,n){var e=n.prototype,r=e.format;e.format=function(t){var n=this,e=t||"YYYY-MM-DDTHH:mm:ssZ",o=this.$locale().seasonSeparator||"-",i=e.replace(/(\[[^\]]+])|BB|B/g,(function(t,e){var r,i,a=n.$y,u=a+1,c="B"===t,l=c?[String(a).slice(-2),2]:[a,4],s=[String(u).slice(-2),2];return e||"".concat(c?"'":"").concat((r=n.$utils()).s.apply(r,l.concat(["0"]))).concat(o).concat(c?"'":"").concat((i=n.$utils()).s.apply(i,s.concat(["0"])))}));return r.bind(this)(i)}})),dw.visualization.register("d3-maps-core",(function(){var t;return{init:function(t){this.svg=t.node(),this.mapKey=new Yp({vis:this});try{var n=this.chart().locales.dayjs;n&&Sl.locale(n)}catch(t){console.warn("Couldnt register locale",t)}},initBaseMap:function(n,e,r,o){var i=this,a=i.size(),u=i.axes(),c=i.theme(),l=JSON.parse(i.chart().asset("".concat(e,".json"))),f=0,h=0,p=a[0],d=a[1],g=+i.get("max-map-height",650),v=r.fitchart||r.fitheight,m=r.svgonly,y="custom_upload"===e?i.get("layers",{}):{};if(l){var b=wt(n);E(S())&&b.classed("color-invert",!0);var w=b.append("div.map-outer"),_=!1,x=window.devicePixelRatio||1;m||(_=w.append("canvas").at({width:p*x,height:d*x}).st({width:p,height:d}));var M=w.append("svg.svg-main").classed(e,!0).st({overflow:"hidden",position:"relative"}).at({width:p,height:d});i.init(M),["borders","exteriorBorders","innerborders"].forEach((function(t){y[t]&&(l.meta[t]=y[t])})),function(e,r,b,w,_,x){var M=i.get("basemap"),O=i.colorMap(),j=function(t,n,e){return{getBorder:function(n,r){return jl(e,"vis.".concat(t.meta.id,".borders.").concat(n),jl(e,"vis.d3-maps-core.borders.".concat(n),r))}}}(i,0,c).getBorder,$=_?_.node().getContext("2d"):null,N=[],z=[],P=r.projection,L=r.extent;r.maxZoom=r.maxZoom||("custom_upload"===M?20:8),"custom_upload"===M&&"string"==typeof y.extent&&(L.layer=y.extent);var T=!Bs(L.exclude);_&&Al(e);var D=vl(e,e.objects[r.regions]),C="geoNaturalEarth"===P.type?"geoNaturalEarth1":P.type,R=P.rotate,B=P.center,q=!1===L.padding||void 0===L.padding?0:L.padding,F=Jp(Jp({},ll),{},{geoAlbersUsaTerritories:pl.geoAlbersUsaTerritories})[C]();R&&F.rotate&&F.rotate(R);var W=JSON.stringify(l.content).length,I=_?function(){var t,n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,r=e,o=xc({point:function(t,n,e){if(!e||e>=r){var o=a([t,n]);this.stream.point(o[0],o[1])}}}),i=ol().stream,a=ol();return a.stream=function(e){var r=a.postclip()||i;return t&&n===e?t:t=o.stream(r(n=e))},a.areaThreshold=function(t){r=t*e},a.log=function(){},a}(W>5e5?r.weight||.01:-99):ol(),Y=function(){var t=D.features;return Object.keys(L.exclude).forEach((function(n){L.exclude[n].forEach((function(e){t=t.filter((function(t){return t.properties[n]!==e}))}))})),{type:"FeatureCollection",features:t}},H=T?Y():D;L.layer&&!i.get("hide-empty-regions")&&(H=vl(e,e.objects[L.layer]));d=k(I,q,H),B&&I.center&&console.warn("todo: what to do with projection center?");var G=_c().projection(I),X=w.append("g.map"),U=X.append("rect.background").attr("width",p).attr("height",d);L.layer&&!i.get("hide-empty-regions")&&(_?N.push({id:"bg",features:[vl(e,e.objects[L.layer])]}):z.push({id:"bg",selection:X.append("path.bg.geo").datum(vl(e,e.objects[L.layer])).attr("d",G)}));var V=function(t,n){var e,r,o,i=t.features;if(i.forEach((function(t){t.anchor=wt(t)})),_&&!n)N.push({id:"region",features:i});else{var a=(r=(e=X.append("g.regions")).selectAll(".region").data(i).enter().append("g.region")).append("path.geo.region").attr("d",(function(t){return G(t)})).classed("highlight",(function(t){return"#id="===location.hash.substr(0,4)&&location.hash.substr(4).split(",").indexOf(t.properties.RS)>-1}));n||(z.push({id:"gregion",selection:r}),z.push({id:"region",selection:a}))}return{regionShapes:i,regions:e,gregion:r,region:o}}(D),Z=V.regionShapes,K=V.regions,J=[{id:"regions",type:"border",defaultStyle:{lineWidth:1},meshFunc:function(t,n){return t!==n}},{id:"borders",type:"border",defaultStyle:{lineWidth:3.33},meshFunc:function(t,n){return t!==n}},{id:"innerborders",defaultStyle:{lineWidth:.3,opacity:.9},meshFunc:function(){return!0}},{id:"exteriorBorders",type:"border",defaultStyle:{lineWidth:2,strokeDasharray:"2,8"},meshFunc:function(){return!0}}];j("outerBorder")&&(r.outerBorder=r.regions,J.push({id:"outerBorder",type:"border",defaultStyle:{lineWidth:1},meshFunc:function(t,n){return t===n}}));if(J.forEach((function(t){var n=t.id,o=t.defaultStyle,i=t.meshFunc;if(r[n]){var a=function(t){return yl(t,wl.apply(this,arguments))}(e,e.objects[r[n]],i);if(_)N.push({id:n,type:"border",defaultStyle:o,features:[a]});else{var u=X.append("path.geo.borders.".concat(n)).datum(a).attr("d",G);z.push({id:n,type:"border",selection:u,defaultStyle:o})}}})),!_&&"d3-maps-choropleth"===i.meta.id){var Q=X.append("g.outlines").selectAll(".region-outline").data(Z).enter().append("path.geo.region-outline").attr("d",G);z.push({id:"outlines",type:"border",selection:Q,defaultStyle:{lineWidth:2}})}var tt,nt=[],et={};v||(w.at({height:d}),_&&_.at({height:d*x}).st({height:d}));var rt=Gp({theme:c,type:i.meta.id,layers:m?z:N,forceSVG:m,cm:O}),ot={svg:w,canvas:_,scale:1,meta:r,getZoom:ft,g:X,data:Z,proj:I,mapProj:F,path:G,feat:D,svgBorderList:z.filter((function(t){return"border"===t.type})),svgLayers:z,canvasLayers:N,isDatawrapperEditor:i.chart().inEditor(),draw:st,getThemeBgColor:S,SVG_TO_CANVAS_SCALE:Hp,renderPlaces:function(){!function(t){var n=t.map,e=t.vis,r=t.theme,o=(0,t.getZoom)(),i=/<br *\/?>|\n/g,a=$l(e.get("labels.places")).filter((function(t){return t.origAlign=t.align,t.visible}));if(n.g.selectAll("g.places").remove(),a.length&&e.get("labels.enabled")&&"places"===e.get("labels.type")){var u=n.g.append("g.places"),c=u.appendMany("g.place",a).attr("class",(function(t){return["place",t.inverted?"inverted":"",t.type,t._visible?"":"place-hidden"].join(" ")})),l={country:13},f={capital:Vp,point:Up};c.each((function(t){t.fontSize=jl(r,"vis.d3-maps-core.places.".concat(t.type,".label.fontSize"),jl(r,"vis.d3-maps-core.places.general.label.fontSize",l[t.type]||10)),t.symbolSize=jl(r,"vis.d3-maps-core.places.".concat(t.type,".symbol.size"),jl(r,"vis.d3-maps-core.places.general.symbol.size",3)),t.symbolPath=jl(r,"vis.d3-maps-core.places.".concat(t.type,".symbol.path"),f[t.type]||!1)})),c.attr("transform",(function(t){var e=n.proj(n.mapProj([t.x,t.y]));return t.anchor=e,"translate(".concat(t.anchor,") scale(").concat(1/o.k,")")}));var h=c.append("g.text-wrapper");h.append("text.buffer"),h.append("text.place-label"),c.append("path.place-symbol").attr("d",(function(t){return t.symbolPath||""})).attr("transform",(function(t){return"scale(".concat(t.symbolSize,")")})),p(),n.updateLabelOverlaps(u,"g.place"),p(),c.classed("place-hidden",(function(t){return!t._visible})),n.addZoomLayer("place-labels-layer",u,c),n.updatePlacesAfterZoom=Uf((function(){n.updateLabelOverlaps(u,"g.place"),p(),c.classed("place-hidden",(function(t){return!t._visible}));var t=!1;a.forEach((function(n){n.align!==n.origAlign&&(n.align=n.origAlign,t=!0)})),t&&p(),n.updateLabelOverlaps(u,"g.place"),p(),c.classed("place-hidden",(function(t){return!t._visible}))}),200),n.onZoom(n.updatePlacesAfterZoom)}function p(){c.each((function(t){var n=t.text.replace(/-/g,"- ");t.__lines=(n?n.match(i)?n.trim().split(i):Po(n,10):[]).map((function(t){return t.replace(/- /g,"-")})),"t"===t.align.split("")[0]&&t.__lines.reverse()})),h.attr("transform",(function(t){var n=t.align.split(""),e=s(n,2),o=e[0],i=e[1],a=jl(r,"vis.d3-maps-core.places.".concat(t.type,".label.translateX"),0),u=jl(r,"vis.d3-maps-core.places.".concat(t.type,".label.translateY"),0),c=(t.symbolSize+a)*{l:1,c:0,r:-1}[i],l=(t.fontSize+t.symbolSize+u)*{t:-1,m:0,b:1}[o];return"translate(".concat(c,",").concat(l,")")})),c.selectAll("text").style("text-anchor",(function(t){return{l:"end",c:"middle",r:"start"}[t.align.split("")[1]]})),n.g.selectAll("tspan").remove(),c.selectAll("text").tspans((function(t){return t.__lines}),(function(t){var n=t.align;return((t.fontSize||10)+4)*{t:-1,m:1,b:1}[n.split("")[0]]}))}}({map:ot,vis:i,theme:c,getZoom:ft})},updateLabelOverlaps:St,clearZoomLayer:function(){nt.forEach((function(t){return t.g.remove()})),nt.length=0},addZoomLayer:function(t,n,e){et[t]={g:n,feat:e},nt.push(et[t])},updateZoomLayerSelection:function(t,n){et[t].feat=n},onZoom:function(t){tt=t},setBottomMargin:function(t){return h=t,gt(i.size()),ot},setUserPadding:function(t){return f=t,gt(i.size()),ot},zoomVisRegions:function(){H=ot.getVisRegions(),k(I,q,H),gt(i.size())},getVisRegions:function(){return{type:"FeatureCollection",features:H.features.filter((function(t){return!ot.hasNoData(t)}))}},hasNoData:function(t){return!t.data||void 0===t.data[u.values]||null===t.data[u.values]||"null"===t.data[u.values]||"-"===t.data[u.values]},setThemeStyles:function(t,n){ot.regionFill=Gp({theme:t,type:i.meta.id,layers:m?z:N,forceSVG:m,cm:n}),ot.darkMapBackground=E(ot.regionFill),ot.darkThemeBackground=E(S()),b.classed("color-invert",ot.darkThemeBackground)},sizeTooltip:_t(a),resizeMap:gt,fixZoom:bt,zoomBehavior:!1,regionFill:rt,darkMapBackground:E(rt),darkThemeBackground:E(S())};_&&st();var it=b.select(".map-outer").append("div.annotations"),at=xt(),ut="";At(it);var lt=Uf(ot.renderPlaces,100);t&&at&&t.$on("update",(function(){var t=at.get().editorState,n=JSON.stringify(jl(t,"selectedAnnotationProps",""));jl(t,"selectedTextAnnotations",[]).length&&n!==ut&&lt(),ut=n}));function st(){!function(t){var n=t.context,e=t.getZoom,r=t.proj,o=t.mapProj,i=t.width,a=t.height,u=t.canvasScale,c=t.canvasLayers,l=t.theme,s=e(),f=["vis.d3-maps-symbols.labels.clusters","typography.chart"],h=[jl(l,"".concat(f[0],".fontWeight"),jl(l,"".concat(f[1],".fontWeight"),400)),jl(l,"".concat(f[0],".fontSize"),jl(l,"".concat(f[1],".fontSize"),14))/s.k+"px",jl(l,"".concat(f[0],".typeface"),jl(l,"".concat(f[1],".typeface"),"sans-serif"))].filter((function(t){return t})).join(" "),p=_c(r,n);n.clearRect(0,0,i*u,a*u),n.lineJoin="round",n.lineCap="round",n.save(),n.scale(u,u),n.translate(s.x,s.y),n.scale(s.k,s.k),c.forEach((function(t){var e=t.features.filter((function(t){return!t.__hidden}));n.globalCompositeOperation=t.blendMode||"source-over",e.forEach((function(e){n.beginPath();var i="function"==typeof t.style?t.style(e):t.style,a="Feature"===e.type?e.geometry:e;if(a){if("Point"===a.type){var u;if(e.properties.__projCache?u=e.properties.__projCache:e.properties.__projCache=u=o(e.geometry.coordinates),!u)return;var c=r(u);n.save(),n.translate(c[0],c[1]);var l=void 0!==e.properties.__r?e.properties.__r:1;if(e.properties.__symbol){switch(e.properties.__symbolProps.scale){case"y":n.scale(2.5/s.k,l/s.k);break;case"area":default:n.scale(l/s.k,l/s.k)}e.properties.__symbol(n),e.properties.__symbolProps.fill&&n.closePath()}n.restore()}else p(e);n.strokeStyle=i.stroke?i.stroke:null,i.fill&&(n.fillStyle=i.fill,n.fill()),i.stroke&&(n.lineWidth=(i.lineWidth||1)/s.k,n.strokeStyle=i.stroke,n.setLineDash(i.dash?i.dash.map((function(t){return t/s.k})):[]),n.stroke())}})),n.globalCompositeOperation="source-over",n.font=h,n.textAlign="center",n.textBaseline="middle",e.forEach((function(e){var o="Feature"===e.type?e.geometry:e;if(o&&"Point"===o.type&&e.properties.__label){var i="function"==typeof t.style?t.style(e):t.style;n.fillStyle=i.labelFill||"#000000";var a=e.properties.__projCache;if(!a)return;var u=r(a);if(n.save(),"marker"===e.properties.__symbolProps.id){var c=.85*(void 0!==e.properties.__r?e.properties.__r:1)/s.k;n.translate(u[0],u[1]-c)}else n.translate(u[0],u[1]);n.fillText(e.properties.__label,0,0),n.restore()}}))})),n.restore(),r.log()}({context:$,getZoom:ft,proj:I,mapProj:F,width:p,height:d,canvasScale:x,canvasLayers:N,theme:c})}function ft(){return ot&&void 0!==ot.zoomBehavior&&!1!==ot.zoomBehavior?co(w.node()):uo}if(i.get("zoomable",!1)){ot.zoomBehavior=yo().scaleExtent([1,r.maxZoom]).extent(A(I,q,D).extent).translateExtent(A(I,q,D).extent).filter((function(){var t="wheel"===ct.type&&!ct.ctrlKey,n=ct.touches&&1===ct.touches.length;return!ct.button&&!t&&!n})).on("zoom",mt),w.call(ot.zoomBehavior).style("touch-action","auto");var ht={in:"M1,5 h4 v-4 h2 v4 h4 v2 h-4 v4 h-2 v-4 h-4 v-2 Z",out:"M1,5 h10 v2 h-10 v-2 Z",home:"M0,2h2v-2h2v4h-4v-2Z M0,8h4v4h-2v-2h-2v-2z M8,0h2v2h2v2h-4v-4z M8,8h4v2h-2v2h-2v-4z"},pt=i.get("zoom-button-pos","br");b.select(".map-outer").append("div.zoom-buttons.zoom-buttons-".concat(pt)).selectAll(".zoom-btn").data("b"===pt.charAt(0)?["home","in","out"]:["in","out","home"]).enter().append("button").attr("class",(function(t){return"zoom-btn zoom-btn-".concat(t)})).on("click",yt).append("svg").at({width:12,height:12}).append("path").attr("d",(function(t){return ht[t]}));var dt=!1;b.on("keypress",(function(){if(!dt&&ct.target.classList.contains("zoom-btn")&&(" "===ct.key||"Enter"===ct.key)){var t=b.append("div").st({position:"absolute",left:0,right:0,top:0,fontSize:15,textAlign:"center",padding:"10px 40px",zIndex:9,background:"rgba(255,255,255,0.8)",color:"black"}).html("Hint: you can use the <tt>w</tt>,<tt>a</tt>,<tt>s</tt>,<tt>d</tt> keys to pan around the map");setTimeout((function(){t.remove()}),1e4),dt=!0}if("wasd".includes(ct.key)){var n=ft();if(n.k>1){var e="a"===ct.key?100:"d"===ct.key?-100:0,r="w"===ct.key?100:"s"===ct.key?-100:0;ot.zoomBehavior.translateBy(w,e/n.k,r/n.k)}}}))}function gt(e){if(g=+i.get("max-map-height",650),i.size(e[0],e[1]),p=e[0],d=e[1]-h,v){var r=n.querySelector(".annotation-keys:not(.hide)"),o=r&&r.clientHeight>0?r.clientHeight+0:0,a=n.querySelector(".map-key-mt,.map-key-mb"),u=a&&a.clientHeight>0?a.clientHeight+5:0;d-=u+o}if(d=k(I,q,H),ot.zoomBehavior&&ot.zoomBehavior.extent(A(I,q,D).extent).translateExtent(A(I,q,D).extent),_?st():w.selectAll("path.geo").attr("d",(function(t){return G(t)})),w.at({width:p,height:d}),_&&_.at({width:p*x,height:d*x}).st({width:p,height:d}),U.attr("width",p).attr("height",d),ot.sizeTooltip=_t(e),_?ot.data.forEach((function(t){t.anchor=wt(t)})):K.selectAll("g.region").each((function(t){return t.anchor=wt(t)})),t){var c=Mt(),l=kt();t.$set({dataToPx:c,pxToData:l,visWidth:p,theme:i.theme()})}bt()}return o(ot);function vt(t,n,e){return Math.max(n,Math.min(e,t))}function mt(){var n=ct.transform;if(b.classed("d3-maps-zoomed-in",n.k>1),bt(),t){var e=Mt(),r=kt();t.$set({dataToPx:e,pxToData:r})}tt&&tt(n.k,[n.x,n.y])}function yt(t){if("home"===t)ot.zoomBehavior.transform(w.transition().duration(750),uo);else{var n=vt(ft().k*Math.pow(2,+("in"===t?1:-1)),1,r.maxZoom);Math.abs(n-1)<1e-4?ot.zoomBehavior.transform(w.transition().duration(750),uo):ot.zoomBehavior.scaleTo(w.transition().duration(750),n)}}function bt(){var t=ft(),n=ot.scale=t.k;_&&I.areaThreshold(n===r.maxZoom?0:1/Math.pow(n,1.5)/Math.pow(Math.min(600,p)/600,2));var e=(.45+.25*Math.pow(Math.min(1,n-1),.5))/n,o=z.filter((function(t){return"border"===t.type}));_&&st(),X.attr("transform",t),o.forEach((function(t){var n=t.id,o=t.selection,i=t.style;if((r[n]||"outlines"===n)&&o.style("stroke-width",e*i.lineWidth+"px"),i.strokeDasharray){var a=i.strokeDasharray.split(",").map((function(t){return Number(t)*e}));o.style("stroke-dasharray",a.join(","))}}));for(var i=nt.length,a=0;a<i;a++)nt[a].feat.attr("transform",u);function u(t){return"translate("+t.anchor+") scale("+1/n+")"}}function wt(t){if(void 0===t.properties.cx||void 0===t.properties.cy)return G.centroid(t);var n=F([t.properties.cx,t.properties.cy]);return n?I(n):G.centroid(t)}function _t(t){var n="rtl"===i.textDirection;return function(e,r,o){if(t[0]<400){var a=e[1]/t[1],u=!0===i.__chart.get("metadata.describe.hide-title")||""===i.__chart.get("metadata.describe.intro")&&""===i.__chart.get("title");o.st({top:a<.5?"auto":u?"0px":"-20px",bottom:a<.5?"20px":"auto",left:0,right:0,"max-width":"100%","max-height":.45*t[1]+"px"})}else{var c=o.property("offsetWidth"),l=o.property("offsetHeight"),s=r.offsetWidth,f=r.offsetHeight,h=n?e[0]-c-10<0:e[0]+10+c<s,p=e[1]+10+l<f;o.st({top:p?e[1]-10+"px":"auto",bottom:p?"auto":Math.min(f-l,f-e[1]+10)+"px",left:h?e[0]+10+"px":"auto",right:h?"auto":s-e[0]+10+"px","max-height":.55*t[1]+"px"}),o.style("max-width",null)}}}function xt(){if(i.chart().inEditor()){var t=window.parent.dw.backend.hooks.call("get-annotation-controls").results;if(t&&t.length)return window.__registerAnnotationControls=void 0,t[t.length-1];window.__registerAnnotationControls=function(t){window.__annotationLayer.$set({editMode:!0}),t.syncAnnotationLayer(window.__annotationLayer)}}return null}function Mt(){var t;return function(n,e){var r=t||[20,20];if(Math.abs(n)>180||Math.abs(e)>90)return r;var o=F([n,e]);if(!o)return r;var i=s(o,2),a=i[0],u=i[1],c=I([a,u]),l=s(c,2),f=l[0],h=l[1],p=ft().apply([f,h]),d=s(p,2),g=d[0],v=d[1];return t=[g,v].map((function(t){return+t.toFixed(1)}))}}function kt(){return function(t,n){var e=ft().invert([t,n]),r=s(e,2),o=r[0],i=r[1],a=I.invert([o,i]),u=s(a,2),c=u[0],l=u[1];return F.invert([c,l])}}function At(n){var e=i.chart().inEditor(),r=e&&xt(),o=$l(i.get("text-annotations",[]));if(!o.length&&!e)return!1;var a=Mt(),u=kt(),c=b.append("div.annotation-keys");if(t)try{t.$destroy()}catch(t){console.warn("Annotation layer not destroyed, error caught to prevent issue in IE")}return t=new Nl({target:n.node(),props:{textAnnotations:o,dataToPx:a,pxToData:u,theme:i.theme(),cm:i.colorMap(),visWidth:p,annotationKeysSel:c,rtl:"rtl"===i.textDirection}}),r&&(t.$set({editMode:!0}),r.syncAnnotationLayer(t),X.on("mousedown",(function(){var t=r.get().editorState;t.selectedTextAnnotations=[],r.set({editorState:t})}))),t}function St(t,n){var e=ft(),r=!1;if(i.get("avoid-label-overlap",!0)||"column"!==i.get("labels.type","places")){var o=[],a=i.__chart.getElementBounds(ot.svg.node()),u=b.selectAll(".text-annotation .text"),c=2;return u.each((function(){var t=i.__chart.getElementBounds(this),n=t.top-a.top-c,e=t.bottom-a.top+c,r=t.left-a.left-c,u=t.right-a.left+c;o.push({t:n,l:r,b:e,r:u})})),t.selectAll(n).each((function(t){var n=i.__chart.getElementBounds(this),o=l(n,t);if(o&&("point"===t.type||"capital"===t.type)&&"places"===i.get("labels.type","places")&&1===e.k){var u=$l(n),c=t.anchor,s=t.symbolSize;Lh(["tr","br","bl","tl"]).forEach((function(n){if(o){switch(n){case"tr":u.left=c[0]-s,u.right=c[0]+u.width-s,u.top=c[1]-u.height+a.top+2*s,u.bottom=c[1]+a.top;break;case"tl":u.left=c[0]-u.width+s,u.right=c[0]+s,u.top=c[1]-u.height+a.top+2*s,u.bottom=c[1]+a.top;break;case"bl":u.left=c[0]-u.width+s,u.right=c[0]+s,u.top=c[1]+a.top,u.bottom=c[1]+u.height+a.top-2*s;break;case"br":u.left=c[0]-s,u.right=c[0]+u.width-s,u.top=c[1]+a.top,u.bottom=c[1]+u.height+a.top-2*s}l(u,t)||(t.align=n,r=!0,o=!1)}}))}t._visible=!o})),{alignmentChanged:r}}function l(t,n){var r=t.top-a.top-c,i=t.bottom-a.top+c,u=t.left-a.left-c,l=t.right-a.left+c,s=!1;return(u<0||r<0||i>a.height||l>a.width)&&1===e.k&&(s=!0),s||o.forEach((function(t){r>t.b||l<t.l||i<t.t||u>t.r||n!==t.data&&(s=!0)})),s||o.push({t:r,l:u,b:i,r:l,data:n}),s}}}(l.content,l.meta,b,M,_,x)}else setTimeout((function(){return location.reload()}),2e3);function k(t,n,e){var r=A(t,n,e),o=r.extent,i=r.h;return t.fitExtent(o,e),i||d}function A(t,n,e){var r=function(t,n,e,r){var o=Math.round(t*e/2)+(r||0),i=Math.round(n*e/2)+(r||0);return{left:o,right:o,top:i,bottom:i}}(p,d,f,n),o=i.get("map-align","center"),a=(p||50)-r.left-r.right,u=(v?d||50:g)-r.top-r.bottom,c=_c().projection(t).bounds(e),l=function(t,n,e,r){var o=t/n;return o>e/r?[e,Math.round(e/o)]:[r*o,r]}(c[1][0]-c[0][0],c[1][1]-c[0][1],a,u),h=s(l,2),m=h[0],y=h[1],b=v?u:y,w=Zp(m,a,o),_=Zp(y,b,"center"),x=[r.left+w,r.top+_];return{extent:[x,[x[0]+m,x[1]+y]],h:b+r.top+r.bottom}}function S(){return i.theme().colors.background}function E(t){return zn(t).l<50}},_svgCanvas:function(){return this.svg},getFormat:function(t,n,e){if(!n)return bf;var r=this,o=r.get(t,e),i=o.indexOf("%")>-1,a=r.libraries().numeral,u="number"===n.type()?function(t){return a(i?.01*t:t).format((n=o,e={f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".1s":"0a",".2s":"0.0a",".3s":"0.00a"},Object.prototype.hasOwnProperty.call(e,n)?e[n]:n));var n,e}:"date"===n.type()?function(n){return moment(n).format(r.get(t)||"YYYY")}:bf;return function(t){return"date"===n.type()?fs(t)?u(t):t:u(t)}},getColorScale:function(t){var n=this,e=n.dataset,r=n.axes(!0).values,o=r.type(),i=n.get(t+".colors",function(t){var n=[{c:"#fff",p:0},{c:"#000",p:1}],e=t.theme(),r=e.colors?e.colors.gradients:null;if(!r)return n;var o=r[0];return!o||!ls(o[0])||o.length<2?n:o.map((function(t,n){return{c:t,p:n/(o.length-1)}}))}(n)),a=n.get(t+".stops",function(t,n){var e=[{p:0,v:0},{p:1,v:1}],r=n.name();if(!r)return e;var o=t.column(r).range();return o?[{p:0,v:o[0]},{p:1,v:o[1]}]:e}(e,r));if(window.ds=e,"number"===o){var u=Ye().range(a.map($o("p"))).domain(a.map($o("v"))),c=Ye().clamp(!0).domain(i.map($o("p"))).range(i.map($o("c")));return $o(u,c)}var l=Lh(r.values()).filter(bf);return i=n.__categoryColors=function(t,n,e){var r=Bt(t),o=[].concat(e.colors.palette).concat(e.colors.secondary).filter((function(t){return r.indexOf(t)<0})),i=Object.assign({},t);return n.forEach((function(t){if(!i[t]){var n=o.shift();i[t]=n}})),i}(n.get("categories",{}),l,n.theme()),Yt().domain(function(t){var n=[];for(var e in t)n.push(e);return n}(i)).range(Bt(i))}}}));var cd=id.prototype=ad.prototype;function ld(t,n){for(var e,r,o=t.length,i=t[o-1],a=n[0],u=n[1],c=i[0],l=i[1],s=!1,f=0;f<o;++f)e=(i=t[f])[0],(r=i[1])>u!=l>u&&a<(c-e)*(u-r)/(l-r)+e&&(s=!s),c=e,l=r;return s}function sd(t){return t.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/-/g,"_").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(and|or|in|true|false)$/,"$1_")}function fd(t,n){var e=_c();t.forEach((function(t){void 0!==t.properties.cx&&void 0!==t.properties.cy&&(t.properties.__centroid=n([t.properties.cx,t.properties.cy])),t.properties.__centroid&&void 0!==t.properties.__centroid[0]||(t.properties.__centroid=e.centroid(t)),t.properties.__bbox=e.bounds(t)}));var r=id(t,(function(t){return t.properties.__centroid[0]}),(function(t){return t.properties.__centroid[1]}));return function(t){var n=r.copy(),e=n.find(t[0],t[1]);if(e){for(var o=300;n.size()&&!i(e)&&--o>0;)n.remove(e),e=n.find(t[0],t[1]);if(o&&n.size())return e}function i(n){if(!n)return!1;var e=n.properties.__bbox;return t[0]>=e[0][0]&&t[0]<=e[1][0]&&t[1]>=e[0][1]&&t[1]<=e[1][1]&&function(t,n){if("MultiPolygon"===t.geometry.type||"Polygon"===t.geometry.type){for(var e="MultiPolygon"===t.geometry.type?t.geometry.coordinates:[t.geometry.coordinates],r=0;r<e.length;r++)for(var o=e[r],i=0;i<o.length;i++){if(ld(o[i],n))return!0}return!1}console.warn(t.geometry.type,"is not supported")}(n,t)}}}function hd(t){return"<div class=\"tooltip-warning\"'>Woops! There's an error in your tooltip formula: ".concat(t.message,"</div>")}function pd(t,n,e){return fs(n)?Sl(n).format(e):qp(t,+n,{format:e})}cd.copy=function(){var t,n,e=new ad(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=ud(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var o=0;o<4;++o)(n=r.source[o])&&(n.length?t.push({source:n,target:r.target[o]=new Array(4)}):r.target[o]=ud(n));return e},cd.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return nd(this.cover(n,e),n,e,t)},cd.addAll=function(t){var n,e,r,o,i=t.length,a=new Array(i),u=new Array(i),c=1/0,l=1/0,s=-1/0,f=-1/0;for(e=0;e<i;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(o=+this._y.call(null,n))||(a[e]=r,u[e]=o,r<c&&(c=r),r>s&&(s=r),o<l&&(l=o),o>f&&(f=o));if(c>s||l>f)return this;for(this.cover(c,l).cover(s,f),e=0;e<i;++e)nd(this,a[e],u[e],t[e]);return this},cd.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(e))o=(e=Math.floor(t))+1,i=(r=Math.floor(n))+1;else{for(var a,u,c=o-e,l=this._root;e>t||t>=o||r>n||n>=i;)switch(u=(n<r)<<1|t<e,(a=new Array(4))[u]=l,l=a,c*=2,u){case 0:o=e+c,i=r+c;break;case 1:e=o-c,i=r+c;break;case 2:o=e+c,r=i-c;break;case 3:e=o-c,r=i-c}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=r,this._x1=o,this._y1=i,this},cd.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},cd.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},cd.find=function(t,n,e){var r,o,i,a,u,c,l,s=this._x0,f=this._y0,h=this._x1,p=this._y1,d=[],g=this._root;for(g&&d.push(new ed(g,s,f,h,p)),null==e?e=1/0:(s=t-e,f=n-e,h=t+e,p=n+e,e*=e);c=d.pop();)if(!(!(g=c.node)||(o=c.x0)>h||(i=c.y0)>p||(a=c.x1)<s||(u=c.y1)<f))if(g.length){var v=(o+a)/2,m=(i+u)/2;d.push(new ed(g[3],v,m,a,u),new ed(g[2],o,m,v,u),new ed(g[1],v,i,a,m),new ed(g[0],o,i,v,m)),(l=(n>=m)<<1|t>=v)&&(c=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=c)}else{var y=t-+this._x.call(null,g.data),b=n-+this._y.call(null,g.data),w=y*y+b*b;if(w<e){var _=Math.sqrt(e=w);s=t-_,f=n-_,h=t+_,p=n+_,r=g.data}}return r},cd.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,o,i,a,u,c,l,s,f,h,p=this._root,d=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!p)return this;if(p.length)for(;;){if((l=i>=(u=(d+v)/2))?d=u:v=u,(s=a>=(c=(g+m)/2))?g=c:m=c,n=p,!(p=p[f=s<<1|l]))return this;if(!p.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(o=p.next)&&delete p.next,r?(o?r.next=o:delete r.next,this):n?(o?n[f]=o:delete n[f],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[h]=p:this._root=p),this):(this._root=o,this)},cd.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},cd.root=function(){return this._root},cd.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},cd.visit=function(t){var n,e,r,o,i,a,u=[],c=this._root;for(c&&u.push(new ed(c,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(c=n.node,r=n.x0,o=n.y0,i=n.x1,a=n.y1)&&c.length){var l=(r+i)/2,s=(o+a)/2;(e=c[3])&&u.push(new ed(e,l,s,i,a)),(e=c[2])&&u.push(new ed(e,r,s,l,a)),(e=c[1])&&u.push(new ed(e,l,o,i,s)),(e=c[0])&&u.push(new ed(e,r,o,l,s))}return this},cd.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new ed(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var o=n.node;if(o.length){var i,a=n.x0,u=n.y0,c=n.x1,l=n.y1,s=(a+c)/2,f=(u+l)/2;(i=o[0])&&e.push(new ed(i,a,u,s,f)),(i=o[1])&&e.push(new ed(i,s,u,c,f)),(i=o[2])&&e.push(new ed(i,a,f,s,l)),(i=o[3])&&e.push(new ed(i,s,f,c,l))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},cd.x=function(t){return arguments.length?(this._x=t,this):this._x},cd.y=function(t){return arguments.length?(this._y=t,this):this._y};var dd=e((function(t){t.exports=function(t){if(Array.isArray(t))return u(t)},t.exports.default=t.exports,t.exports.__esModule=!0})),gd=e((function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0})),vd=e((function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0})),md=n(e((function(t){t.exports=function(t){return dd(t)||gd(t)||c(t)||vd()},t.exports.default=t.exports,t.exports.__esModule=!0})));function yd(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function bd(t){var n=t,e=t;function r(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r}return 1===t.length&&(n=function(n,e){return t(n)-e},e=function(t){return function(n,e){return yd(t(n),e)}}(t)),{left:r,center:function(t,e,o,i){null==o&&(o=0),null==i&&(i=t.length);var a=r(t,e,o,i-1);return a>o&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}}e((function(t){var n=function(t){var n,e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{c({},"")}catch(t){c=function(t,n,e){return t[n]=e}}function l(t,n,e,r){var o=n&&n.prototype instanceof v?n:v,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(t,n,e){var r=f;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return $()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var u=A(a,e);if(u){if(u===g)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===f)throw r=d,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=p;var c=s(t,n,e);if("normal"===c.type){if(r=e.done?d:h,c.arg===g)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r=d,e.method="throw",e.arg=c.arg)}}}(t,e,a),i}function s(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",g={};function v(){}function m(){}function y(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(j([])));_&&_!==e&&r.call(_,i)&&(b=_);var x=y.prototype=v.prototype=Object.create(b);function M(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function k(t,n){function e(o,i,a,u){var c=s(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"===Ht(f)&&r.call(f,"__await")?n.resolve(f.__await).then((function(t){e("next",t,a,u)}),(function(t){e("throw",t,a,u)})):n.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return e("throw",t,a,u)}))}u(c.arg)}var o;this._invoke=function(t,r){function i(){return new n((function(n,o){e(t,r,n,o)}))}return o=o?o.then(i,i):i()}}function A(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,A(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=s(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,g;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function S(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function E(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(r.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:$}}function $(){return{value:n,done:!0}}return m.prototype=x.constructor=y,y.constructor=m,m.displayName=c(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},M(k.prototype),k.prototype[a]=function(){return this},t.AsyncIterator=k,t.async=function(n,e,r,o,i){void 0===i&&(i=Promise);var a=new k(l(n,e,r,o),i);return t.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},M(x),c(x,u,"Generator"),x[i]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(r,o){return u.type="throw",u.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),E(e),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;E(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),g}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}}));function wd(t){return null===t?NaN:+t}var _d=bd(yd).right,xd=(bd(wd).center,Math.sqrt(50)),Md=Math.sqrt(10),kd=Math.sqrt(2);function Ad(t,n,e){var r,o,i,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(o=t,t=n,n=o),0===(a=Sd(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),i=new Array(o=Math.ceil(n-t+1));++u<o;)i[u]=(t+u)*a;else for(a=-a,t=Math.ceil(t*a),n=Math.floor(n*a),i=new Array(o=Math.ceil(n-t+1));++u<o;)i[u]=(t+u)/a;return r&&i.reverse(),i}function Sd(t,n,e){var r=(n-t)/Math.max(0,e),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=xd?10:i>=Md?5:i>=kd?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=xd?10:i>=Md?5:i>=kd?2:1)}function Ed(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wd;if(r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,o=(r-1)*n,i=Math.floor(o),a=+e(t[i],i,t),u=+e(t[i+1],i+1,t);return a+(u-a)*(o-i)}}function Od(t,n,e){t=+t,n=+n,e=(o=arguments.length)<2?(n=t,t=0,1):o<3?1:+e;for(var r=-1,o=0|Math.max(0,Math.ceil((n-t)/e)),i=new Array(o);++r<o;)i[r]=t+r*e;return i}function jd(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function $d(t){return+t}var Nd=[0,1];function zd(t){return t}function Pd(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Ld(t,n,e){var r=t[0],o=t[1],i=n[0],a=n[1];return o<r?(r=Pd(o,r),i=e(a,i)):(r=Pd(r,o),i=e(i,a)),function(t){return i(r(t))}}function Td(t,n,e){var r=Math.min(t.length,n.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)o[a]=Pd(t[a],t[a+1]),i[a]=e(n[a],n[a+1]);return function(n){var e=_d(t,n,1,r)-1;return i[e](o[e](n))}}function Dd(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Cd(){var t,n,e,r,o,i,a=Nd,u=Nd,c=Qn,l=zd;function s(){var t=Math.min(a.length,u.length);return l!==zd&&(l=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(a[0],a[t-1])),r=t>2?Td:Ld,o=i=null,f}function f(n){return isNaN(n=+n)?e:(o||(o=r(a.map(t),u,c)))(t(l(n)))}return f.invert=function(e){return l(n((i||(i=r(u,a.map(t),Un)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,$d),s()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),s()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),c=te,s()},f.clamp=function(t){return arguments.length?(l=!!t||zd,s()):l!==zd},f.interpolate=function(t){return arguments.length?(c=t,s()):c},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,s()}}function Rd(){return Cd()(zd,zd)}function Bd(t,n,e,r){var o,i=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=xd?o*=10:i>=Md?o*=5:i>=kd&&(o*=2),n<t?-o:o}(t,n,e);switch((r=Oe(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(o=qe(i,a))||(r.precision=o),Te(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=Fe(i,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=Be(i))||(r.precision=o-2*("%"===r.type))}return Le(r)}function qd(t){var n=t.domain;return t.ticks=function(t){var e=n();return Ad(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Bd(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,o,i=n(),a=0,u=i.length-1,c=i[a],l=i[u],s=10;for(l<c&&(o=c,c=l,l=o,o=a,a=u,u=o);s-- >0;){if((o=Sd(c,l,e))===r)return i[a]=c,i[u]=l,n(i);if(o>0)c=Math.floor(c/o)*o,l=Math.ceil(l/o)*o;else{if(!(o<0))break;c=Math.ceil(c*o)/o,l=Math.floor(l*o)/o}r=o}return t},t}function Fd(){var t=Rd();return t.copy=function(){return Dd(t,Fd())},jd.apply(t,arguments),qd(t)}function Wd(){var t,n=[.5],e=[0,1],r=1;function o(o){return o<=o?e[_d(n,o,0,r)]:t}return o.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),o):n.slice()},o.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),o):e.slice()},o.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},o.unknown=function(n){return arguments.length?(t=n,o):t},o.copy=function(){return Wd().domain(n).range(e).unknown(t)},jd.apply(o,arguments)}var Id,Yd=function(t){if(!np(t))return!1;var n=bp(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n},Hd=op["__core-js_shared__"],Gd=(Id=/[^.]+$/.exec(Hd&&Hd.keys&&Hd.keys.IE_PROTO||""))?"Symbol(src)_1."+Id:"";var Xd=function(t){return!!Gd&&Gd in t},Ud=Function.prototype.toString;var Vd=function(t){if(null!=t){try{return Ud.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Zd=/^\[object .+?Constructor\]$/,Kd=Function.prototype,Jd=Object.prototype,Qd=Kd.toString,tg=Jd.hasOwnProperty,ng=RegExp("^"+Qd.call(tg).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var eg=function(t){return!(!np(t)||Xd(t))&&(Yd(t)?ng:Zd).test(Vd(t))};var rg=function(t,n){return null==t?void 0:t[n]};var og=function(t,n){var e=rg(t,n);return eg(e)?e:void 0},ig=function(){try{var t=og(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var ag=function(t,n,e){"__proto__"==n&&ig?ig(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e};var ug=function(t,n,e,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];n(r,a,e(a),t)}return r};var cg=function(t){return function(n,e,r){for(var o=-1,i=Object(n),a=r(n),u=a.length;u--;){var c=a[t?u:++o];if(!1===e(i[c],c,i))break}return n}}();var lg=function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r};var sg=function(t){return wp(t)&&"[object Arguments]"==bp(t)},fg=Object.prototype,hg=fg.hasOwnProperty,pg=fg.propertyIsEnumerable,dg=sg(function(){return arguments}())?sg:function(t){return wp(t)&&hg.call(t,"callee")&&!pg.call(t,"callee")},gg=Array.isArray;var vg=function(){return!1},mg=e((function(t,n){var e=n&&!n.nodeType&&n,r=e&&t&&!t.nodeType&&t,o=r&&r.exports===e?op.Buffer:void 0,i=(o?o.isBuffer:void 0)||vg;t.exports=i})),yg=/^(?:0|[1-9]\d*)$/;var bg=function(t,n){var e=Ht(t);return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&yg.test(t))&&t>-1&&t%1==0&&t<n};var wg=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},_g={};_g["[object Float32Array]"]=_g["[object Float64Array]"]=_g["[object Int8Array]"]=_g["[object Int16Array]"]=_g["[object Int32Array]"]=_g["[object Uint8Array]"]=_g["[object Uint8ClampedArray]"]=_g["[object Uint16Array]"]=_g["[object Uint32Array]"]=!0,_g["[object Arguments]"]=_g["[object Array]"]=_g["[object ArrayBuffer]"]=_g["[object Boolean]"]=_g["[object DataView]"]=_g["[object Date]"]=_g["[object Error]"]=_g["[object Function]"]=_g["[object Map]"]=_g["[object Number]"]=_g["[object Object]"]=_g["[object RegExp]"]=_g["[object Set]"]=_g["[object String]"]=_g["[object WeakMap]"]=!1;var xg=function(t){return wp(t)&&wg(t.length)&&!!_g[bp(t)]};var Mg=function(t){return function(n){return t(n)}},kg=e((function(t,n){var e=n&&!n.nodeType&&n,r=e&&t&&!t.nodeType&&t,o=r&&r.exports===e&&ep.process,i=function(){try{var t=r&&r.require&&r.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i})),Ag=kg&&kg.isTypedArray,Sg=Ag?Mg(Ag):xg,Eg=Object.prototype.hasOwnProperty;var Og=function(t,n){var e=gg(t),r=!e&&dg(t),o=!e&&!r&&mg(t),i=!e&&!r&&!o&&Sg(t),a=e||r||o||i,u=a?lg(t.length,String):[],c=u.length;for(var l in t)!n&&!Eg.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bg(l,c))||u.push(l);return u},jg=Object.prototype;var $g=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||jg)};var Ng=function(t,n){return function(e){return t(n(e))}}(Object.keys,Object),zg=Object.prototype.hasOwnProperty;var Pg=function(t){if(!$g(t))return Ng(t);var n=[];for(var e in Object(t))zg.call(t,e)&&"constructor"!=e&&n.push(e);return n};var Lg=function(t){return null!=t&&wg(t.length)&&!Yd(t)};var Tg=function(t){return Lg(t)?Og(t):Pg(t)};var Dg=function(t,n){return function(e,r){if(null==e)return e;if(!Lg(e))return t(e,r);for(var o=e.length,i=n?o:-1,a=Object(e);(n?i--:++i<o)&&!1!==r(a[i],i,a););return e}}((function(t,n){return t&&cg(t,n,Tg)}));var Cg=function(t,n,e,r){return Dg(t,(function(t,o,i){n(r,t,e(t),i)})),r};var Rg=function(){this.__data__=[],this.size=0};var Bg=function(t,n){return t===n||t!=t&&n!=n};var qg=function(t,n){for(var e=t.length;e--;)if(Bg(t[e][0],n))return e;return-1},Fg=Array.prototype.splice;var Wg=function(t){var n=this.__data__,e=qg(n,t);return!(e<0)&&(e==n.length-1?n.pop():Fg.call(n,e,1),--this.size,!0)};var Ig=function(t){var n=this.__data__,e=qg(n,t);return e<0?void 0:n[e][1]};var Yg=function(t){return qg(this.__data__,t)>-1};var Hg=function(t,n){var e=this.__data__,r=qg(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this};function Gg(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}Gg.prototype.clear=Rg,Gg.prototype.delete=Wg,Gg.prototype.get=Ig,Gg.prototype.has=Yg,Gg.prototype.set=Hg;var Xg=Gg;var Ug=function(){this.__data__=new Xg,this.size=0};var Vg=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e};var Zg=function(t){return this.__data__.get(t)};var Kg=function(t){return this.__data__.has(t)},Jg=og(op,"Map"),Qg=og(Object,"create");var tv=function(){this.__data__=Qg?Qg(null):{},this.size=0};var nv=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},ev=Object.prototype.hasOwnProperty;var rv=function(t){var n=this.__data__;if(Qg){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return ev.call(n,t)?n[t]:void 0},ov=Object.prototype.hasOwnProperty;var iv=function(t){var n=this.__data__;return Qg?void 0!==n[t]:ov.call(n,t)};var av=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Qg&&void 0===n?"__lodash_hash_undefined__":n,this};function uv(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}uv.prototype.clear=tv,uv.prototype.delete=nv,uv.prototype.get=rv,uv.prototype.has=iv,uv.prototype.set=av;var cv=uv;var lv=function(){this.size=0,this.__data__={hash:new cv,map:new(Jg||Xg),string:new cv}};var sv=function(t){var n=Ht(t);return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t};var fv=function(t,n){var e=t.__data__;return sv(n)?e["string"==typeof n?"string":"hash"]:e.map};var hv=function(t){var n=fv(this,t).delete(t);return this.size-=n?1:0,n};var pv=function(t){return fv(this,t).get(t)};var dv=function(t){return fv(this,t).has(t)};var gv=function(t,n){var e=fv(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this};function vv(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}vv.prototype.clear=lv,vv.prototype.delete=hv,vv.prototype.get=pv,vv.prototype.has=dv,vv.prototype.set=gv;var mv=vv;var yv=function(t,n){var e=this.__data__;if(e instanceof Xg){var r=e.__data__;if(!Jg||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new mv(r)}return e.set(t,n),this.size=e.size,this};function bv(t){var n=this.__data__=new Xg(t);this.size=n.size}bv.prototype.clear=Ug,bv.prototype.delete=Vg,bv.prototype.get=Zg,bv.prototype.has=Kg,bv.prototype.set=yv;var wv=bv;var _v=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var xv=function(t){return this.__data__.has(t)};function Mv(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new mv;++n<e;)this.add(t[n])}Mv.prototype.add=Mv.prototype.push=_v,Mv.prototype.has=xv;var kv=Mv;var Av=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1};var Sv=function(t,n){return t.has(n)};var Ev=function(t,n,e,r,o,i){var a=1&e,u=t.length,c=n.length;if(u!=c&&!(a&&c>u))return!1;var l=i.get(t),s=i.get(n);if(l&&s)return l==n&&s==t;var f=-1,h=!0,p=2&e?new kv:void 0;for(i.set(t,n),i.set(n,t);++f<u;){var d=t[f],g=n[f];if(r)var v=a?r(g,d,f,n,t,i):r(d,g,f,t,n,i);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!Av(n,(function(t,n){if(!Sv(p,n)&&(d===t||o(d,t,e,r,i)))return p.push(n)}))){h=!1;break}}else if(d!==g&&!o(d,g,e,r,i)){h=!1;break}}return i.delete(t),i.delete(n),h},Ov=op.Uint8Array;var jv=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e};var $v=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e},Nv=sp?sp.prototype:void 0,zv=Nv?Nv.valueOf:void 0;var Pv=function(t,n,e,r,o,i,a){switch(e){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!i(new Ov(t),new Ov(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Bg(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var u=jv;case"[object Set]":var c=1&r;if(u||(u=$v),t.size!=n.size&&!c)return!1;var l=a.get(t);if(l)return l==n;r|=2,a.set(t,n);var s=Ev(u(t),u(n),r,o,i,a);return a.delete(t),s;case"[object Symbol]":if(zv)return zv.call(t)==zv.call(n)}return!1};var Lv=function(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t};var Tv=function(t,n,e){var r=n(t);return gg(t)?r:Lv(r,e(t))};var Dv=function(t,n){for(var e=-1,r=null==t?0:t.length,o=0,i=[];++e<r;){var a=t[e];n(a,e,t)&&(i[o++]=a)}return i};var Cv=function(){return[]},Rv=Object.prototype.propertyIsEnumerable,Bv=Object.getOwnPropertySymbols,qv=Bv?function(t){return null==t?[]:(t=Object(t),Dv(Bv(t),(function(n){return Rv.call(t,n)})))}:Cv;var Fv=function(t){return Tv(t,Tg,qv)},Wv=Object.prototype.hasOwnProperty;var Iv=function(t,n,e,r,o,i){var a=1&e,u=Fv(t),c=u.length;if(c!=Fv(n).length&&!a)return!1;for(var l=c;l--;){var s=u[l];if(!(a?s in n:Wv.call(n,s)))return!1}var f=i.get(t),h=i.get(n);if(f&&h)return f==n&&h==t;var p=!0;i.set(t,n),i.set(n,t);for(var d=a;++l<c;){var g=t[s=u[l]],v=n[s];if(r)var m=a?r(v,g,s,n,t,i):r(g,v,s,t,n,i);if(!(void 0===m?g===v||o(g,v,e,r,i):m)){p=!1;break}d||(d="constructor"==s)}if(p&&!d){var y=t.constructor,b=n.constructor;y==b||!("constructor"in t)||!("constructor"in n)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(t),i.delete(n),p},Yv=og(op,"DataView"),Hv=og(op,"Promise"),Gv=og(op,"Set"),Xv=og(op,"WeakMap"),Uv="[object Map]",Vv="[object Promise]",Zv="[object Set]",Kv="[object WeakMap]",Jv="[object DataView]",Qv=Vd(Yv),tm=Vd(Jg),nm=Vd(Hv),em=Vd(Gv),rm=Vd(Xv),om=bp;(Yv&&om(new Yv(new ArrayBuffer(1)))!=Jv||Jg&&om(new Jg)!=Uv||Hv&&om(Hv.resolve())!=Vv||Gv&&om(new Gv)!=Zv||Xv&&om(new Xv)!=Kv)&&(om=function(t){var n=bp(t),e="[object Object]"==n?t.constructor:void 0,r=e?Vd(e):"";if(r)switch(r){case Qv:return Jv;case tm:return Uv;case nm:return Vv;case em:return Zv;case rm:return Kv}return n});var im=om,am="[object Arguments]",um="[object Array]",cm="[object Object]",lm=Object.prototype.hasOwnProperty;var sm=function(t,n,e,r,o,i){var a=gg(t),u=gg(n),c=a?um:im(t),l=u?um:im(n),s=(c=c==am?cm:c)==cm,f=(l=l==am?cm:l)==cm,h=c==l;if(h&&mg(t)){if(!mg(n))return!1;a=!0,s=!1}if(h&&!s)return i||(i=new wv),a||Sg(t)?Ev(t,n,e,r,o,i):Pv(t,n,c,e,r,o,i);if(!(1&e)){var p=s&&lm.call(t,"__wrapped__"),d=f&&lm.call(n,"__wrapped__");if(p||d){var g=p?t.value():t,v=d?n.value():n;return i||(i=new wv),o(g,v,e,r,i)}}return!!h&&(i||(i=new wv),Iv(t,n,e,r,o,i))};var fm=function t(n,e,r,o,i){return n===e||(null==n||null==e||!wp(n)&&!wp(e)?n!=n&&e!=e:sm(n,e,r,o,t,i))};var hm=function(t,n,e,r){var o=e.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var u=e[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=e[o])[0],l=t[c],s=u[1];if(a&&u[2]){if(void 0===l&&!(c in t))return!1}else{var f=new wv;if(r)var h=r(l,s,c,t,n,f);if(!(void 0===h?fm(s,l,3,r,f):h))return!1}}return!0};var pm=function(t){return t==t&&!np(t)};var dm=function(t){for(var n=Tg(t),e=n.length;e--;){var r=n[e],o=t[r];n[e]=[r,o,pm(o)]}return n};var gm=function(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in Object(e)))}};var vm=function(t){var n=dm(t);return 1==n.length&&n[0][2]?gm(n[0][0],n[0][1]):function(e){return e===t||hm(e,t,n)}},mm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ym=/^\w*$/;var bm=function(t,n){if(gg(t))return!1;var e=Ht(t);return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!_p(t))||(ym.test(t)||!mm.test(t)||null!=n&&t in Object(n))};function wm(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var e=function e(){var r=arguments,o=n?n.apply(this,r):r[0],i=e.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return e.cache=i.set(o,a)||i,a};return e.cache=new(wm.Cache||mv),e}wm.Cache=mv;var _m=wm;var xm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mm=/\\(\\)?/g,km=function(t){var n=_m(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(xm,(function(t,e,r,o){n.push(r?o.replace(Mm,"$1"):e||t)})),n}));var Am=function(t,n){for(var e=-1,r=null==t?0:t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o},Sm=sp?sp.prototype:void 0,Em=Sm?Sm.toString:void 0;var Om=function t(n){if("string"==typeof n)return n;if(gg(n))return Am(n,t)+"";if(_p(n))return Em?Em.call(n):"";var e=n+"";return"0"==e&&1/n==-Infinity?"-0":e};var jm=function(t){return null==t?"":Om(t)};var $m=function(t,n){return gg(t)?t:bm(t,n)?[t]:km(jm(t))};var Nm=function(t){if("string"==typeof t||_p(t))return t;var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var zm=function(t,n){for(var e=0,r=(n=$m(n,t)).length;null!=t&&e<r;)t=t[Nm(n[e++])];return e&&e==r?t:void 0};var Pm=function(t,n,e){var r=null==t?void 0:zm(t,n);return void 0===r?e:r};var Lm=function(t,n){return null!=t&&n in Object(t)};var Tm=function(t,n,e){for(var r=-1,o=(n=$m(n,t)).length,i=!1;++r<o;){var a=Nm(n[r]);if(!(i=null!=t&&e(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&wg(o)&&bg(a,o)&&(gg(t)||dg(t))};var Dm=function(t,n){return null!=t&&Tm(t,n,Lm)};var Cm=function(t,n){return bm(t)&&pm(n)?gm(Nm(t),n):function(e){var r=Pm(e,t);return void 0===r&&r===n?Dm(e,t):fm(n,r,3)}};var Rm=function(t){return t};var Bm=function(t){return function(n){return null==n?void 0:n[t]}};var qm=function(t){return function(n){return zm(n,t)}};var Fm=function(t){return bm(t)?Bm(Nm(t)):qm(t)};var Wm=function(t){return"function"==typeof t?t:null==t?Rm:"object"==Ht(t)?gg(t)?Cm(t[0],t[1]):vm(t):Fm(t)};var Im=function(t,n){return function(e,r){var o=gg(e)?ug:Cg,i=n?n():{};return o(e,t,Wm(r),i)}},Ym=Object.prototype.hasOwnProperty,Hm=Im((function(t,n,e){Ym.call(t,e)?++t[e]:ag(t,e,1)}));function Gm(t){if(!t||"object"!==Ht(t))return t;try{return JSON.parse(JSON.stringify(t))}catch(n){return t}}var Xm={values:[],margins:null,mode:"continuous",rangeMin:null,rangeCenter:null,rangeMax:null,colors:[{color:"#ffffff",position:0},{color:"#000000",position:1}],stops:"equidistant",customStops:[],stopCount:5,palette:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],fallback:"#eeeeee",map:{}};var Um=function(t,n,e,r){for(var o=t.length,i=e+(r?1:-1);r?i--:++i<o;)if(n(t[i],i,t))return i;return-1};var Vm=function(t){return t!=t};var Zm=function(t,n,e){for(var r=e-1,o=t.length;++r<o;)if(t[r]===n)return r;return-1};var Km=function(t,n,e){return n==n?Zm(t,n,e):Um(t,Vm,e)};var Jm=function(t,n){return!!(null==t?0:t.length)&&Km(t,n,0)>-1};var Qm=function(t,n,e){for(var r=-1,o=null==t?0:t.length;++r<o;)if(e(n,t[r]))return!0;return!1};var ty=function(){},ny=Gv&&1/$v(new Gv([,-0]))[1]==1/0?function(t){return new Gv(t)}:ty;var ey=function(t,n,e){var r=-1,o=Jm,i=t.length,a=!0,u=[],c=u;if(e)a=!1,o=Qm;else if(i>=200){var l=n?null:ny(t);if(l)return $v(l);a=!1,o=Sv,c=new kv}else c=n?[]:u;t:for(;++r<i;){var s=t[r],f=n?n(s):s;if(s=e||0!==s?s:0,a&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue t;n&&c.push(f),u.push(s)}else o(c,f,e)||(c!==u&&c.push(f),u.push(s))}return u};var ry=function(t){return t&&t.length?ey(t):[]};function oy(t){var n={},e=t.palette,r=t.categoryOrder||[],o=r.length?r:ry(t.values).sort(),i=0;o.forEach((function(r){r&&(n[r]=t.map[r]||(i>=e.length?t.fallback:e[i++]))}));var a=function(e){return n[e]||t.fallback};return a._labels=Object.keys(n),a._colors=a._labels.map((function(t){return n[t]})),a}function iy(t){return(+t).toFixed(function(t){return Math.max(0,String(t-Math.floor(t)).replace(/00000*[0-9]+$/,"").replace(/33333*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2)}(t))}function ay(t){var n,e=t.stops,r=t.mode,o=t.stopCount,i=t.customStops,a=t.values,u=t.rangeMin,c=t.rangeCenter,l=t.rangeMax;if(""!==(n=c)&&null!=n&&"continuous"===r){if("equidistant"===e)return[u,c,l];o++;var s=[],f=[];a.filter((function(t){return t>=u&&t<=l})).forEach((function(t){return(t<c?s:f).push(t)})),s.push(c),iy(f[0])>c&&f.unshift(c);var h=Math.floor((o-1)/2)+1,p=Od(h).map((function(t,n){return n/(h-1)})).map((function(t){return Ed(s,t)})),d=Od(h).map((function(t,n){return n/(h-1)})).map((function(t){return Ed(f,t)}));return p.length+d.length>o?d.shift():d[0]+=1e-7,[].concat(md(p),md(d))}if("continuous"===r&&"equidistant"===e)return[u,l];var g=Math.LOG10E*Math.log(u),v=Math.LOG10E*Math.log(l),m=a.filter((function(t){return t>=u&&t<=l})),y="custom"===e?i.map((function(t){return+t})):"pretty"===e?Ad(u,l,o):"natural"===e?[].concat(md(function(t,n){for(var e=[],r=[],o=[],i=!1,a=0;a<n;a++)e[a]=[];for(var u=Math.round(t.length/(n+1)),c=0;c<n;c++)r[c]=t[u*(c+1)];var l,s,f=20;do{for(var h=0;h<n;h++)e[h].length=0;i=!1;for(var p=-1,d=0;d<t.length;d++){for(var g=-1,v=0;v<n;v++){var m=Math.abs(r[v]-t[d]);(-1===g||m<=g)&&(g=m,p=v)}e[p].push(t[d])}o=r.slice(0);for(var y=0;y<n;y++){for(var b=0,w=0;w<e[y].length;w++)b+=e[y][w];r[y]=b/e[y].length}for(var _=0;_<n;_++)l=r[_],s=o[_],Math.abs(l-s)<1e-6||(i=!0)}while(i&&f-- >0);return e.filter((function(t){return t.length}))}(m,o).map((function(t){return t[0]}))),[l]):"logarithmic"===e?Od(1,o).map((function(t){return Math.pow(10,g+t/o*(v-g))})):"quantiles"===e?Od(0,1.001,1/o).map((function(t){return Ed(m,t)})):Od(u,l+1e-5,(l-u)/o);return["natural","custom"].includes(e)||(iy(y[0])>u&&y.unshift(u),iy(y[y.length-1])<l&&y.push(l)),y}function uy(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function cy(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?uy(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):uy(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function ly(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("categories"===(t=cy(cy({},Gm(Xm)),Gm(t))).mode)return t.margins?sy(t):oy(t);var n=Hm(t.values);t.values.forEach((function(e,r){n[e]>1&&n[e]>.1*n.length&&(t.values[r]+=1e-6*(Math.random()-.5))})),t.values=t.values.filter(Number.isFinite).sort((function(t,n){return t-n}));var e=t.values[0],r=t.values[t.values.length-1];fy(t.rangeMin)&&(t.rangeMin=e),fy(t.rangeMax)&&(t.rangeMax=r),["rangeMin","rangeMax","rangeCenter","stopCount"].forEach((function(n){fy(t[n])||(t[n]=+t[n])})),(t.ranceCenter<=t.rangeMin||t.ranceCenter>=t.rangeMax)&&(t.rangeCenter=""),t.colors&&t.colors.length||(t.colors=[{color:"#ffffff",position:0},{color:"#000000",position:1}]);var o=Fd().domain(t.colors.map((function(t){return t.position}))).range(t.colors.map((function(t){return t.color}))).interpolate(de),i=ay(cy(cy({},t),{},{rangeCenter:"discrete"===t.mode?void 0:t.rangeCenter,stopCount:t.stopCount-("continuous"===t.mode?1:0)}));if("continuous"===t.mode){var a=i.map((function(t,n){return n/(i.length-1)})),u=Fd(i,a).clamp(!0),c=function(t){return o(u(t))+""};return c._limits=fy(t.rangeCenter)?[t.rangeMin,t.rangeMax]:[t.rangeMin,+t.rangeCenter,t.rangeMax],c._stops=i,c}if("discrete"===t.mode){var l=Od(0,1.0001,1/(i.length-2)).map(o);l.unshift(l[0]),l.push(l[l.length-1]);var s=Wd(i,l);return s._stops=i,s._colors=l.slice(1,-1),s}}function sy(t){var n=t.margins.sort((function(t,n){return t-n})),e=[n[0],n[n.length-1]],r=oy(t),o={},i=ay(cy(cy({},t),{},{values:n,rangeMin:e[0],rangeMax:e[1]})),a=Od(i.length-1).map((function(t){return.5*(i[t]+i[t+1])})),u=Fd().domain([a[0],a[a.length-1]]).range([90,20]);function c(t,n){return o[t](n)}return c._stops=i,c._colors={},c._labels=r._labels,c._labels.forEach((function(t){var n=zn(r(t)),e=a.map((function(t){return zn(u(t),n.a,n.b)+""}));o[t]=Wd(i.slice(1,-1),e),c._colors[t]=i.slice(0,-1).map((function(n,e){return o[t](.5*(n+i[e+1]))}))})),c}function fy(t){return""===t||null==t}var hy="ontouchstart"in window||navigator.msMaxTouchPoints;-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Internet Explorer/")>-1||window.navigator.appVersion.indexOf("Trident/7.0");function py(t,n){return t.replace(/{{ *([a-zA-Z0-9_]+) *}}/g,(function(t,e){return n[e]?"{{ ".concat(sd(n[e])," }}"):t}))}function dy(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}bt.prototype.append=_o,bt.prototype.st=No,dw.visualization.register("d3-maps-choropleth","d3-maps-core",(function(){var t,n,e,r,i,a,u,c,l={},f=!1,h={},p=["zoomable","zoom-button-pos","hide-empty-regions"],d=new Map,g=new Map;return{render:function(v,m){if(n)return!1;n=!0;var y=this,b=v,w=y.chart(),_=y.theme(),x=y.size(),M=y.dataset.list(),k=w.getMetadata("data.column-format",{});!function(t,n,e){var r,o=n.visualize,i=void 0===o?{}:o,a=n.data,u=void 0===a?{}:a,c=n.axes,l=void 0===c?{}:c;if(i.gradient||i.categories){var s={mode:"continuous",stops:"quantiles",interpolation:"equidistant",colors:[],rangeMin:"",rangeMax:"",rangeCenter:"",stopCount:5,palette:0,categoryOrder:[],categoryLabels:{},map:{}};if(i.categories&&(s.map=i.categories,delete i.categories),i.gradient){var f=i.gradient;if(f.colors&&(s.colors=f.colors.map((function(t){return{color:t.c,position:t.p}}))),f.stops){var h=f.stops.filter((function(t){return 0===t.p}))[0];h&&(s.rangeMin=h.v);var p=f.stops.filter((function(t){return 1===t.p}))[0];if(p&&(s.rangeMax=p.v),3===f.stops.length){var d=f.stops.filter((function(t){return Math.abs(t.p-.5)<.03}))[0];d&&(s.rangeCenter=d.v),s.interpolation="quantiles-3"}else f.stops.length>3&&(s.interpolation=f.stops.length<6?"quantiles-5":"quantiles-6")}}i.colorscale=s,delete i.gradient}if(i.colorscale&&!i.colorscale.customStops&&(i.colorscale.customStops=["","","","","","","",""]),i.legend&&!i.legend.hideItems&&(i.legend.hideItems=[]),i.tooltip&&void 0===i.tooltip.enabled){var g={enabled:!1,sticky:!0,body:"",title:""};if(i.tooltip){var v=i.tooltip,m=v.title,y=v.body,b=v.fields;(m||y)&&(g.body=b?py(y||"",b):y||"",g.title=b?py(m||"",b):m||"",g.migrated=!0,g.enabled=!0)}i.tooltip=g}if(void 0===i["min-label-zoom"]&&i["map-key-position"]&&(i["min-label-zoom"]=1.5),"d3-maps-choropleth"===t&&i.tooltip&&(l.keys&&(i.tooltip.title=String(i.tooltip.title).replace("%REGION_NAME%","{{ ".concat(sd(l.keys)," }}"))),l.values&&(i.tooltip.body=String(i.tooltip.body).replace("%REGION_VALUE%","{{ ".concat(sd(l.values)," }}")))),i["map-key-position"]){var w="d3-maps-choropleth"===t?"hidden"!==i["map-key-position"]||!1===i["map-key-auto"]&&""===i["map-key-stops"]:!1!==i["show-map-key"];i.legend={enabled:w,orientation:"vertical",position:w?i["map-key-position"]:"mt",title:i["map-key-title"]||"",labelFormat:(r=i["map-key-format"],{"0,0.[00]":"0,0.[00]",f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".2%":"0.00%",".0s":"0a",".1s":"0.0a",".2s":"0.00a",".3s":"0.000a"}[r]||r),size:100,offsetTop:0,offsetLeft:0,labels:"ranges",reverse:!1,interactive:!1},delete i["map-key-position"],delete i["map-key-title"],delete i["map-key-format"],delete i["map-key-position"]}if(void 0===i["zoom-button-pos"]&&(i["zoom-button-pos"]="br"===jl(i,"legend.position")?"tr":"br"),i["cluster-symbols"]){var _=["noverlap","hexbin"].includes(i["cluster-symbols"]);i.clustering={enabled:_,type:_?i["cluster-symbols"]:"noverlap",showCount:jl(i,"cluster-count",!0),gridSize:jl(i,"hexbin-gridsize",15),aggregation:jl(i,"cluster-aggregation","none"),radius:jl(i,"cluster-radius",9),iterations:jl(i,"iterations",1),tolerance:jl(i,"tolerance",0),color:jl(i,"cluster-color",0)},delete i["cluster-color"],delete i["cluster-symbols"],delete i["cluster-count"],delete i["hexbin-gridsize"],delete i["cluster-aggregation"],delete i["cluster-radius"],delete i.iterations,delete i.tolerance}if(null===jl(i,"clustering.aggregationColor")&&jl(i,"clustering.aggregationColor",jl(i,"cluster-aggregation","none")),i["cluster-tooltip"]){var x=jl(i,"cluster-tooltip",{}),M=x.title,k=x.body,A=x.fields;i.clusterTooltip=(M||k)&&A?{enabled:!0,sticky:!0,title:py(M||"",A),body:py(k||"",A),migrated:!0}:{enabled:M||k,sticky:!0,title:M||"",body:k||""},delete i["cluster-tooltip"]}if(i["map-align"]||(i["map-align"]="center"),"d3-maps-symbols"===t&&void 0===i["blend-multiply"]&&(i["blend-multiply"]=!0),e&&l&&!e.hasColumn(l.values)&&delete l.values,l.values&&i["map-key-stops"]&&"number"===e.column(l.values).type()){var S={},E=e.column(l.values).values(),O=!0;i["map-key-stops"].split("\n").forEach((function(t){var n=t.split(",");S[n[0]]=n[1]}));for(var j=0;j<E.length;j++)if("number"==typeof E[j]&&isFinite(E[j])&&void 0===S[E[j]]){O=!1;break}if(O){u["column-format"][l.values]||(u["column-format"][l.values]={}),u["column-format"][l.values].type="text";var $=ly({values:E,mode:"continuous",colors:i.colorscale.colors,stops:i.colorscale.interpolation.split("-")[0],stopCount:+(i.colorscale.interpolation.split("-")[1]||5),rangeMin:i.colorscale.rangeMin,rangeCenter:i.colorscale.rangeCenter,rangeMax:i.colorscale.rangeMax});for(var N in i.colorscale.map={},S)void 0!==N&&""!==N&&(i.colorscale.map[N]=$(Number(N)),i.colorscale.categoryLabels[N]=S[N],i.colorscale.categoryOrder.push(N))}delete i["map-key-stops"]}if(void 0===i["text-annotations"]&&(i["text-annotations"]=[]),void 0===i.labels){var z=Boolean(l.labels);i.labels={},i.labels.enabled=z,i.labels.type=z?"column":"places",i.labels.places=[],i.labels.max=1}}(w.get("type"),w.get("metadata"),y.dataset),this.chart().dataset(!0);var A,S=y.get("zoomable",!0)||y.get("highlighted-series",[]).length>0?y.get("min-label-zoom",1):1,E=y.get("avoid-label-overlap",!0),O=y.axes(),j=(A=w.get("id"),function(t,n){if(window.parent&&window.parent.postMessage){var e={source:"datawrapper",chartId:A,type:t,data:n};window.parent.postMessage(e,"*")}}),$=!e||e!==y.get("basemap","bl");if($||p.forEach((function(t){void 0!==h[t]&&h[t]!==y.get(t)&&($=!0)})),$)p.forEach((function(t){h[t]=y.get(t)})),r=y.size(),i=y.get("max-map-height"),a=y.get("map-align","center"),v.innerHTML="",e=y.get("basemap","bl"),y.initBaseMap(b,e,m,(function(e){(t=e).svgLayers.forEach((function(t){var n=t.id,e=t.selection;g.set(n,e)})),t.canvasLayers.forEach((function(t){var n=t.id,e=t.style,r=t.features;d.set(n,{style:e,features:r})})),t.highlight=function(n){y.get("legend.interactive")&&(c=n,t.canvas?t.draw():g.get("region").style("opacity",(function(t){return!c||T(t)?1:.1})))},L(),n=!1,y.renderingComplete()}));else{if(t.svg){var N=y.size(),z=y.get("max-map-height"),P=y.get("map-align","center");r[0]!==N[0]||r[1]!==N[1]||z!==i||P!==a?(r=N,i=z,a=P,t.resizeMap(N),L()):L()}n=!1,y.renderingComplete()}function L(){var n=[],e=y.colorMap(),r=y.get("highlighted-series"),i=y.libraries().numeral;if(t.setThemeStyles(y.theme(),e),t.setUserPadding(y.get("map-padding",0)/100),t.data){t.clearZoomLayer();var a=y.get("map-key-attr",function(){var t="id",n=JSON.parse(y.chart().asset("".concat(y.get("basemap"),".json"))),e=n.meta.keys?n.meta.keys:null;if(!e)return t;var r=e[0]?e[0].value:null;return r||t}()),h=t.meta.keys.find((function(t){return t.value===a})),p=void 0===h.alphanum||h.alphanum?Qp:td,m=new Map(M.map((function(t){return[p(t[O.keys]),t]})));t.data.forEach((function(t){t.data=m.get(p(t.properties[h.value])),t.data&&n.push(t.data)}));var w=n.map($o(O.values)),A=function(t){var n=t.column,e=t.vis,r=t.values,o=t.theme,i=t.cm,a=jl(o,"colors.gradients.0",["#f0f9e8","#b6e3bb","#75c8c5","#4ba8c9","#2989bd","#0a6aad","#254b8c"]),u=jl(o,"colors.categories.0",["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]),c=a.map((function(t,n){return{color:t,position:n/(a.length-1)}})),l=function(t){return t.join(",").toLowerCase()},f=$l(e.get("colorscale.colors",c)),h=l(f.map((function(t){return t.color}))),p=!1;if(jl(o,"_computed.origGradients")){var d=o._computed.origGradients.findIndex((function(t){return h===l(t)||h===l(t.slice().reverse())}));if(d>-1){var g=o._computed.origGradients[d],v=jl(o,"colors.gradients",[])[d];if(g.length===v.length){p=!0;for(var m=h!==l(o._computed.origGradients[d]),y=0;y<f.length;y++)f[y].color=v[m?f.length-y-1:y]}}}var b=e.get("colorscale.palette",0),w=e.get("colorscale.stopCount",14),_=$l("custom"===e.get("colorscale.stops")?e.get("colorscale.customStops",[]):null);if(Array.isArray(_)){for(var x=1/0,M=-1/0,k=r.length-1;k>=0;k--)r[k]<x&&(x=r[k]),r[k]>M&&(M=r[k]);var A=(_=_.slice(1,w).map((function(t){return+t})))[_.length-1];_=[Math.min(x,_[0])].concat(md(_),[Math.max(M,A)])}var S=f.map((function(t){var n=t.color,e=t.position;return{color:p?n:i(n),position:e}})),E=Object.fromEntries(Object.entries(e.get("colorscale.map",{})).map((function(t){var n=s(t,2),e=n[0],r=n[1];return[e,i(r)]})));return ly("text"===n.type()?{mode:"categories",palette:i(jl(o,"colors.categories",[u])[Number.isFinite(b)?b:0]),values:r,map:E,categoryOrder:e.get("colorscale.categoryOrder",[])}:"discrete"===e.get("colorscale.mode","continuous")?{values:r,mode:"discrete",colors:S,stops:e.get("colorscale.stops","equidistant"),customStops:_,stopCount:w,rangeMin:e.get("colorscale.rangeMin"),rangeCenter:e.get("colorscale.rangeCenter"),rangeMax:e.get("colorscale.rangeMax")}:{values:r,mode:"continuous",colors:S,stops:e.get("colorscale.interpolation","equidistant").split("-")[0],stopCount:+(e.get("colorscale.interpolation","equidistant").split("-")[1]||5),rangeMin:e.get("colorscale.rangeMin"),rangeCenter:e.get("colorscale.rangeCenter"),rangeMax:e.get("colorscale.rangeMax")})}({vis:y,theme:_,column:y.axes(!0).values,values:w,cm:e}),$=t.regionFill;if(y.get("hide-empty-regions")&&(t.canvas?(d.get("region").features.forEach((function(n){t.hasNoData(n)&&(n.__hidden=!0)})),t.zoomVisRegions()):(g.get("gregion").classed("hidden",t.hasNoData),g.get("outlines").classed("hidden",t.hasNoData),t.zoomVisRegions())),t.canvas)t.canvasLayers.find((function(t){return"region"===t.id})).style=function(n){var e=gn(n.fill=t.hasNoData(n)?$:A(n.data[O.values])),r=e.r,o=e.g,i=e.b,a=!c||T(n)?1:.1;return{fill:"rgba(".concat(r,",").concat(o,",").concat(i,",").concat(a,")")}},t.draw();else g.get("region").style("fill",(function(n){return t.hasNoData(n)?n.fill=$:n.fill=A(n.data[O.values])})),g.get("outlines").classed("has-data",(function(n){return!t.hasNoData(n)}));var N,z=y.get("labels.enabled"),P=y.get("labels.type");if(O.labels&&z&&"column"===P){var L,D=jl(_,"vis.d3-maps-choropleth.labels.outline.color.inverted"),C=/<br *\/?>|\n/g,R=y.axes(!0).labels.type();if("number"===R){var B=k[O.labels]||{};L={prepend:B["number-prepend"]||"",append:B["number-append"]||"",minusChar:jl(y.theme(),"typography.chart.minusCharacter","â"),format:y.get("map-label-format","0,0.[00]"),multiply:Math.pow(10,-B["number-divisor"]||0)}}t.data.forEach((function(n){n.__area=t.path.area(n)}));var q=t.data.sort((function(t,n){return n.__area-t.__area})),F=t.g.append("g.labels"),W=F.selectAll("g.label").data(q).enter().append("g.label").classed("inverted",U).each((function(t){var n=t.data&&t.data[O.labels]?"text"===R?t.data[O.labels].replace(/-/g,"- "):qp(i,t.data[O.labels],L):"";t.__lines=(n?n.match(C)?n.trim().split(C):Po(n,10):[]).map((function(t){return"text"===R?t.replace(/- /g,"-"):t}))}));W.append("text.buffer"),W.append("text.label").style("fill",(function(t){return V(t)})),W=F.selectAll("text").filter((function(t){return t.anchor&&isFinite(t.anchor[0])&&isFinite(t.anchor[1])})).translate((function(t){return t.anchor})),y.get("hide-empty-regions")&&W.classed("hidden",t.hasNoData),W.tspans($o("__lines"),12),F.selectAll("g.label").each((function(t){var n=wt(this);n.classed("inverted")&&(n.select("text.label").selectAll("tspan").style("fill",V(t)),n.selectAll("text.buffer").attr("stroke",D?null:e("rgb(50, 50, 50)")))})),t.updateLabelOverlaps(F,"g.label"),W.classed("lbl-hidden",X),t.addZoomLayer("labels",F,W),t.onZoom((function(){t.updateLabelOverlaps(F,"g.label"),W.classed("lbl-hidden",X)}))}z&&"places"===P&&t.renderPlaces();var I=u&&u.title&&(u.title!==y.get("tooltip.title")||u.body!==y.get("tooltip.body"));if((u=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?dy(Object(e),!0).forEach((function(n){o(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):dy(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({},y.get("tooltip",{title:"",body:"",enabled:!1}))).enabled){try{u.template=dw.utils.htmlTemplate((u.title?"<h2>".concat(u.title,"</h2>"):"")+u.body)}catch(n){t.isDatawrapperEditor?u.template=dw.utils.htmlTemplate(hd(n)):u.template=function(){throw new Error}}if((N=wt(b.querySelector(".dw-tooltip"))).node())I&&K(l,!1,!0);else{N=wt(b).append("div.dw-tooltip").style("max-height",.55*x[1]+"px").style("overflow-y","auto");var Y=t.g.append("path.region-outline.hover-outline.has-data").st({vectorEffect:"non-scaling-stroke",strokeWidth:jl(_,"vis.d3-maps-choropleth.borders.hoverOutline.scale",2)*t.SVG_TO_CANVAS_SCALE,strokeLinejoin:"round",fill:"none"}).attr("d","M0,0");if(t.onZoom((function(){Y.datum()&&(Y.attr("d",t.path),Z())})),t.canvas){var H=fd(d.get("region").features,t.mapProj);t.svg.on("mousemove",(function(){if(!f&&(u.enabled||y.get("legend.interactive"))&&!hy){var n=Mt(t.svg.node()),e=t.getZoom().invert(n),r=t.proj.invert(e),o=H(r);o&&o.data&&null!==o.data[O.values]?(u.enabled&&K(o),Y.datum(o).attr("d",t.path),j("region.mouseenter",$l(o.data)),t.onHighlight&&t.onHighlight(o)):(j("region.mouseleave"),t.onHighlight&&t.onHighlight(null),N.style("visibility","hidden"),Y.datum(null).attr("d","M0,0"))}})).on("click",(function(){if(f)return Z();var n=Mt(t.svg.node()),e=t.getZoom().invert(n),r=t.proj.invert(e),o=H(r);o&&j("region.click",$l(o.data)),(y.get("tooltip.sticky")||hy)&&o&&o!==f&&o.data&&null!==o.data[O.values]&&(f=o,N.classed("sticky",!0),Y.datum(o).attr("d",t.path),K(o))}))}else g.get("outlines").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("mouseover",(function(n){f||hy||(K(n),t.onHighlight&&t.onHighlight(n),wt(this).classed("hovered-region",!0))})).on("mousemove",(function(t){f||hy||K(t,!0)})).on("mouseout",(function(){f||hy||(t.onHighlight&&t.onHighlight(null),N.style("visibility","hidden"))})).on("click",(function(n){y.get("tooltip.sticky")&&(""===u.title&&""===u.body||(g.get("outlines").classed("sticky",!1),f===n||t.hasNoData(n)?(f&&t.hasNoData(n)||f===n)&&Z():(wt(this).classed("sticky",!0),f=n,K(n))))})),wt(b).selectAll("rect.background").on("click",Z)}}else{var G=b.querySelector(".dw-tooltip");G&&G.parentNode.removeChild(G)}y.mapKey.update({container:b,colorScale:A,map:t}),t.fixZoom(),t.resizeMap(y.size())}function X(n){return!function(t){return t&&t.data&&r&&r.length&&O.labels&&r.indexOf(t.data[O.labels])>-1}(n)&&(t.scale<S||!!E&&!n._visible)}function U(n){var e=zn(n.fill).l;return t.darkThemeBackground?e>50:e<50}function V(n){var e=U(n),r=t.darkThemeBackground?-1:1;return jl(_,"vis.d3-maps-choropleth.labels.color.".concat(e?"inverted":"normal"),zn(n.fill).darker((e?-4:2.5)*r)+"")}function Z(){f=!1,N.style("visibility","hidden").classed("sticky",!1)}function K(n,e,r){if(l=n,!t.hasNoData(n)&&(""!==u.title||""!==u.body)){if(!e){var o,i=y.libraries().numeral,a={FORMAT:pd.bind(this,i)};!function(t){var n=t.ctx,e=t.columns,r=t.data,o=t.useKeys,i=void 0!==o&&o,a=t.colFmts,u=new Set,c=new Map;e.forEach((function(t){for(var n=sd(t.name()),e=n,r=0;u.has(e);)e="".concat(n,"_").concat(++r);u.add(e),c.set(t.name(),e)})),e.forEach((function(t){var e=sd(t.name()),o=c.get(t.name()),u=a[t.name()]||{},l=Math.pow(10,-u["number-divisor"]||0);if(n[o]=r[i?e:t.name()],"number"===t.type()){n[o]*=l;var f=t.range(),h=s(f,2),p={min:h[0],max:h[1],sum:t.sum(),mean:t.mean(),median:t.median()};Object.keys(p).forEach((function(t){n["".concat(o,"__").concat(t)]=p[t]}))}}))}({ctx:a,columns:y.dataset.columns(),data:n.data,colFmts:k});try{o=u.template(a).replace(/\n\n/g,"<br>")}catch(n){if(!t.isDatawrapperEditor)return;o=hd(n)}var c;if(c=hy?o+'<div class="dw-tooltip-close">&#x2715;</div>':o,""===o)return;N.style("visibility","visible").html(c)}if(N.select(".dw-tooltip-close").on("click",Z),!r){var f=Mt(b),h=v.clientWidth<450?.55:.45;t.sizeTooltip(f,b,N),N.style("max-height",v.clientHeight*h+"px")}}}}function T(t){if(!t.data)return!1;if(void 0!==c.min){var n=t.data[O.values];return n>=c.min&&n<c.max}return c.value?t.data[O.values]===c.value:void 0}},reset:function(){}}}))}();
//# sourceMappingURL=d3-maps-choropleth.js.map
